/*! For license information please see main.cb409a19.js.LICENSE.txt */
(()=>{var e={53:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(87),i=n(6857);let s=null;function a(){var e;if(s)return s;const t=(0,r.W)();return s=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),s=(0,i.u)(s,t),null===(e=t.getExtension("WEBGL_lose_context"))||void 0===e||e.loseContext(),s}},61:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});var r=n(1478),i=n(5682);let s=1;class a{constructor(){this._tasks=[],this._offset=0}init(){i.R.system.add(this._update,this)}repeat(e,t){const n=s++;let r=0;return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&(this._offset+=1e3,r=this._offset),this._tasks.push({func:e,duration:t,start:performance.now(),offset:r,last:performance.now(),repeat:!0,id:n}),n}cancel(e){for(let t=0;t<this._tasks.length;t++)if(this._tasks[t].id===e)return void this._tasks.splice(t,1)}_update(){const e=performance.now();for(let t=0;t<this._tasks.length;t++){const n=this._tasks[t];if(e-n.offset-n.last>=n.duration){const t=e-n.start;n.func(t),n.last=e}}}destroy(){i.R.system.remove(this._update,this),this._tasks.length=0}}a.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem,r.Ag.CanvasSystem],name:"scheduler",priority:0}},66:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});class r{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const t=this.textures[e];this.textures[e]=null,this.ids[t.uid]=null}this.count=0}}},87:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var r=n(9914);let i;function s(){var e;if(!i||null!==(e=i)&&void 0!==e&&e.isContextLost()){const e=r.e.get().createCanvas();i=e.getContext("webgl",{})}return i}},106:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(1478),i=n(4794),s=n(9978);class a extends s.m{constructor(e){super(e,new i.h)}}a.extension={type:[r.Ag.WebGPUPipes],name:"particle"}},119:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var r=n(4811);const i={get isCachedAsTexture(){var e;return!(null===(e=this.renderGroup)||void 0===e||!e.isCachedAsTexture)},cacheAsTexture(e){"boolean"===typeof e&&!1===e?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(!0===e?{}:e))},updateCacheTexture(){var e;null===(e=this.renderGroup)||void 0===e||e.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(e){(0,r.t6)("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(e)}}},131:(e,t,n)=>{"use strict";n.d(t,{u:()=>v});var r=n(7051),i=n(5242),s=n(4307),a=n(9445),o=n(3682),l=n(3276),c=n(879),u=n(4811),d=n(7821),h=n(1915),p=n(5435),f=n(2100),m=n(8306);const g=class e extends m.v{constructor(t){var n,i,s;super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const a=(0,r.A)((0,r.A)({},e.defaultOptions),t);this._textureSize=a.textureSize,this._mipmap=a.mipmap;const o=a.style.clone();a.overrideFill&&(o._fill.color=16777215,o._fill.alpha=1,o._fill.texture=l.g.WHITE,o._fill.fill=null),this.applyFillAsTint=a.overrideFill;const u=o.fontSize;o.fontSize=this.baseMeasurementFontSize;const p=(0,h.Z)(o);a.overrideSize?o._stroke&&(o._stroke.width*=this.baseRenderedFontSize/u):o.fontSize=this.baseRenderedFontSize=u,this._style=o,this._skipKerning=null!==(n=a.skipKerning)&&void 0!==n&&n,this.resolution=null!==(i=a.resolution)&&void 0!==i?i:1,this._padding=null!==(s=a.padding)&&void 0!==s?s:4,a.textureStyle&&(this._textureStyle=a.textureStyle instanceof c.n?a.textureStyle:new c.n(a.textureStyle)),this.fontMetrics=d.P.measureFont(p),this.lineHeight=o.lineHeight||this.fontMetrics.fontSize||o.fontSize}ensureCharacters(e){const t=d.P.graphemeSegmenter(e).filter(e=>!this._currentChars.includes(e)).filter((e,t,n)=>n.indexOf(e)===t);if(!t.length)return;let n;this._currentChars=[...this._currentChars,...t],n=-1===this._currentPageIndex?this._nextPage():this.pages[this._currentPageIndex];let{canvas:r,context:i}=n.canvasAndContext,a=n.texture.source;const o=this._style;let c=this._currentX,u=this._currentY,h=this._currentMaxCharHeight;const p=this.baseRenderedFontSize/this.baseMeasurementFontSize,f=this._padding*p;let m=!1;const g=r.width/this.resolution,v=r.height/this.resolution;for(let S=0;S<t.length;S++){var b,_,x,y;const e=t[S],n=d.P.measureText(e,o,r,!1);n.lineHeight=n.height;const T=n.width*p,w=Math.ceil(("italic"===o.fontStyle?2:1)*T)+2*f,A=n.height*p+2*f;if(m=!1,"\n"!==e&&"\r"!==e&&"\t"!==e&&" "!==e&&(m=!0,h=Math.ceil(Math.max(A,h))),c+w>g&&(u+=h,h=A,c=0,u+h>v)){a.update();const e=this._nextPage();r=e.canvasAndContext.canvas,i=e.canvasAndContext.context,a=e.texture.source,c=0,u=0,h=0}const E=T/p-(null!==(b=null===(_=o.dropShadow)||void 0===_?void 0:_.distance)&&void 0!==b?b:0)-(null!==(x=null===(y=o._stroke)||void 0===y?void 0:y.width)&&void 0!==x?x:0);if(this.chars[e]={id:e.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:E,kerning:{}},m){this._drawGlyph(i,n,c+f,u+f,p,o);const t=a.width*p,r=a.height*p,d=new s.M(c/t*a.width,u/r*a.height,w/t*a.width,A/r*a.height);this.chars[e].texture=new l.g({source:a,frame:d}),c+=Math.ceil(w)}}a.update(),this._currentX=c,this._currentY=u,this._currentMaxCharHeight=h,this._skipKerning&&this._applyKerning(t,i)}get pageTextures(){return(0,u.t6)(u.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,t){const n=this._measureCache;for(let r=0;r<e.length;r++){const i=e[r];for(let e=0;e<this._currentChars.length;e++){const r=this._currentChars[e];let s=n[i];s||(s=n[i]=t.measureText(i).width);let a=n[r];a||(a=n[r]=t.measureText(r).width);let o=t.measureText(i+r).width,l=o-(s+a);l&&(this.chars[i].kerning[r]=l),o=t.measureText(i+r).width,l=o-(s+a),l&&(this.chars[r].kerning[i]=l)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,t=a.N.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(t.context,this._style,e);const n=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),r=new l.g({source:new o.b({resource:t.canvas,resolution:n,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(r.source.style=this._textureStyle);const i={canvasAndContext:t,texture:r};return this.pages[this._currentPageIndex]=i,i}_setupContext(e,t,n){var r;t.fontSize=this.baseRenderedFontSize,e.scale(n,n),e.font=(0,h.Z)(t),t.fontSize=this.baseMeasurementFontSize,e.textBaseline=t.textBaseline;const s=t._stroke,a=null!==(r=null===s||void 0===s?void 0:s.width)&&void 0!==r?r:0;if(s&&(e.lineWidth=a,e.lineJoin=s.join,e.miterLimit=s.miterLimit,e.strokeStyle=(0,p.r)(s,e)),t._fill&&(e.fillStyle=(0,p.r)(t._fill,e)),t.dropShadow){const r=t.dropShadow,s=i.Q.shared.setValue(r.color).toArray(),a=r.blur*n,o=r.distance*n;e.shadowColor="rgba(".concat(255*s[0],",").concat(255*s[1],",").concat(255*s[2],",").concat(r.alpha,")"),e.shadowBlur=a,e.shadowOffsetX=Math.cos(r.angle)*o,e.shadowOffsetY=Math.sin(r.angle)*o}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,t,n,r,i,s){var a;const o=t.text,l=t.fontProperties,c=s._stroke,u=(null!==(a=null===c||void 0===c?void 0:c.width)&&void 0!==a?a:0)*i,d=n+u/2,h=r-u/2,p=l.descent*i,f=t.lineHeight*i;let m=!1;s.stroke&&u&&(m=!0,e.strokeText(o,d,h+f-p));const{shadowBlur:g,shadowOffsetX:v,shadowOffsetY:b}=e;s._fill&&(m&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),e.fillText(o,d,h+f-p)),m&&(e.shadowBlur=g,e.shadowOffsetX=v,e.shadowOffsetY=b)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:t,texture:n}=this.pages[e];a.N.returnCanvasAndContext(t),n.destroy(!0)}this.pages=null}};g.defaultOptions={textureSize:512,style:new f.x,mipmap:!0};let v=g},140:(e,t,n)=>{"use strict";n.d(t,{T:()=>b});var r=n(7051),i=n(2604),s=n(5242),a=n(3596),o=n(1960),l=n(3276),c=n(2026),u=n(4811),d=n(6373),h=n(1070),p=n(5084),f=n(4839);const m=new o.b,g=new a.u,v=class e extends i.A{constructor(){super(...arguments),this.uid=(0,c.L)("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new h.n,this._transform=new a.u,this._fillStyle=(0,r.A)({},e.defaultFillStyle),this._strokeStyle=(0,r.A)({},e.defaultStrokeStyle),this._stateStack=[],this._tick=0,this._bounds=new d.c,this._boundsDirty=!0}clone(){const t=new e;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle=(0,r.A)({},this._fillStyle),t._strokeStyle=(0,r.A)({},this._strokeStyle),t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=(0,f.w)(t,e.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=(0,f.T)(t,e.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=(0,f.w)(t,e.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=(0,f.w)(t,e.defaultStrokeStyle),this}texture(e,t,n,r,i,a){return this.instructions.push({action:"texture",data:{image:e,dx:n||0,dy:r||0,dw:i||e.frame.width,dh:a||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:t?s.Q.shared.setValue(t).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new h.n,this}fill(t,n){let r;const i=this.instructions[this.instructions.length-1];return r=0===this._tick&&i&&"stroke"===i.action?i.data.path:this._activePath.clone(),r?(null!=t&&(void 0!==n&&"number"===typeof t&&((0,u.t6)(u.lj,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:n}),this._fillStyle=(0,f.w)(t,e.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:t}=this._activePath.getLastPoint(o.b.shared);this._activePath.clear(),this._activePath.moveTo(e,t)}stroke(t){let n;const r=this.instructions[this.instructions.length-1];return n=0===this._tick&&r&&"fill"===r.action?r.data.path:this._activePath.clone(),n?(null!=t&&(this._strokeStyle=(0,f.T)(t,e.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const t=this.instructions[this.instructions.length-1-e],n=this._activePath.clone();if(t&&("stroke"===t.action||"fill"===t.action)){if(!t.data.hole){t.data.hole=n;break}t.data.hole.addPath(n)}}return this._initNextPathLocation(),this}arc(e,t,n,r,i,s){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*t+a.tx,a.b*e+a.d*t+a.ty,n,r,i,s),this}arcTo(e,t,n,r,i){this._tick++;const s=this._transform;return this._activePath.arcTo(s.a*e+s.c*t+s.tx,s.b*e+s.d*t+s.ty,s.a*n+s.c*r+s.tx,s.b*n+s.d*r+s.ty,i),this}arcToSvg(e,t,n,r,i,s,a){this._tick++;const o=this._transform;return this._activePath.arcToSvg(e,t,n,r,i,o.a*s+o.c*a+o.tx,o.b*s+o.d*a+o.ty),this}bezierCurveTo(e,t,n,r,i,s,a){this._tick++;const o=this._transform;return this._activePath.bezierCurveTo(o.a*e+o.c*t+o.tx,o.b*e+o.d*t+o.ty,o.a*n+o.c*r+o.tx,o.b*n+o.d*r+o.ty,o.a*i+o.c*s+o.tx,o.b*i+o.d*s+o.ty,a),this}closePath(){var e;return this._tick++,null===(e=this._activePath)||void 0===e||e.closePath(),this}ellipse(e,t,n,r){return this._tick++,this._activePath.ellipse(e,t,n,r,this._transform.clone()),this}circle(e,t,n){return this._tick++,this._activePath.circle(e,t,n,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,t){this._tick++;const n=this._transform;return this._activePath.lineTo(n.a*e+n.c*t+n.tx,n.b*e+n.d*t+n.ty),this}moveTo(e,t){this._tick++;const n=this._transform,r=this._activePath.instructions,i=n.a*e+n.c*t+n.tx,s=n.b*e+n.d*t+n.ty;return 1===r.length&&"moveTo"===r[0].action?(r[0].data[0]=i,r[0].data[1]=s,this):(this._activePath.moveTo(i,s),this)}quadraticCurveTo(e,t,n,r,i){this._tick++;const s=this._transform;return this._activePath.quadraticCurveTo(s.a*e+s.c*t+s.tx,s.b*e+s.d*t+s.ty,s.a*n+s.c*r+s.tx,s.b*n+s.d*r+s.ty,i),this}rect(e,t,n,r){return this._tick++,this._activePath.rect(e,t,n,r,this._transform.clone()),this}roundRect(e,t,n,r,i){return this._tick++,this._activePath.roundRect(e,t,n,r,i,this._transform.clone()),this}poly(e,t){return this._tick++,this._activePath.poly(e,t,this._transform.clone()),this}regularPoly(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;return this._tick++,this._activePath.regularPoly(e,t,n,r,i,s),this}roundPoly(e,t,n,r,i,s){return this._tick++,this._activePath.roundPoly(e,t,n,r,i,s),this}roundShape(e,t,n,r){return this._tick++,this._activePath.roundShape(e,t,n,r),this}filletRect(e,t,n,r,i){return this._tick++,this._activePath.filletRect(e,t,n,r,i),this}chamferRect(e,t,n,r,i,s){return this._tick++,this._activePath.chamferRect(e,t,n,r,i,s),this}star(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return this._tick++,this._activePath.star(e,t,n,r,i,s,this._transform.clone()),this}svg(e){return this._tick++,(0,p.u)(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:(0,r.A)({},this._fillStyle),strokeStyle:(0,r.A)({},this._strokeStyle)}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._transform.scale(e,t),this}setTransform(e,t,n,r,i,s){return e instanceof a.u?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,t,n,r,i,s),this)}transform(e,t,n,r,i,s){return e instanceof a.u?(this._transform.append(e),this):(g.set(e,t,n,r,i,s),this._transform.append(g),this)}translate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._transform.translate(e,t),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const e=this._bounds;e.clear();for(let t=0;t<this.instructions.length;t++){const n=this.instructions[t],r=n.action;if("fill"===r){const t=n.data;e.addBounds(t.path.bounds)}else if("texture"===r){const t=n.data;e.addFrame(t.dx,t.dy,t.dx+t.dw,t.dy+t.dh,t.transform)}if("stroke"===r){const t=n.data,r=t.style.alignment,i=t.style.width*(1-r),s=t.path.bounds;e.addFrame(s.minX-i,s.minY-i,s.maxX+i,s.maxY+i)}}return e}containsPoint(e){if(!this.bounds.containsPoint(e.x,e.y))return!1;const t=this.instructions;let n=!1;for(let i=0;i<t.length;i++){const s=t[i],a=s.data,o=a.path;if(!s.action||!o)continue;const l=a.style,c=o.shapePath.shapePrimitives;for(let t=0;t<c.length;t++){const i=c[t].shape;if(!l||!i)continue;const o=c[t].transform,u=o?o.applyInverse(e,m):e;if("fill"===s.action)n=i.contains(u.x,u.y);else{const e=l;n=i.strokeContains(u.x,u.y,e.width,e.alignment)}const d=a.hole;if(d){var r;const e=null===(r=d.shapePath)||void 0===r?void 0:r.shapePrimitives;if(e)for(let t=0;t<e.length;t++)e[t].shape.contains(u.x,u.y)&&(n=!1)}if(n)return!0}}return n}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners();if("boolean"===typeof e?e:null===e||void 0===e?void 0:e.texture){const t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(t)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(t))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};v.defaultFillStyle={color:16777215,alpha:1,texture:l.g.WHITE,matrix:null,fill:null,textureSpace:"local"},v.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:l.g.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let b=v},193:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,a,o){let l=Math.abs(i-s);(!a&&i>s||a&&s>i)&&(l=2*Math.PI-l),o||(o=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(l/Math.PI))));let c=l/(o=Math.max(o,3)),u=i;c*=a?-1:1;for(let d=0;d<o+1;d++){const i=t+Math.cos(u)*r,s=n+Math.sin(u)*r;e.push(i,s),u+=c}}n.d(t,{t:()=>r})},207:(e,t,n)=>{"use strict";n.d(t,{r:()=>p});var r=n(1478),i=n(3596),s=n(9530),a=n(6220),o=n(3144),l=n(1193),c=n(454),u=n(4994),d=n(3636),h=n(6538);class p{constructor(){this._maxTextures=0}contextChange(e){const t=new h.k({uTransformMatrix:{value:new i.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}});this._maxTextures=e.limits.maxBatchableTextures;const n=(0,a.v)({name:"graphics",bits:[o.F,(0,l._)(this._maxTextures),c._Q,u.b]});this.shader=new d.M({gpuProgram:n,resources:{localUniforms:t}})}execute(e,t){const n=t.context,r=n.customShader||this.shader,i=e.renderer,a=i.graphicsContext,{batcher:o,instructions:l}=a.getContextRenderData(n),c=i.encoder;c.setGeometry(o.geometry,r.gpuProgram);const u=i.globalUniforms.bindGroup;c.setBindGroup(0,u,r.gpuProgram);const d=i.renderPipes.uniformBatch.getUniformBindGroup(r.resources.localUniforms,!0);c.setBindGroup(2,d,r.gpuProgram);const h=l.instructions;let p=null;for(let f=0;f<l.instructionSize;f++){const t=h[f];if(t.topology!==p&&(p=t.topology,c.setPipelineFromGeometryProgramAndState(o.geometry,r.gpuProgram,e.state,t.topology)),r.groups[1]=t.bindGroup,!t.gpuBindGroup){const e=t.textures;t.bindGroup=(0,s.w)(e.textures,e.count,this._maxTextures),t.gpuBindGroup=i.bindGroup.getBindGroup(t.bindGroup,r.gpuProgram,1)}c.setBindGroup(1,t.bindGroup,r.gpuProgram),c.renderPassEncoder.drawIndexed(t.size,1,t.start)}}destroy(){this.shader.destroy(!0),this.shader=null}}p.extension={type:[r.Ag.WebGPUPipesAdaptor],name:"graphics"}},209:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(1478);class i{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.gl.colorMask(!!(8&e),!!(4&e),!!(2&e),!!(1&e)))}}i.extension={type:[r.Ag.WebGLSystem],name:"colorMask"}},248:(e,t,n)=>{"use strict";var r=n(8923).freeze;t.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=r({Aacute:"\xc1",aacute:"\xe1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",Acy:"\u0410",acy:"\u0430",AElig:"\xc6",aelig:"\xe6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",AMP:"&",amp:"&",And:"\u2a53",and:"\u2227",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\xc5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",aopf:"\ud835\udd52",ap:"\u2248",apacir:"\u2a6f",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\xc5",aring:"\xe5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250c",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252c",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxUL:"\u255d",boxUl:"\u255c",boxuL:"\u255b",boxul:"\u2518",boxUR:"\u255a",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256c",boxVh:"\u256b",boxvH:"\u256a",boxvh:"\u253c",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255f",boxvR:"\u255e",boxvr:"\u251c",bprime:"\u2035",Breve:"\u02d8",breve:"\u02d8",brvbar:"\xa6",Bscr:"\u212c",bscr:"\ud835\udcb7",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22d2",cap:"\u2229",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\xc7",ccedil:"\xe7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\xb8",Cedilla:"\xb8",cemptyv:"\u29b2",cent:"\xa2",CenterDot:"\xb7",centerdot:"\xb7",Cfr:"\u212d",cfr:"\ud835\udd20",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03a7",chi:"\u03c7",cir:"\u25cb",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\xae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",Conint:"\u222f",conint:"\u222e",ContourIntegral:"\u222e",Copf:"\u2102",copf:"\ud835\udd54",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xa9",copy:"\xa9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",Cross:"\u2a2f",cross:"\u2717",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",Cup:"\u22d3",cup:"\u222a",cupbrcap:"\u2a48",CupCap:"\u224d",cupcap:"\u2a46",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\xa4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21a1",dArr:"\u21d3",darr:"\u2193",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21ca",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\xb0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\xb4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",Diamond:"\u22c4",diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\xa8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",Dot:"\xa8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\xa8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21d3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",DownTeeArrow:"\u21a7",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\xc9",eacute:"\xe9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",ecir:"\u2256",Ecirc:"\xca",ecirc:"\xea",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\xc8",egrave:"\xe8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212f",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",ForAll:"\u2200",forall:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",fpartint:"\u2a0d",frac12:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\ud835\udcbb",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",ges:"\u2a7e",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",Gg:"\u22d9",gg:"\u226b",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2aa5",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gnE:"\u2269",gne:"\u2a88",gneq:"\u2a88",gneqq:"\u2269",gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",Gt:"\u226b",GT:">",gt:">",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\xbd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",hArr:"\u21d4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",Hfr:"\u210c",hfr:"\ud835\udd25",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",Hopf:"\u210d",hopf:"\ud835\udd59",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210b",hscr:"\ud835\udcbd",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xcd",iacute:"\xed",ic:"\u2063",Icirc:"\xce",icirc:"\xee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xa1",iff:"\u21d4",Ifr:"\u2111",ifr:"\ud835\udd26",Igrave:"\xcc",igrave:"\xec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",in:"\u2208",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",Int:"\u222c",int:"\u222b",intcal:"\u22ba",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\xbf",Iscr:"\u2110",iscr:"\ud835\udcbe",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xcf",iuml:"\xef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",lambda:"\u03bb",Lang:"\u27ea",lang:"\u27e8",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\xab",Larr:"\u219e",lArr:"\u21d0",larr:"\u2190",larrb:"\u21e4",larrbfs:"\u291f",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",lat:"\u2aab",lAtail:"\u291b",latail:"\u2919",late:"\u2aad",lates:"\u2aad\ufe00",lBarr:"\u290e",lbarr:"\u290c",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27e8",LeftArrow:"\u2190",Leftarrow:"\u21d0",leftarrow:"\u2190",LeftArrowBar:"\u21e4",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrow:"\u2194",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTee:"\u22a3",LeftTeeArrow:"\u21a4",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangle:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",LeftVectorBar:"\u2952",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",les:"\u2a7d",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22d8",ll:"\u226a",llarr:"\u21c7",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoust:"\u23b0",lmoustache:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lnE:"\u2268",lne:"\u2a87",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftarrow:"\u27f5",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longleftrightarrow:"\u27f7",longmapsto:"\u27fc",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",longrightarrow:"\u27f6",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\ud835\udcc1",Lsh:"\u21b0",lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226a",LT:"<",lt:"<",ltcc:"\u2aa6",ltcir:"\u2a79",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\xb5",mid:"\u2223",midast:"*",midcir:"\u2af0",middot:"\xb7",minus:"\u2212",minusb:"\u229f",minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",Mscr:"\u2133",mscr:"\ud835\udcc2",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266e",natural:"\u266e",naturals:"\u2115",nbsp:"\xa0",nbump:"\u224e\u0338",nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21d7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nhArr:"\u21ce",nharr:"\u21ae",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlArr:"\u21cd",nlarr:"\u219a",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21cd",nleftarrow:"\u219a",nLeftrightarrow:"\u21ce",nleftrightarrow:"\u21ae",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xa0",Nopf:"\u2115",nopf:"\ud835\udd5f",Not:"\u2aec",not:"\xac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangle:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangle:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",npre:"\u2aaf\u0338",nprec:"\u2280",npreceq:"\u2aaf\u0338",nrArr:"\u21cf",nrarr:"\u219b",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nRightarrow:"\u21cf",nrightarrow:"\u219b",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\xd1",ntilde:"\xf1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",nVDash:"\u22af",nVdash:"\u22ae",nvDash:"\u22ad",nvdash:"\u22ac",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwArr:"\u21d6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xd3",oacute:"\xf3",oast:"\u229b",ocir:"\u229a",Ocirc:"\xd4",ocirc:"\xf4",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\xd2",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",Or:"\u2a54",or:"\u2228",orarr:"\u21bb",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\xd8",oslash:"\xf8",osol:"\u2298",Otilde:"\xd5",otilde:"\xf5",Otimes:"\u2a37",otimes:"\u2297",otimesas:"\u2a36",Ouml:"\xd6",ouml:"\xf6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",par:"\u2225",para:"\xb6",parallel:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plus:"+",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plusdo:"\u2214",plusdu:"\u2a25",pluse:"\u2a72",PlusMinus:"\xb1",plusmn:"\xb1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\xb1",Poincareplane:"\u210c",pointint:"\u2a15",Popf:"\u2119",popf:"\ud835\udd61",pound:"\xa3",Pr:"\u2abb",pr:"\u227a",prap:"\u2ab7",prcue:"\u227c",prE:"\u2ab3",pre:"\u2aaf",prec:"\u227a",precapprox:"\u2ab7",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",precsim:"\u227e",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportion:"\u2237",Proportional:"\u221d",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",Qopf:"\u211a",qopf:"\ud835\udd62",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",QUOT:'"',quot:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",Rang:"\u27eb",rang:"\u27e9",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\xbb",Rarr:"\u21a0",rArr:"\u21d2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",rAtail:"\u291c",ratail:"\u291a",ratio:"\u2236",rationals:"\u211a",RBarr:"\u2910",rBarr:"\u290f",rbarr:"\u290d",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",Re:"\u211c",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",rect:"\u25ad",REG:"\xae",reg:"\xae",ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",Rfr:"\u211c",rfr:"\ud835\udd2f",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrow:"\u2192",Rightarrow:"\u21d2",rightarrow:"\u2192",RightArrowBar:"\u21e5",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTee:"\u22a2",RightTeeArrow:"\u21a6",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangle:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",RightVectorBar:"\u2953",ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",Ropf:"\u211d",ropf:"\ud835\udd63",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",Rscr:"\u211b",rscr:"\ud835\udcc7",Rsh:"\u21b1",rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",Sc:"\u2abc",sc:"\u227b",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227d",scE:"\u2ab4",sce:"\u2ab0",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdot:"\u22c5",sdotb:"\u22a1",sdote:"\u2a66",searhk:"\u2925",seArr:"\u21d8",searr:"\u2198",searrow:"\u2198",sect:"\xa7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",sol:"/",solb:"\u29c4",solbar:"\u233f",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25a1",Square:"\u25a1",square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\xaf",Sub:"\u22d0",sub:"\u2282",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",Subset:"\u22d0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succ:"\u227b",succapprox:"\u2ab8",succcurlyeq:"\u227d",Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",Sum:"\u2211",sum:"\u2211",sung:"\u266a",Sup:"\u22d1",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supne:"\u228b",supplus:"\u2ac0",Supset:"\u22d1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swArr:"\u21d9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292a",szlig:"\xdf",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\xde",thorn:"\xfe",Tilde:"\u223c",tilde:"\u02dc",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xd7",timesb:"\u22a0",timesbar:"\u2a31",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",top:"\u22a4",topbot:"\u2336",topcir:"\u2af1",Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\xda",uacute:"\xfa",Uarr:"\u219f",uArr:"\u21d1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\xdb",ucirc:"\xfb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\xd9",ugrave:"\xf9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\xa8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrow:"\u2191",Uparrow:"\u21d1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",UpDownArrow:"\u2195",Updownarrow:"\u21d5",updownarrow:"\u2195",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03d2",upsi:"\u03c5",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTee:"\u22a5",UpTeeArrow:"\u21a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\xdc",uuml:"\xfc",uwangle:"\u29a7",vangrt:"\u299c",varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",vArr:"\u21d5",varr:"\u2195",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",Vbar:"\u2aeb",vBar:"\u2ae8",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22ab",Vdash:"\u22a9",vDash:"\u22a8",vdash:"\u22a2",Vdashl:"\u2ae6",Vee:"\u22c1",vee:"\u2228",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",Wedge:"\u22c0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xhArr:"\u27fa",xharr:"\u27f7",Xi:"\u039e",xi:"\u03be",xlArr:"\u27f8",xlarr:"\u27f5",xmap:"\u27fc",xnis:"\u22fb",xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrArr:"\u27f9",xrarr:"\u27f6",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\xdd",yacute:"\xfd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\xa5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",YUcy:"\u042e",yucy:"\u044e",Yuml:"\u0178",yuml:"\xff",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",Zfr:"\u2128",zfr:"\ud835\udd37",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",Zopf:"\u2124",zopf:"\ud835\udd6b",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}),t.entityMap=t.HTML_ENTITIES},249:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(7393),i=n(1447);function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s={},a=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let l=0;l<a;l++){const n=t.getActiveAttrib(e,l);if(n.name.startsWith("gl_"))continue;const a=(0,i.E)(t,n.type);s[n.name]={location:0,format:a,stride:(0,r.m)(a).stride,offset:0,instance:!1,start:0}}const o=Object.keys(s);if(n){o.sort((e,t)=>e>t?1:-1);for(let n=0;n<o.length;n++)s[o[n]].location=n,t.bindAttribLocation(e,n,o[n]);t.linkProgram(e)}else for(let r=0;r<o.length;r++)s[o[r]].location=t.getAttribLocation(e,o[r]);return s}},279:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});let r=0;const i=500;function s(){if(r!==i)if(r++,r===i)console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS.");else{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn("PixiJS Warning: ",...t)}}},285:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});class r{constructor(e,t){this._lastBindBaseLocation=-1,this._lastBindCallId=-1,this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.type=t}}},347:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(2026);class i{constructor(){this.uid=(0,r.L)("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}},348:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(7051),i=n(2026),s=n(6904),a=n(3276);const o=class e{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.uid=(0,i.L)("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,t=(0,r.A)((0,r.A)({},e.defaultOptions),t),this.stencil=t.stencil,this.depth=t.depth,this.isRoot=t.isRoot,"number"===typeof t.colorTextures){this._managedColorTextures=!0;for(let e=0;e<t.colorTextures;e++)this.colorTextures.push(new s.v({width:t.width,height:t.height,resolution:t.resolution,antialias:t.antialias}))}else{this.colorTextures=[...t.colorTextures.map(e=>e.source)];const e=this.colorTexture.source;this.resize(e.width,e.height,e._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(t.depthStencilTexture||this.stencil)&&(t.depthStencilTexture instanceof a.g||t.depthStencilTexture instanceof s.v?this.depthStencilTexture=t.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new s.v({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.resolution,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.dirtyId++,this.colorTextures.forEach((i,s)=>{r&&0===s||i.source.resize(e,t,n)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,t,n)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(e=>{e.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};o.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let l=o},353:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r="\nstruct ParticleUniforms {\n  uProjectionMatrix:mat3x3<f32>,\n  uColor:vec4<f32>,\n  uResolution:vec2<f32>,\n  uRoundPixels:f32,\n};\n\n@group(0) @binding(0) var<uniform> uniforms: ParticleUniforms;\n\n@group(1) @binding(0) var uTexture: texture_2d<f32>;\n@group(1) @binding(1) var uSampler : sampler;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) color : vec4<f32>,\n  };\n@vertex\nfn mainVertex(\n  @location(0) aVertex: vec2<f32>,\n  @location(1) aPosition: vec2<f32>,\n  @location(2) aUV: vec2<f32>,\n  @location(3) aColor: vec4<f32>,\n  @location(4) aRotation: f32,\n) -> VSOutput {\n  \n   let v = vec2(\n       aVertex.x * cos(aRotation) - aVertex.y * sin(aRotation),\n       aVertex.x * sin(aRotation) + aVertex.y * cos(aRotation)\n   ) + aPosition;\n\n   let position = vec4((uniforms.uProjectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    let vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uniforms.uColor;\n\n  return VSOutput(\n   position,\n   aUV,\n   vColor,\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) color: vec4<f32>,\n  @builtin(position) position: vec4<f32>,\n) -> @location(0) vec4<f32> {\n\n    var sample = textureSample(uTexture, uSampler, uv) * color;\n   \n    return sample;\n}"},356:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(3596),i=n(4307),s=n(4325);const a=new r.u,o=new i.M;function l(e,t,n,r){const i=t.matrix?e.copyFrom(t.matrix).invert():e.identity();if("local"===t.textureSpace){const e=n.getBounds(o);t.width&&e.pad(t.width);const{x:r,y:s}=e,a=1/e.width,l=1/e.height,c=-r*a,u=-s*l,d=i.a,h=i.b,p=i.c,f=i.d;i.a*=a,i.b*=a,i.c*=l,i.d*=l,i.tx=c*d+u*p+i.tx,i.ty=c*h+u*f+i.ty}else i.translate(t.texture.frame.x,t.texture.frame.y),i.scale(1/t.texture.source.width,1/t.texture.source.height);const l=t.texture.source.style;return t.fill instanceof s._||"clamp-to-edge"!==l.addressMode||(l.addressMode="repeat",l.update()),r&&i.append(a.copyFrom(r).invert()),i}},359:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var r=n(7051),i=n(1478);class s{constructor(e){this._boundBindGroup=Object.create(null),this._boundVertexBuffer=Object.create(null),this._renderer=e}renderStart(){this.commandFinished=new Promise(e=>{this._resolveCommandFinished=e}),this.commandEncoder=this._renderer.gpu.device.createCommandEncoder()}beginRenderPass(e){this.endRenderPass(),this._clearCache(),this.renderPassEncoder=this.commandEncoder.beginRenderPass(e.descriptor)}endRenderPass(){this.renderPassEncoder&&this.renderPassEncoder.end(),this.renderPassEncoder=null}setViewport(e){this.renderPassEncoder.setViewport(e.x,e.y,e.width,e.height,0,1)}setPipelineFromGeometryProgramAndState(e,t,n,r){const i=this._renderer.pipeline.getPipeline(e,t,n,r);this.setPipeline(i)}setPipeline(e){this._boundPipeline!==e&&(this._boundPipeline=e,this.renderPassEncoder.setPipeline(e))}_setVertexBuffer(e,t){this._boundVertexBuffer[e]!==t&&(this._boundVertexBuffer[e]=t,this.renderPassEncoder.setVertexBuffer(e,this._renderer.buffer.updateBuffer(t)))}_setIndexBuffer(e){if(this._boundIndexBuffer===e)return;this._boundIndexBuffer=e;const t=2===e.data.BYTES_PER_ELEMENT?"uint16":"uint32";this.renderPassEncoder.setIndexBuffer(this._renderer.buffer.updateBuffer(e),t)}resetBindGroup(e){this._boundBindGroup[e]=null}setBindGroup(e,t,n){if(this._boundBindGroup[e]===t)return;this._boundBindGroup[e]=t,t._touch(this._renderer.textureGC.count);const r=this._renderer.bindGroup.getBindGroup(t,n,e);this.renderPassEncoder.setBindGroup(e,r)}setGeometry(e,t){const n=this._renderer.pipeline.getBufferNamesToBind(e,t);for(const r in n)this._setVertexBuffer(r,e.attributes[n[r]].buffer);e.indexBuffer&&this._setIndexBuffer(e.indexBuffer)}_setShaderBindGroups(e,t){for(const n in e.groups){const r=e.groups[n];t||this._syncBindGroup(r),this.setBindGroup(n,r,e.gpuProgram)}}_syncBindGroup(e){for(const t in e.resources){const n=e.resources[t];n.isUniformGroup&&this._renderer.ubo.updateUniformGroup(n)}}draw(e){const{geometry:t,shader:n,state:r,topology:i,size:s,start:a,instanceCount:o,skipSync:l}=e;this.setPipelineFromGeometryProgramAndState(t,n.gpuProgram,r,i),this.setGeometry(t,n.gpuProgram),this._setShaderBindGroups(n,l),t.indexBuffer?this.renderPassEncoder.drawIndexed(s||t.indexBuffer.data.length,null!==o&&void 0!==o?o:t.instanceCount,a||0):this.renderPassEncoder.draw(s||t.getSize(),null!==o&&void 0!==o?o:t.instanceCount,a||0)}finishRenderPass(){this.renderPassEncoder&&(this.renderPassEncoder.end(),this.renderPassEncoder=null)}postrender(){this.finishRenderPass(),this._gpu.device.queue.submit([this.commandEncoder.finish()]),this._resolveCommandFinished(),this.commandEncoder=null}restoreRenderPass(){const e=this._renderer.renderTarget.adaptor.getDescriptor(this._renderer.renderTarget.renderTarget,!1,[0,0,0,1]);this.renderPassEncoder=this.commandEncoder.beginRenderPass(e);const t=this._boundPipeline,n=(0,r.A)({},this._boundVertexBuffer),i=this._boundIndexBuffer,s=(0,r.A)({},this._boundBindGroup);this._clearCache();const a=this._renderer.renderTarget.viewport;this.renderPassEncoder.setViewport(a.x,a.y,a.width,a.height,0,1),this.setPipeline(t);for(const r in n)this._setVertexBuffer(r,n[r]);for(const r in s)this.setBindGroup(r,s[r],null);this._setIndexBuffer(i)}_clearCache(){for(let e=0;e<16;e++)this._boundBindGroup[e]=null,this._boundVertexBuffer[e]=null;this._boundIndexBuffer=null,this._boundPipeline=null}destroy(){this._renderer=null,this._gpu=null,this._boundBindGroup=null,this._boundVertexBuffer=null,this._boundIndexBuffer=null,this._boundPipeline=null}contextChange(e){this._gpu=e}}s.extension={type:[i.Ag.WebGPUSystem],name:"encoder",priority:1}},366:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});var r=(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(r||{})},446:(e,t,n)=>{"use strict";function r(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}n.d(t,{R:()=>r})},454:(e,t,n)=>{"use strict";n.d(t,{Ls:()=>i,_Q:()=>s,mA:()=>a});var r=n(7051);const i={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},s=(0,r.A)((0,r.A)({},i),{},{vertex:(0,r.A)((0,r.A)({},i.vertex),{},{header:i.vertex.header.replace("group(1)","group(2)")})}),a={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},475:(e,t,n)=>{"use strict";n.d(t,{U:()=>r});class r{constructor(){this.batcherName="default",this.packAsQuad=!1,this.indexOffset=0,this.attributeOffset=0,this.roundPixels=0,this._batcher=null,this._batch=null,this._textureMatrixUpdateId=-1,this._uvUpdateId=-1}get blendMode(){return this.renderable.groupBlendMode}get topology(){return this._topology||this.geometry.topology}set topology(e){this._topology=e}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.geometry=null,this._uvUpdateId=-1,this._textureMatrixUpdateId=-1}setTexture(e){this.texture!==e&&(this.texture=e,this._textureMatrixUpdateId=-1)}get uvs(){const e=this.geometry.getBuffer("aUV"),t=e.data;let n=t;const r=this.texture.textureMatrix;return r.isSimple||(n=this._transformedUvs,this._textureMatrixUpdateId===r._updateID&&this._uvUpdateId===e._updateID||((!n||n.length<t.length)&&(n=this._transformedUvs=new Float32Array(t.length)),this._textureMatrixUpdateId=r._updateID,this._uvUpdateId=e._updateID,r.multiplyUvs(t,n))),n}get positions(){return this.geometry.positions}get indices(){return this.geometry.indices}get color(){return this.renderable.groupColorAlpha}get groupTransform(){return this.renderable.groupTransform}get attributeSize(){return this.geometry.positions.length/2}get indexSize(){return this.geometry.indices.length}}},576:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});const r={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},i=class e{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}set cullMode(e){"none"!==e?(this.culling=!0,this.clockwiseFrontFace="front"===e):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend="none"!==e,this._blendMode=e,this._blendModeId=r[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return"[pixi.js/core:State blendMode=".concat(this.blendMode," clockwiseFrontFace=").concat(this.clockwiseFrontFace," culling=").concat(this.culling," depthMask=").concat(this.depthMask," polygonOffset=").concat(this.polygonOffset,"]")}static for2d(){const t=new e;return t.depthTest=!1,t.blend=!0,t}};i.default2d=i.for2d();let s=i},579:(e,t,n)=>{"use strict";e.exports=n(1153)},607:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var r=n(1478),i=n(9194),s=n(6922),a=n(2864);class o extends i.W{constructor(){super({createUboElements:s.V,generateUboSync:a.v})}}o.extension={type:[r.Ag.WebGPUSystem],name:"ubo"}},616:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var r=n(3596),i=n(6373),s=n(8263);const a=new r.u,o={getFastGlobalBounds(e,t){t||(t=new i.c),t.clear(),this._getGlobalBoundsRecursive(!!e,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(n.worldTransform),t},_getGlobalBoundsRecursive(e,t,n){let r=t;if(e&&this.parentRenderLayer&&this.parentRenderLayer!==n)return;if(7!==this.localDisplayStatus||!this.measurable)return;const i=!!this.effects.length;if((this.renderGroup||i)&&(r=s.o.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const e=this.bounds;r.addFrame(e.minX,e.minY,e.maxX,e.maxY,this.groupTransform)}const t=this.children;for(let i=0;i<t.length;i++)t[i]._getGlobalBoundsRecursive(e,r,n)}if(i){let e=!1;const n=this.renderGroup||this.parentRenderGroup;for(let t=0;t<this.effects.length;t++)this.effects[t].addBounds&&(e||(e=!0,r.applyMatrix(n.worldTransform)),this.effects[t].addBounds(r,!0));e&&r.applyMatrix(n.worldTransform.copyTo(a).invert()),t.addBounds(r),s.o.return(r)}else this.renderGroup&&(t.addBounds(r,this.relativeGroupTransform),s.o.return(r))}}},618:(e,t,n)=>{"use strict";n.d(t,{y:()=>m});var r=n(7051),i=n(5242),s=n(1478),a=n(3596),o=n(4307),l=n(6373),c=n(1232),u=n(7385),d=n(7736);const h=new o.M,p=new l.c,f=[0,0,0,0];class m{constructor(e){this._renderer=e}generateTexture(e){var t;e instanceof u.mc&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const n=e.resolution||this._renderer.resolution,s=e.antialias||this._renderer.view.antialias,o=e.target;let l=e.clearColor;if(l){l=Array.isArray(l)&&4===l.length?l:i.Q.shared.setValue(l).toArray()}else l=f;const m=(null===(t=e.frame)||void 0===t?void 0:t.copyTo(h))||(0,c.n)(o,p).rectangle;m.width=0|Math.max(m.width,1/n),m.height=0|Math.max(m.height,1/n);const g=d.Y.create((0,r.A)((0,r.A)({},e.textureSourceOptions),{},{width:m.width,height:m.height,resolution:n,antialias:s})),v=a.u.shared.translate(-m.x,-m.y);return this._renderer.render({container:o,transform:v,target:g,clearColor:l}),g.source.updateMipmaps(),g}destroy(){this._renderer=null}}m.extension={type:[s.Ag.WebGLSystem,s.Ag.WebGPUSystem],name:"textureGenerator"}},663:(e,t,n)=>{"use strict";function r(e,t,n){const r=e.getAttribute(t);if(!r)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const i=r.buffer.data;let s=1/0,a=1/0,o=-1/0,l=-1/0;const c=i.BYTES_PER_ELEMENT,u=(r.offset||0)/c,d=(r.stride||8)/c;for(let h=u;h<i.length;h+=d){const e=i[h],t=i[h+1];e>o&&(o=e),t>l&&(l=t),e<s&&(s=e),t<a&&(a=t)}return n.minX=s,n.minY=a,n.maxX=o,n.maxY=l,n}n.d(t,{U:()=>r})},680:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2158);class i extends r._{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}},794:(e,t,n)=>{"use strict";function r(e,t){const n=e.anchor.x,r=e.anchor.y;t[0]=-n*e.width,t[1]=-r*e.height,t[2]=(1-n)*e.width,t[3]=-r*e.height,t[4]=(1-n)*e.width,t[5]=(1-r)*e.height,t[6]=-n*e.width,t[7]=(1-r)*e.height}n.d(t,{t:()=>r})},798:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var r=n(7616);async function i(e,t){const n=await(0,r.x)(t);return'@font-face {\n        font-family: "'.concat(e.fontFamily,'";\n        font-weight: ').concat(e.fontWeight,";\n        font-style: ").concat(e.fontStyle,";\n        src: url('").concat(n,"');\n    }")}},801:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});const r=Object.create(null),i=Object.create(null);function s(e,t){let n=i[e];return void 0===n&&(void 0===r[t]&&(r[t]=1),i[e]=n=r[t]++),n}},818:(e,t,n)=>{"use strict";n.d(t,{V:()=>c});var r=n(2604),i=n(6373),s=n(2026),a=n(5202),o=n(8980),l=n(663);class c extends r.A{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.uid=(0,s.L)("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new i.c,this._boundsDirty=!0;const{attributes:n,indexBuffer:r,topology:a}=t;if(this.buffers=[],this.attributes={},n)for(const i in n)this.addAttribute(i,n[i]);this.instanceCount=null!==(e=t.instanceCount)&&void 0!==e?e:1,r&&this.addIndex(r),this.topology=a||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const t=this.attributes[e];return t.buffer.data.length/(t.stride/4||t.size)}return 0}addAttribute(e,t){const n=function(e){return(e instanceof a.h||Array.isArray(e)||e.BYTES_PER_ELEMENT)&&(e={buffer:e}),e.buffer=(0,o.b)(e.buffer,!1),e}(t);-1===this.buffers.indexOf(n.buffer)&&(this.buffers.push(n.buffer),n.buffer.on("update",this.onBufferUpdate,this),n.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=n}addIndex(e){this.indexBuffer=(0,o.b)(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,(0,l.U)(this,"aPosition",this._bounds)):this._bounds}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(e=>e.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}},879:(e,t,n)=>{"use strict";n.d(t,{n:()=>c});var r=n(7051),i=n(2604),s=n(2026),a=n(4811);const o=Object.create(null);const l=class e extends i.A{constructor(){var t,n,i,s,a,o,l;let c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,c=(0,r.A)((0,r.A)({},e.defaultOptions),c),this.addressMode=c.addressMode,this.addressModeU=null!==(t=c.addressModeU)&&void 0!==t?t:this.addressModeU,this.addressModeV=null!==(n=c.addressModeV)&&void 0!==n?n:this.addressModeV,this.addressModeW=null!==(i=c.addressModeW)&&void 0!==i?i:this.addressModeW,this.scaleMode=c.scaleMode,this.magFilter=null!==(s=c.magFilter)&&void 0!==s?s:this.magFilter,this.minFilter=null!==(a=c.minFilter)&&void 0!==a?a:this.minFilter,this.mipmapFilter=null!==(o=c.mipmapFilter)&&void 0!==o?o:this.mipmapFilter,this.lodMinClamp=c.lodMinClamp,this.lodMaxClamp=c.lodMaxClamp,this.compare=c.compare,this.maxAnisotropy=null!==(l=c.maxAnisotropy)&&void 0!==l?l:1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){(0,a.t6)(a.lj,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e="".concat(this.addressModeU,"-").concat(this.addressModeV,"-").concat(this.addressModeW,"-").concat(this.magFilter,"-").concat(this.minFilter,"-").concat(this.mipmapFilter,"-").concat(this.lodMinClamp,"-").concat(this.lodMaxClamp,"-").concat(this.compare,"-").concat(this._maxAnisotropy);return this._sharedResourceId=function(e){const t=o[e];return void 0===t&&(o[e]=(0,s.L)("resource")),t}(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};l.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let c=l},882:(e,t,n)=>{"use strict";function r(e){const t=e.length;if(t<6)return 1;let n=0;for(let r=0,i=e[t-2],s=e[t-1];r<t;r+=2){const t=e[r],a=e[r+1];n+=(t-i)*(a+s),i=t,s=a}return n<0?-1:1}n.d(t,{v:()=>r})},909:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(4100),i=n(279);function s(e,t){const n=r(e),s=[];let a=null,o=0,l=0;for(let r=0;r<n.length;r++){const e=n[r],c=e[0],u=e;switch(c){case"M":o=u[1],l=u[2],t.moveTo(o,l);break;case"m":o+=u[1],l+=u[2],t.moveTo(o,l);break;case"H":o=u[1],t.lineTo(o,l);break;case"h":o+=u[1],t.lineTo(o,l);break;case"V":l=u[1],t.lineTo(o,l);break;case"v":l+=u[1],t.lineTo(o,l);break;case"L":o=u[1],l=u[2],t.lineTo(o,l);break;case"l":o+=u[1],l+=u[2],t.lineTo(o,l);break;case"C":o=u[5],l=u[6],t.bezierCurveTo(u[1],u[2],u[3],u[4],o,l);break;case"c":t.bezierCurveTo(o+u[1],l+u[2],o+u[3],l+u[4],o+u[5],l+u[6]),o+=u[5],l+=u[6];break;case"S":o=u[3],l=u[4],t.bezierCurveToShort(u[1],u[2],o,l);break;case"s":t.bezierCurveToShort(o+u[1],l+u[2],o+u[3],l+u[4]),o+=u[3],l+=u[4];break;case"Q":o=u[3],l=u[4],t.quadraticCurveTo(u[1],u[2],o,l);break;case"q":t.quadraticCurveTo(o+u[1],l+u[2],o+u[3],l+u[4]),o+=u[3],l+=u[4];break;case"T":o=u[1],l=u[2],t.quadraticCurveToShort(o,l);break;case"t":o+=u[1],l+=u[2],t.quadraticCurveToShort(o,l);break;case"A":o=u[6],l=u[7],t.arcToSvg(u[1],u[2],u[3],u[4],u[5],o,l);break;case"a":o+=u[6],l+=u[7],t.arcToSvg(u[1],u[2],u[3],u[4],u[5],o,l);break;case"Z":case"z":t.closePath(),s.length>0&&(a=s.pop(),a?(o=a.startX,l=a.startY):(o=0,l=0)),a=null;break;default:(0,i.R)("Unknown SVG path command: ".concat(c))}"Z"!==c&&"z"!==c&&null===a&&(a={startX:o,startY:l},s.push(a))}return t}},958:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r="varying vec2 vUV;\nvarying vec4 vColor;\n\nuniform sampler2D uTexture;\n\nvoid main(void){\n    vec4 color = texture2D(uTexture, vUV) * vColor;\n    gl_FragColor = color;\n}"},971:(e,t,n)=>{"use strict";function r(e,t){const n=new Set,r=new Set;return{structs:[...e.structs,...t.structs].filter(e=>!n.has(e.name)&&(n.add(e.name),!0)),groups:[...e.groups,...t.groups].filter(e=>{const t="".concat(e.name,"-").concat(e.binding);return!r.has(t)&&(r.add(t),!0)})}}n.d(t,{A:()=>r})},1e3:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var o=new i(r,s||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=new Array(s);i<s;i++)a[i]=r[i].fn;return a},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,i,s,a){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||r&&o.context!==r||a(this,s);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[s]=1===c.length?c[0]:c:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o},1009:(e,t,n)=>{"use strict";n.d(t,{F:()=>h});var r=n(1478),i=n(3596),s=n(6220),a=n(454),o=n(4994),l=n(2388),c=n(3636),u=n(3276),d=n(279);class h{init(){const e=(0,s.v)({name:"mesh",bits:[a.Ls,l.R,o.b]});this._shader=new c.M({gpuProgram:e,resources:{uTexture:u.g.EMPTY._source,uSampler:u.g.EMPTY._source.style,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new i.u}}}})}execute(e,t){const n=e.renderer;let r=t._shader;if(r){if(!r.gpuProgram)return void(0,d.R)("Mesh shader has no gpuProgram",t.shader)}else r=this._shader,r.groups[2]=n.texture.getTextureBindGroup(t.texture);const i=r.gpuProgram;if(i.autoAssignGlobalUniforms&&(r.groups[0]=n.globalUniforms.bindGroup),i.autoAssignLocalUniforms){const t=e.localUniforms;r.groups[1]=n.renderPipes.uniformBatch.getUniformBindGroup(t,!0)}n.encoder.draw({geometry:t._geometry,shader:r,state:t.state})}destroy(){this._shader.destroy(!0),this._shader=null}}h.extension={type:[r.Ag.WebGPUPipesAdaptor],name:"mesh"}},1013:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});class r{constructor(e){"number"===typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this["".concat(e,"View")]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error("".concat(e," isn't a valid view type"))}}}},1024:(e,t,n)=>{"use strict";n.d(t,{L:()=>m});var r=n(7051),i=n(3986),s=n(3596),a=n(2568),o=n(1996),l=n(6538),c=n(4055),u=n(2761),d=n(4008),h=n(2721),p=n(4203);const f=["sprite"];class m extends u.d{constructor(e){const{sprite:t}=e,n=(0,i.A)(e,f),u=new c.N(t.texture),m=new l.k({uFilterMatrix:{value:new s.u,type:"mat3x3<f32>"},uMaskClamp:{value:u.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:e.inverse?1:0,type:"f32"}}),g=o.B.from({vertex:{source:p.A,entryPoint:"mainVertex"},fragment:{source:p.A,entryPoint:"mainFragment"}}),v=a.M.from({vertex:h.A,fragment:d.A,name:"mask-filter"});super((0,r.A)((0,r.A)({},n),{},{gpuProgram:g,glProgram:v,clipToViewport:!1,resources:{filterUniforms:m,uMaskTexture:t.texture.source}})),this.sprite=t,this._textureMatrix=u}set inverse(e){this.resources.filterUniforms.uniforms.uInverse=e?1:0}get inverse(){return 1===this.resources.filterUniforms.uniforms.uInverse}apply(e,t,n,r){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,t,n,r)}}},1062:(e,t,n)=>{"use strict";n.d(t,{G:()=>s,Z:()=>a});var r=n(8656),i=n(798);const s=new Map;async function a(e){const t=e.filter(e=>r.l.has("".concat(e,"-and-url"))).map(e=>{if(!s.has(e)){const{entries:t}=r.l.get("".concat(e,"-and-url")),n=[];t.forEach(t=>{const r=t.url,s=t.faces.map(e=>({weight:e.weight,style:e.style}));n.push(...s.map(t=>(0,i.f)({fontWeight:t.weight,fontStyle:t.style,fontFamily:e},r)))}),s.set(e,Promise.all(n).then(e=>e.join("\n")))}return s.get(e)});return(await Promise.all(t)).join("\n")}},1067:(e,t,n)=>{"use strict";n.d(t,{X:()=>a,v:()=>s});var r=n(5242),i=n(2264);const s={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function a(e,t){const n=e.getAttribute("style"),r={},i={},a={strokeStyle:r,fillStyle:i,useFill:!1,useStroke:!1};for(const l in s){const n=e.getAttribute(l);n&&o(t,a,l,n.trim())}if(n){const e=n.split(";");for(let n=0;n<e.length;n++){const r=e[n].trim(),[i,l]=r.split(":");s[i]&&o(t,a,i,l.trim())}}return{strokeStyle:a.useStroke?r:null,fillStyle:a.useFill?i:null,useFill:a.useFill,useStroke:a.useStroke}}function o(e,t,n,s){switch(n){case"stroke":if("none"!==s){if(s.startsWith("url(")){const n=(0,i.I)(s);t.strokeStyle.fill=e.defs[n]}else t.strokeStyle.color=r.Q.shared.setValue(s).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(s);break;case"fill":if("none"!==s){if(s.startsWith("url(")){const n=(0,i.I)(s);t.fillStyle.fill=e.defs[n]}else t.fillStyle.color=r.Q.shared.setValue(s).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(s);break;case"stroke-opacity":t.strokeStyle.alpha=Number(s);break;case"opacity":t.fillStyle.alpha=Number(s),t.strokeStyle.alpha=Number(s)}}},1070:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(1960),i=n(2026),s=n(279),a=n(909),o=n(2678);class l{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;(this.instructions=[],this.uid=(0,i.L)("graphicsPath"),this._dirty=!0,this.checkForHoles=t,"string"===typeof e)?(0,a.n)(e,this):this.instructions=null!==(n=null===e||void 0===e?void 0:e.slice())&&void 0!==n?n:[]}get shapePath(){return this._shapePath||(this._shapePath=new o.L(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,t){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,t]}),this._dirty=!0,this}arc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(e,t,n,i,s){const a=this.instructions[this.instructions.length-1],o=this.getLastPoint(r.b.shared);let l=0,c=0;if(a&&"bezierCurveTo"===a.action){l=a.data[2],c=a.data[3];const e=o.x,t=o.y;l=e+(e-l),c=t+(t-c)}else l=o.x,c=o.y;return this.instructions.push({action:"bezierCurveTo",data:[l,c,e,t,n,i,s]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(e,t,n){const i=this.instructions[this.instructions.length-1],s=this.getLastPoint(r.b.shared);let a=0,o=0;if(i&&"quadraticCurveTo"===i.action){a=i.data[0],o=i.data[1];const e=s.x,t=s.y;a=e+(e-a),o=t+(t-o)}else a=s.x,o=s.y;return this.instructions.push({action:"quadraticCurveTo",data:[a,o,e,t,n]}),this._dirty=!0,this}rect(e,t,n,r,i){return this.instructions.push({action:"rect",data:[e,t,n,r,i]}),this._dirty=!0,this}circle(e,t,n,r){return this.instructions.push({action:"circle",data:[e,t,n,r]}),this._dirty=!0,this}roundRect(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(e,t,n,r,i,s,a){i||(i=r/2);const o=-1*Math.PI/2+s,l=2*n,c=2*Math.PI/l,u=[];for(let d=0;d<l;d++){const n=d%2?i:r,s=d*c+o;u.push(e+n*Math.cos(s),t+n*Math.sin(s))}return this.poly(u,!0,a),this}clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=new l;if(t.checkForHoles=this.checkForHoles,e)for(let n=0;n<this.instructions.length;n++){const e=this.instructions[n];t.instructions.push({action:e.action,data:e.data.slice()})}else t.instructions=this.instructions.slice();return t}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const t=e.a,n=e.b,r=e.c,i=e.d,a=e.tx,o=e.ty;let l=0,u=0,d=0,h=0,p=0,f=0,m=0,g=0;for(let v=0;v<this.instructions.length;v++){const b=this.instructions[v],_=b.data;switch(b.action){case"moveTo":case"lineTo":l=_[0],u=_[1],_[0]=t*l+r*u+a,_[1]=n*l+i*u+o;break;case"bezierCurveTo":d=_[0],h=_[1],p=_[2],f=_[3],l=_[4],u=_[5],_[0]=t*d+r*h+a,_[1]=n*d+i*h+o,_[2]=t*p+r*f+a,_[3]=n*p+i*f+o,_[4]=t*l+r*u+a,_[5]=n*l+i*u+o;break;case"quadraticCurveTo":d=_[0],h=_[1],l=_[2],u=_[3],_[0]=t*d+r*h+a,_[1]=n*d+i*h+o,_[2]=t*l+r*u+a,_[3]=n*l+i*u+o;break;case"arcToSvg":l=_[5],u=_[6],m=_[0],g=_[1],_[0]=t*m+r*g,_[1]=n*m+i*g,_[5]=t*l+r*u+a,_[6]=n*l+i*u+o;break;case"circle":_[4]=c(_[3],e);break;case"rect":_[4]=c(_[4],e);break;case"ellipse":_[8]=c(_[8],e);break;case"roundRect":_[5]=c(_[5],e);break;case"addPath":_[0].transform(e);break;case"poly":_[2]=c(_[2],e);break;default:(0,s.R)("unknown transform action",b.action)}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let t=this.instructions.length-1,n=this.instructions[t];if(!n)return e.x=0,e.y=0,e;for(;"closePath"===n.action;){if(t--,t<0)return e.x=0,e.y=0,e;n=this.instructions[t]}switch(n.action){case"moveTo":case"lineTo":e.x=n.data[0],e.y=n.data[1];break;case"quadraticCurveTo":e.x=n.data[2],e.y=n.data[3];break;case"bezierCurveTo":e.x=n.data[4],e.y=n.data[5];break;case"arc":case"arcToSvg":e.x=n.data[5],e.y=n.data[6];break;case"addPath":n.data[0].getLastPoint(e)}return e}}function c(e,t){return e?e.prepend(t):t.clone()}},1095:(e,t,n)=>{var r=n(8923).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,s=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),a=new RegExp("^"+i.source+s.source+"*(?::"+i.source+s.source+"*)?$");function o(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,o)}function l(){}function c(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function u(e,t,n,i,s,a){function o(e,t,r){n.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),r)}for(var l,c=++t,u=0;;){var d=e.charAt(c);switch(d){case"=":if(1===u)l=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(a.warning('attribute value must after "="'),l=e.slice(t,c)),t=c+1,!((c=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");o(l,h=e.slice(t,c),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');o(l,h=e.slice(t,c),t),a.warning('attribute "'+l+'" missed start quot('+d+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==u&&n.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=e.slice(t,c)).slice(-1)&&(n.closed=!0,h=h.slice(0,-1));case 2:2===u&&(h=l),4==u?(a.warning('attribute "'+h+'" missed quot(")!'),o(l,h,t)):(r.isHTML(i[""])&&h.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),o(h,h,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"\x80":d=" ";default:if(d<=" ")switch(u){case 0:n.setTagName(e.slice(t,c)),u=6;break;case 1:l=e.slice(t,c),u=2;break;case 4:var h=e.slice(t,c);a.warning('attribute "'+h+'" missed quot(")!!'),o(l,h,t);case 5:u=6}else switch(u){case 2:n.tagName;r.isHTML(i[""])&&l.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),o(l,l,t),t=c,u=1;break;case 5:a.warning('attribute space is required"'+l+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function d(e,t,n){for(var i=e.tagName,s=null,a=e.length;a--;){var o=e[a],l=o.qName,c=o.value;if((p=l.indexOf(":"))>0)var u=o.prefix=l.slice(0,p),d=l.slice(p+1),h="xmlns"===u&&d;else d=l,u=null,h="xmlns"===l&&"";o.localName=d,!1!==h&&(null==s&&(s={},f(n,n={})),n[h]=s[h]=c,o.uri=r.XMLNS,t.startPrefixMapping(h,c))}for(a=e.length;a--;){(u=(o=e[a]).prefix)&&("xml"===u&&(o.uri=r.XML),"xmlns"!==u&&(o.uri=n[u||""]))}var p;(p=i.indexOf(":"))>0?(u=e.prefix=i.slice(0,p),d=e.localName=i.slice(p+1)):(u=null,d=e.localName=i);var m=e.uri=n[u||""];if(t.startElement(m,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=s,!0;if(t.endElement(m,d,i),s)for(u in s)Object.prototype.hasOwnProperty.call(s,u)&&t.endPrefixMapping(u)}function h(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var s=e.indexOf("</"+n+">",t),a=e.substring(t+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(i.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),i.characters(a,0,a.length),s)}return t+1}function p(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function f(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function m(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var s=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var o=s[1][0],l=!1,c=!1;a>3&&(/^public$/i.test(s[2][0])?(l=s[3][0],c=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var u=s[a-1];return n.startDTD(o,l,c),n.endDTD(),u.index+u[0].length}return-1}function g(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function v(){this.attributeNames={}}o.prototype=new Error,o.prototype.name=o.name,l.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),f(t,t={}),function(e,t,n,i,s){function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function l(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(s.error("entity not found:"+e),e)}function f(t){if(t>A){var n=e.substring(A,t).replace(/&#?\w+;/g,l);S&&b(A),i.characters(n,0,t-A),A=t}}function b(t,n){for(;t>=x&&(n=y.exec(e));)_=n.index,x=_+n[0].length,S.lineNumber++;S.columnNumber=t-_+1}var _=0,x=0,y=/.*(?:\r\n?|\n)|.*$/g,S=i.locator,T=[{currentNSMap:t}],w={},A=0;for(;;){try{var E=e.indexOf("<",A);if(E<0){if(!e.substr(A).match(/^\s*$/)){var C=i.doc,R=C.createTextNode(e.substr(A));C.appendChild(R),i.currentElement=R}return}switch(E>A&&f(E),e.charAt(E+1)){case"/":var M=e.indexOf(">",E+3),P=e.substring(E+2,M).replace(/[ \t\n\r]+$/g,""),k=T.pop();M<0?(P=e.substring(E+2).replace(/[\s<].*/,""),s.error("end tag name: "+P+" is not complete:"+k.tagName),M=E+1+P.length):P.match(/\s</)&&(P=P.replace(/[\s<].*/,""),s.error("end tag name: "+P+" maybe not complete"),M=E+1+P.length);var B=k.localNSMap,O=k.tagName==P;if(O||k.tagName&&k.tagName.toLowerCase()==P.toLowerCase()){if(i.endElement(k.uri,k.localName,P),B)for(var I in B)Object.prototype.hasOwnProperty.call(B,I)&&i.endPrefixMapping(I);O||s.fatalError("end tag name: "+P+" is not match the current start tagName:"+k.tagName)}else T.push(k);M++;break;case"?":S&&b(E),M=g(e,E,i);break;case"!":S&&b(E),M=m(e,E,i,s);break;default:S&&b(E);var F=new v,G=T[T.length-1].currentNSMap,N=(M=u(e,E,F,G,l,s),F.length);if(!F.closed&&p(e,M,F.tagName,w)&&(F.closed=!0,n.nbsp||s.warning("unclosed xml attribute")),S&&N){for(var D=c(S,{}),U=0;U<N;U++){var L=F[U];b(L.offset),L.locator=c(S,{})}i.locator=D,d(F,i,G)&&T.push(F),i.locator=S}else d(F,i,G)&&T.push(F);r.isHTML(F.uri)&&!F.closed?M=h(e,M,F.tagName,l,i):M++}}catch(j){if(j instanceof o)throw j;s.error("element parse error: "+j),M=-1}M>A?A=M:f(Math.max(E,A)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},v.prototype={setTagName:function(e){if(!a.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!a.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=l,t.ParseError=o},1101:(e,t,n)=>{"use strict";function r(e,t,n,r,i){const s=t.a,a=t.b,o=t.c,l=t.d,c=t.tx,u=t.ty;n||(n=0),r||(r=2),i||(i=e.length/r-n);let d=n*r;for(let h=0;h<i;h++){const t=e[d],n=e[d+1];e[d]=s*t+o*n+c,e[d+1]=a*t+l*n+u,d+=r}}n.d(t,{s:()=>r})},1130:(e,t,n)=>{"use strict";n.d(t,{w:()=>i});const r=/\{\{(.*?)\}\}/g;function i(e){var t,n;const i={};return(null!==(t=null===(n=e.match(r))||void 0===n?void 0:n.map(e=>e.replace(/[{()}]/g,"")))&&void 0!==t?t:[]).forEach(e=>{i[e]=[]}),i}},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1155:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(1478);class i{constructor(e){this.commandFinished=Promise.resolve(),this._renderer=e}setGeometry(e,t){this._renderer.geometry.bind(e,t.glProgram)}finishRenderPass(){}draw(e){const t=this._renderer,{geometry:n,shader:r,state:i,skipSync:s,topology:a,size:o,start:l,instanceCount:c}=e;t.shader.bind(r,s),t.geometry.bind(n,t.shader._activeProgram),i&&t.state.set(i),t.geometry.draw(a,o,l,null!==c&&void 0!==c?c:n.instanceCount)}destroy(){this._renderer=null}}i.extension={type:[r.Ag.WebGLSystem],name:"encoder"}},1193:(e,t,n)=>{"use strict";n.d(t,{P:()=>c,_:()=>a});const r={};function i(e){const t=[];if(1===e)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<e;r++)t.push("@group(1) @binding(".concat(n++,") var textureSource").concat(r+1,": texture_2d<f32>;")),t.push("@group(1) @binding(".concat(n++,") var textureSampler").concat(r+1,": sampler;"))}return t.join("\n")}function s(e){const t=[];if(1===e)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let n=0;n<e;n++)n===e-1?t.push("  default:{"):t.push("  case ".concat(n,":{")),t.push("      outColor = textureSampleGrad(textureSource".concat(n+1,", textureSampler").concat(n+1,", vUV, uvDx, uvDy);")),t.push("      break;}");t.push("}")}return t.join("\n")}function a(e){return r[e]||(r[e]={name:"texture-batch-bit",vertex:{header:"\n                @in aTextureIdAndRound: vec2<u32>;\n                @out @interpolate(flat) vTextureId : u32;\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1)\n                {\n                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n                }\n            "},fragment:{header:"\n                @in @interpolate(flat) vTextureId: u32;\n\n                ".concat(i(e),"\n            "),main:"\n                var uvDx = dpdx(vUV);\n                var uvDy = dpdy(vUV);\n\n                ".concat(s(e),"\n            ")}}),r[e]}const o={};function l(e){const t=[];for(let n=0;n<e;n++)n>0&&t.push("else"),n<e-1&&t.push("if(vTextureId < ".concat(n,".5)")),t.push("{"),t.push("\toutColor = texture(uTextures[".concat(n,"], vUV);")),t.push("}");return t.join("\n")}function c(e){return o[e]||(o[e]={name:"texture-batch-bit",vertex:{header:"\n                in vec2 aTextureIdAndRound;\n                out float vTextureId;\n\n            ",main:"\n                vTextureId = aTextureIdAndRound.y;\n            ",end:"\n                if(aTextureIdAndRound.x == 1.)\n                {\n                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n                }\n            "},fragment:{header:"\n                in float vTextureId;\n\n                uniform sampler2D uTextures[".concat(e,"];\n\n            "),main:"\n\n                ".concat(l(e),"\n            ")}}),o[e]}},1201:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(3596),i=n(2026);const s={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class a{constructor(e,t){this.uid=(0,i.L)("fillPattern"),this.transform=new r.u,this._styleKey=null,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),t&&(e.source.style.addressModeU=s[t].addressModeU,e.source.style.addressModeV=s[t].addressModeV)}setTransform(e){const t=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/t.frame.width,1/t.frame.height),this._styleKey=null}get styleKey(){return this._styleKey||(this._styleKey="fill-pattern-".concat(this.uid,"-").concat(this.texture.uid,"-").concat(this.transform.toArray().join("-"))),this._styleKey}destroy(){this.texture.destroy(!0),this.texture=null,this._styleKey=null}}},1202:(e,t,n)=>{"use strict";n.d(t,{b:()=>p});var r=n(1478),i=n(3596),s=n(3202),a=n(879),o=n(6373),l=n(4985),c=n(2300),u=n(6933),d=n(8215);const h=new i.u;class p{constructor(e){this._renderer=e}render(e){let{container:t,transform:n}=e;const r=t.parent,i=t.renderGroup.renderGroupParent;t.parent=null,t.renderGroup.renderGroupParent=null;const s=this._renderer;let a=h;n&&(a=a.copyFrom(t.renderGroup.localTransform),t.renderGroup.localTransform.copyFrom(n));const o=s.renderPipes;this._updateCachedRenderGroups(t.renderGroup,null),this._updateRenderGroups(t.renderGroup),s.globalUniforms.start({worldTransformMatrix:n?t.renderGroup.localTransform:t.renderGroup.worldTransform,worldColor:t.renderGroup.worldColorAlpha}),(0,c.j)(t.renderGroup,o),o.uniformBatch&&o.uniformBatch.renderEnd(),n&&t.renderGroup.localTransform.copyFrom(a),t.parent=r,t.renderGroup.renderGroupParent=i}destroy(){this._renderer=null}_updateCachedRenderGroups(e,t){if(e.isCachedAsTexture){if(!e.updateCacheTexture)return;t=e}e._parentCacheAsTextureRenderGroup=t;for(let i=e.renderGroupChildren.length-1;i>=0;i--)this._updateCachedRenderGroups(e.renderGroupChildren[i],t);if(e.invalidateMatrices(),e.isCachedAsTexture){if(e.textureNeedsUpdate){var n,r;const t=e.root.getLocalBounds();t.ceil();const i=e.texture;e.texture&&s.W.returnTexture(e.texture,!0);const l=this._renderer,c=e.textureOptions.resolution||l.view.resolution,u=null!==(n=e.textureOptions.antialias)&&void 0!==n?n:l.view.antialias,d=null!==(r=e.textureOptions.scaleMode)&&void 0!==r?r:"linear",h=s.W.getOptimalTexture(t.width,t.height,c,u);h._source.style=new a.n({scaleMode:d}),e.texture=h,e._textureBounds||(e._textureBounds=new o.c),e._textureBounds.copyFrom(t),i!==e.texture&&e.renderGroupParent&&(e.renderGroupParent.structureDidChange=!0)}}else e.texture&&(s.W.returnTexture(e.texture,!0),e.texture=null)}_updateRenderGroups(e){const t=this._renderer,n=t.renderPipes;if(e.runOnRender(t),e.instructionSet.renderPipes=n,e.structureDidChange?(0,l.a)(e.childrenRenderablesToUpdate.list,0):(0,d.G)(e,n),(0,u.s8)(e),e.structureDidChange?(e.structureDidChange=!1,this._buildInstructions(e,t)):this._updateRenderables(e),e.childrenRenderablesToUpdate.index=0,t.renderPipes.batch.upload(e.instructionSet),!e.isCachedAsTexture||e.textureNeedsUpdate)for(let r=0;r<e.renderGroupChildren.length;r++)this._updateRenderGroups(e.renderGroupChildren[r])}_updateRenderables(e){const{list:t,index:n}=e.childrenRenderablesToUpdate;for(let r=0;r<n;r++){const n=t[r];n.didViewUpdate&&e.updateRenderable(n)}(0,l.a)(t,n)}_buildInstructions(e,t){const n=e.root,r=e.instructionSet;r.reset();const i=t.renderPipes?t:t.batch.renderer,s=i.renderPipes;s.batch.buildStart(r),s.blendMode.buildStart(),s.colorMask.buildStart(),n.sortableChildren&&n.sortChildren(),n.collectRenderablesWithEffects(r,i,null),s.batch.buildEnd(r),s.blendMode.buildEnd(r)}}p.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem,r.Ag.CanvasSystem],name:"renderGroup"}},1232:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(3596),i=n(8263);function s(e,t,n){return t.clear(),n||(n=r.u.IDENTITY),a(e,t,n,e,!0),t.isValid||t.set(0,0,0,0),t}function a(e,t,n,s,o){let l;if(o)l=i.u.get(),l=n.copyTo(l);else{if(!e.visible||!e.measurable)return;e.updateLocalTransform();const t=e.localTransform;l=i.u.get(),l.appendFrom(t,n)}const c=t,u=!!e.effects.length;if(u&&(t=i.o.get().clear()),e.boundsArea)t.addRect(e.boundsArea,l);else{e.renderPipeId&&(t.matrix=l,t.addBounds(e.bounds));const n=e.children;for(let e=0;e<n.length;e++)a(n[e],t,l,s,!1)}if(u){for(let n=0;n<e.effects.length;n++){var d,h;null===(d=(h=e.effects[n]).addLocalBounds)||void 0===d||d.call(h,t,s)}c.addBounds(t,r.u.IDENTITY),i.o.return(t)}i.u.return(l)}},1274:(e,t,n)=>{"use strict";n.d(t,{Ut:()=>r,xv:()=>i});n(2604);const r=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,i="8.12.0"},1285:(e,t,n)=>{"use strict";n.d(t,{e:()=>o,w:()=>a});var r=n(1478),i=n(475),s=n(1306);class a extends i.U{constructor(){super(),this.geometry=new s.P}destroy(){this.geometry.destroy()}}class o{constructor(e){this._renderer=e}addRenderable(e,t){const n=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,n),this._renderer.renderPipes.batch.addToBatch(n,t)}updateRenderable(e){const t=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}_updateBatchableSprite(e,t){t.geometry.update(e),t.setTexture(e._texture)}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=e._gpuData[this._renderer.uid]=new a,n=t;return n.renderable=e,n.transform=e.groupTransform,n.texture=e._texture,n.roundPixels=this._renderer._roundPixels|e._roundPixels,e.didViewUpdate||this._updateBatchableSprite(e,n),t}destroy(){this._renderer=null}}o.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"nineSliceSprite"}},1288:(e,t,n)=>{"use strict";n.d(t,{W:()=>u});var r=n(5100);const i=2*Math.PI,s={centerX:0,centerY:0,ang1:0,ang2:0},a=(e,t,n,r,i,s,a,o)=>{let{x:l,y:c}=e;l*=t,c*=n;const u=r*l-i*c,d=i*l+r*c;return o.x=u+s,o.y=d+a,o};function o(e,t){const n=-1.5707963267948966===t?-.551915024494:4/3*Math.tan(t/4),r=1.5707963267948966===t?.551915024494:n,i=Math.cos(e),s=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[{x:i-s*r,y:s+i*r},{x:a+o*r,y:o-a*r},{x:a,y:o}]}const l=(e,t,n,r)=>{let i=e*n+t*r;return i>1&&(i=1),i<-1&&(i=-1),(e*r-t*n<0?-1:1)*Math.acos(i)},c=(e,t,n,r,s,a,o,c,u,d,h,p,f)=>{const m=Math.pow(s,2),g=Math.pow(a,2),v=Math.pow(h,2),b=Math.pow(p,2);let _=m*g-m*b-g*v;_<0&&(_=0),_/=m*b+g*v,_=Math.sqrt(_)*(o===c?-1:1);const x=_*s/a*p,y=_*-a/s*h,S=d*x-u*y+(e+n)/2,T=u*x+d*y+(t+r)/2,w=(h-x)/s,A=(p-y)/a,E=(-h-x)/s,C=(-p-y)/a,R=l(1,0,w,A);let M=l(w,A,E,C);0===c&&M>0&&(M-=i),1===c&&M<0&&(M+=i),f.centerX=S,f.centerY=T,f.ang1=R,f.ang2=M};function u(e,t,n,l,u,d,h){let p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,m=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;if(0===d||0===h)return;const g=Math.sin(p*i/360),v=Math.cos(p*i/360),b=v*(t-l)/2+g*(n-u)/2,_=-g*(t-l)/2+v*(n-u)/2;if(0===b&&0===_)return;d=Math.abs(d),h=Math.abs(h);const x=Math.pow(b,2)/Math.pow(d,2)+Math.pow(_,2)/Math.pow(h,2);x>1&&(d*=Math.sqrt(x),h*=Math.sqrt(x)),c(t,n,l,u,d,h,f,m,g,v,b,_,s);let{ang1:y,ang2:S}=s;const{centerX:T,centerY:w}=s;let A=Math.abs(S)/(i/4);Math.abs(1-A)<1e-7&&(A=1);const E=Math.max(Math.ceil(A),1);S/=E;let C=e[e.length-2],R=e[e.length-1];const M={x:0,y:0};for(let i=0;i<E;i++){const t=o(y,S),{x:n,y:i}=a(t[0],d,h,v,g,T,w,M),{x:s,y:l}=a(t[1],d,h,v,g,T,w,M),{x:c,y:u}=a(t[2],d,h,v,g,T,w,M);(0,r.M)(e,C,R,n,i,s,l,c,u),C=c,R=u,y+=S}}},1306:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(7051),i=n(9682);const s=class e extends i.b{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=(0,r.A)((0,r.A)({},e.defaultOptions),t),super({width:t.width,height:t.height,verticesX:4,verticesY:4}),this.update(t)}update(e){var t,n,r,i,s,a,o,l,c,u;this.width=null!==(t=e.width)&&void 0!==t?t:this.width,this.height=null!==(n=e.height)&&void 0!==n?n:this.height,this._originalWidth=null!==(r=e.originalWidth)&&void 0!==r?r:this._originalWidth,this._originalHeight=null!==(i=e.originalHeight)&&void 0!==i?i:this._originalHeight,this._leftWidth=null!==(s=e.leftWidth)&&void 0!==s?s:this._leftWidth,this._rightWidth=null!==(a=e.rightWidth)&&void 0!==a?a:this._rightWidth,this._topHeight=null!==(o=e.topHeight)&&void 0!==o?o:this._topHeight,this._bottomHeight=null!==(l=e.bottomHeight)&&void 0!==l?l:this._bottomHeight,this._anchorX=null===(c=e.anchor)||void 0===c?void 0:c.x,this._anchorY=null===(u=e.anchor)||void 0===u?void 0:u.y,this.updateUvs(),this.updatePositions()}updatePositions(){const e=this.positions,{width:t,height:n,_leftWidth:r,_rightWidth:i,_topHeight:s,_bottomHeight:a,_anchorX:o,_anchorY:l}=this,c=r+i,u=t>c?1:t/c,d=s+a,h=n>d?1:n/d,p=Math.min(u,h),f=o*t,m=l*n;e[0]=e[8]=e[16]=e[24]=-f,e[2]=e[10]=e[18]=e[26]=r*p-f,e[4]=e[12]=e[20]=e[28]=t-i*p-f,e[6]=e[14]=e[22]=e[30]=t-f,e[1]=e[3]=e[5]=e[7]=-m,e[9]=e[11]=e[13]=e[15]=s*p-m,e[17]=e[19]=e[21]=e[23]=n-a*p-m,e[25]=e[27]=e[29]=e[31]=n-m,this.getBuffer("aPosition").update()}updateUvs(){const e=this.uvs;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1;const t=1/this._originalWidth,n=1/this._originalHeight;e[2]=e[10]=e[18]=e[26]=t*this._leftWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[4]=e[12]=e[20]=e[28]=1-t*this._rightWidth,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.getBuffer("aUV").update()}};s.defaultOptions={width:100,height:100,leftWidth:10,topHeight:10,rightWidth:10,bottomHeight:10,originalWidth:100,originalHeight:100};let a=s},1312:(e,t,n)=>{"use strict";n.d(t,{T:()=>u});var r=n(1478),i=n(5202),s=n(9486),a=n(6333),o=n(4643),l=n(2590);const c=128;class u{constructor(e){this._bindGroupHash=Object.create(null),this._buffers=[],this._bindGroups=[],this._bufferResources=[],this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_bindGroupHash"),this._batchBuffer=new o.Z({minUniformOffsetAlignment:c});for(let t=0;t<2;t++){let e=a.S.UNIFORM|a.S.COPY_DST;0===t&&(e|=a.S.COPY_SRC),this._buffers.push(new i.h({data:this._batchBuffer.data,usage:e}))}}renderEnd(){this._uploadBindGroups(),this._resetBindGroups()}_resetBindGroups(){for(const e in this._bindGroupHash)this._bindGroupHash[e]=null;this._batchBuffer.clear()}getUniformBindGroup(e,t){if(!t&&this._bindGroupHash[e.uid])return this._bindGroupHash[e.uid];this._renderer.ubo.ensureUniformGroup(e);const n=e.buffer.data,r=this._batchBuffer.addEmptyGroup(n.length);return this._renderer.ubo.syncUniformGroup(e,this._batchBuffer.data,r/4),this._bindGroupHash[e.uid]=this._getBindGroup(r/c),this._bindGroupHash[e.uid]}getUboResource(e){this._renderer.ubo.updateUniformGroup(e);const t=e.buffer.data,n=this._batchBuffer.addGroup(t);return this._getBufferResource(n/c)}getArrayBindGroup(e){const t=this._batchBuffer.addGroup(e);return this._getBindGroup(t/c)}getArrayBufferResource(e){const t=this._batchBuffer.addGroup(e)/c;return this._getBufferResource(t)}_getBufferResource(e){if(!this._bufferResources[e]){const t=this._buffers[e%2];this._bufferResources[e]=new s.d({buffer:t,offset:256*(e/2|0),size:c})}return this._bufferResources[e]}_getBindGroup(e){if(!this._bindGroups[e]){const t=new l.T({0:this._getBufferResource(e)});this._bindGroups[e]=t}return this._bindGroups[e]}_uploadBindGroups(){const e=this._renderer.buffer,t=this._buffers[0];t.update(this._batchBuffer.byteIndex),e.updateBuffer(t);const n=this._renderer.gpu.device.createCommandEncoder();for(let r=1;r<this._buffers.length;r++){const i=this._buffers[r];n.copyBufferToBuffer(e.getGPUBuffer(t),c,e.getGPUBuffer(i),0,this._batchBuffer.byteIndex)}this._renderer.gpu.device.queue.submit([n.finish()])}destroy(){for(let e=0;e<this._bindGroups.length;e++)this._bindGroups[e].destroy();this._bindGroups=null,this._bindGroupHash=null;for(let e=0;e<this._buffers.length;e++)this._buffers[e].destroy();this._buffers=null;for(let e=0;e<this._bufferResources.length;e++)this._bufferResources[e].destroy();this._bufferResources=null,this._batchBuffer.destroy(),this._bindGroupHash=null,this._renderer=null}}u.extension={type:[r.Ag.WebGPUPipes],name:"uniformBatch"}},1329:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(3596),i=n(347),s=n(3202);class a{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new r.u,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new i.L,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const t=e.children;for(let n=0;n<t.length;n++){const e=t[n];e._updateFlags=15,this.addChild(e)}}enableCacheAsTexture(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(s.W.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const t=this.childrenToUpdate[e];t.list.fill(null),t.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const t=this.renderGroupChildren.indexOf(e);t>-1&&this.renderGroupChildren.splice(t,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup)return void this.addRenderGroupChild(e.renderGroup);e._onRender&&this.addOnRender(e);const t=e.children;for(let n=0;n<t.length;n++)this.addChild(t[n])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup)return void this._removeRenderGroupChild(e.renderGroup);const t=e.children;for(let n=0;n<t.length;n++)this.removeChild(t[n])}removeChildren(e){for(let t=0;t<e.length;t++)this.removeChild(e[t])}onChildUpdate(e){let t=this.childrenToUpdate[e.relativeRenderGroupDepth];t||(t=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),t.list[t.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return 7===this.root.localDisplayStatus&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=this.root.children;for(let n=0;n<t.length;n++)this._getChildren(t[n],e);return e}_getChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.push(e),e.renderGroup)return t;const n=e.children;for(let r=0;r<n.length;r++)this._getChildren(n[r],t);return t}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return 0===(1&this._matrixDirty)?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new r.u),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return 0===(2&this._matrixDirty)?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new r.u),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if(0===(4&this._matrixDirty))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new r.u),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}},1333:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(7051),i=n(1478);const s=class e{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(t){var n;t=(0,r.A)((0,r.A)({},e.defaultOptions),t),this.checkCountMax=t.textureGCCheckCountMax,this.maxIdle=null!==(n=t.textureGCAMaxIdle)&&void 0!==n?n:t.textureGCMaxIdle,this.active=t.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let t=0;t<e.length;t++){const n=e[t];n.autoGarbageCollect&&n.resource&&n._touched>-1&&this.count-n._touched>this.maxIdle&&(n._touched=-1,n.unload())}}destroy(){this._renderer=null}};s.extension={type:[i.Ag.WebGLSystem,i.Ag.WebGPUSystem],name:"textureGC"},s.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:3600,textureGCCheckCountMax:600};let a=s},1364:(e,t,n)=>{"use strict";n.d(t,{i:()=>c});var r=n(3596),i=n(6373),s=n(5076),a=n(1232),o=n(5398);const l=new r.u,c={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(e,t){const n=Math.sign(this.scale.x)||1;this.scale.x=0!==t?e/t*n:n},_setHeight(e,t){const n=Math.sign(this.scale.y)||1;this.scale.y=0!==t?e/t*n:n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new i.c});const e=this._localBoundsCacheData;return e.index=1,e.didChange=!1,e.data[0]!==this._didViewChangeTick&&(e.didChange=!0,e.data[0]=this._didViewChangeTick),(0,o.l)(this,e),e.didChange&&(0,a.n)(this,e.localBounds,l),e.localBounds},getBounds(e,t){return(0,s.f)(this,e,t||new i.c)}}},1365:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});const r={createCanvas:(e,t)=>{const n=document.createElement("canvas");return n.width=e,n.height=t,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var e;return null!==(e=document.baseURI)&&void 0!==e?e:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>(new DOMParser).parseFromString(e,"text/xml")}},1366:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(2158);class i extends r._{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}i.DOM_DELTA_PIXEL=0,i.DOM_DELTA_LINE=1,i.DOM_DELTA_PAGE=2},1394:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var r=n(1669);class i extends r.K{constructor(e){super(),this.generatingTexture=!1,this._renderer=e,e.runners.resolutionChange.add(this)}resolutionChange(){const e=this.renderable;e._autoResolution&&e.onViewUpdate()}destroy(){this._renderer.htmlText.returnTexturePromise(this.texturePromise),this.texturePromise=null,this._renderer=null}}},1398:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(7051),i=n(9914),s=n(1478),a=n(279);const o=class e{constructor(e){this.supports={uint32Indices:!0,uniformBufferObject:!0,vertexArrayObject:!0,srgbTextures:!0,nonPowOf2wrapping:!0,msaa:!0,nonPowOf2mipmaps:!0},this._renderer=e,this.extensions=Object.create(null),this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this._renderer.gl=e}init(t){t=(0,r.A)((0,r.A)({},e.defaultOptions),t);let n=this.multiView=t.multiView;if(t.context&&n&&((0,a.R)("Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together."),n=!1),this.canvas=n?i.e.get().createCanvas(this._renderer.canvas.width,this._renderer.canvas.height):this._renderer.view.canvas,t.context)this.initFromContext(t.context);else{var s,o;const e=this._renderer.background.alpha<1,n=null===(s=t.premultipliedAlpha)||void 0===s||s,r=t.antialias&&!this._renderer.backBuffer.useBackBuffer;this.createContext(t.preferWebGLVersion,{alpha:e,premultipliedAlpha:n,antialias:r,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:null!==(o=t.powerPreference)&&void 0!==o?o:"default"})}}ensureCanvasSize(e){if(!this.multiView)return void(e!==this.canvas&&(0,a.R)("multiView is disabled, but targetCanvas is not the main canvas"));const{canvas:t}=this;(t.width<e.width||t.height<e.height)&&(t.width=Math.max(e.width,e.width),t.height=Math.max(e.height,e.height))}initFromContext(e){this.gl=e,this.webGLVersion=e instanceof i.e.get().getWebGLRenderingContext()?1:2,this.getExtensions(),this.validateContext(e),this._renderer.runners.contextChange.emit(e);const t=this._renderer.view.canvas;t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}createContext(e,t){let n;const r=this.canvas;if(2===e&&(n=r.getContext("webgl2",t)),!n&&(n=r.getContext("webgl",t),!n))throw new Error("This browser does not support WebGL. Try using the canvas renderer");this.gl=n,this.initFromContext(this.gl)}getExtensions(){const{gl:e}=this,t={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc"),rgtc:e.getExtension("EXT_texture_compression_rgtc"),loseContext:e.getExtension("WEBGL_lose_context")};if(1===this.webGLVersion)this.extensions=(0,r.A)((0,r.A)({},t),{},{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear"),vertexAttribDivisorANGLE:e.getExtension("ANGLE_instanced_arrays"),srgb:e.getExtension("EXT_sRGB")});else{this.extensions=(0,r.A)((0,r.A)({},t),{},{colorBufferFloat:e.getExtension("EXT_color_buffer_float")});const n=e.getExtension("WEBGL_provoking_vertex");n&&n.provokingVertexWEBGL(n.FIRST_VERTEX_CONVENTION_WEBGL)}}handleContextLost(e){e.preventDefault(),this._contextLossForced&&(this._contextLossForced=!1,setTimeout(()=>{var e;this.gl.isContextLost()&&(null===(e=this.extensions.loseContext)||void 0===e||e.restoreContext())},0))}handleContextRestored(){this.getExtensions(),this._renderer.runners.contextChange.emit(this.gl)}destroy(){var e;const t=this._renderer.view.canvas;this._renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),null===(e=this.extensions.loseContext)||void 0===e||e.loseContext()}forceContextLoss(){var e;null===(e=this.extensions.loseContext)||void 0===e||e.loseContext(),this._contextLossForced=!0}validateContext(e){const t=e.getContextAttributes();t&&!t.stencil&&(0,a.R)("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=this.supports,r=2===this.webGLVersion,i=this.extensions;n.uint32Indices=r||!!i.uint32ElementIndex,n.uniformBufferObject=r,n.vertexArrayObject=r||!!i.vertexArrayObject,n.srgbTextures=r||!!i.srgb,n.nonPowOf2wrapping=r,n.nonPowOf2mipmaps=r,n.msaa=r,n.uint32Indices||(0,a.R)("Provided WebGL context does not support 32 index buffer, large scenes may not render correctly")}};o.extension={type:[s.Ag.WebGLSystem],name:"context"},o.defaultOptions={context:null,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:void 0,preferWebGLVersion:2,multiView:!1};let l=o},1411:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const r=t&&t.length,s=r?t[0]*n:e.length;let o=i(e,0,s,n,!0);const l=[];if(!o||o.next===o.prev)return l;let c,u,p;if(r&&(o=function(e,t,n,r){const s=[];for(let a=0,o=t.length;a<o;a++){const n=i(e,t[a]*r,a<o-1?t[a+1]*r:e.length,r,!1);n===n.next&&(n.steiner=!0),s.push(m(n))}s.sort(d);for(let i=0;i<s.length;i++)n=h(s[i],n);return n}(e,t,o,n)),e.length>80*n){c=e[0],u=e[1];let t=c,r=u;for(let i=n;i<s;i+=n){const n=e[i],s=e[i+1];n<c&&(c=n),s<u&&(u=s),n>t&&(t=n),s>r&&(r=s)}p=Math.max(t-c,r-u),p=0!==p?32767/p:0}return a(o,l,n,c,u,p,0),l}function i(e,t,n,r,i){let s;if(i===M(e,t,n,r)>0)for(let a=t;a<n;a+=r)s=E(a/r|0,e[a],e[a+1],s);else for(let a=n-r;a>=t;a-=r)s=E(a/r|0,e[a],e[a+1],s);return s&&x(s,s.next)&&(C(s),s=s.next),s}function s(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!x(r,r.next)&&0!==_(r.prev,r,r.next))r=r.next;else{if(C(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function a(e,t,n,r,i,d,h){if(!e)return;!h&&d&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=f(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n=1;do{let r,i=e;e=null;let s=null;for(t=0;i;){t++;let a=i,o=0;for(let e=0;e<n&&(o++,a=a.nextZ,a);e++);let l=n;for(;o>0||l>0&&a;)0!==o&&(0===l||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;i=a}s.nextZ=null,n*=2}while(t>1)}(i)}(e,r,i,d);let p=e;for(;e.prev!==e.next;){const f=e.prev,m=e.next;if(d?l(e,r,i,d):o(e))t.push(f.i,e.i,m.i),C(e),e=m.next,p=m.next;else if((e=m)===p){h?1===h?a(e=c(s(e),t),t,n,r,i,d,2):2===h&&u(e,t,n,r,i,d):a(s(e),t,n,r,i,d,1);break}}}function o(e){const t=e.prev,n=e,r=e.next;if(_(t,n,r)>=0)return!1;const i=t.x,s=n.x,a=r.x,o=t.y,l=n.y,c=r.y,u=Math.min(i,s,a),d=Math.min(o,l,c),h=Math.max(i,s,a),p=Math.max(o,l,c);let f=r.next;for(;f!==t;){if(f.x>=u&&f.x<=h&&f.y>=d&&f.y<=p&&v(i,o,s,l,a,c,f.x,f.y)&&_(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function l(e,t,n,r){const i=e.prev,s=e,a=e.next;if(_(i,s,a)>=0)return!1;const o=i.x,l=s.x,c=a.x,u=i.y,d=s.y,h=a.y,p=Math.min(o,l,c),m=Math.min(u,d,h),g=Math.max(o,l,c),b=Math.max(u,d,h),x=f(p,m,t,n,r),y=f(g,b,t,n,r);let S=e.prevZ,T=e.nextZ;for(;S&&S.z>=x&&T&&T.z<=y;){if(S.x>=p&&S.x<=g&&S.y>=m&&S.y<=b&&S!==i&&S!==a&&v(o,u,l,d,c,h,S.x,S.y)&&_(S.prev,S,S.next)>=0)return!1;if(S=S.prevZ,T.x>=p&&T.x<=g&&T.y>=m&&T.y<=b&&T!==i&&T!==a&&v(o,u,l,d,c,h,T.x,T.y)&&_(T.prev,T,T.next)>=0)return!1;T=T.nextZ}for(;S&&S.z>=x;){if(S.x>=p&&S.x<=g&&S.y>=m&&S.y<=b&&S!==i&&S!==a&&v(o,u,l,d,c,h,S.x,S.y)&&_(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;T&&T.z<=y;){if(T.x>=p&&T.x<=g&&T.y>=m&&T.y<=b&&T!==i&&T!==a&&v(o,u,l,d,c,h,T.x,T.y)&&_(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function c(e,t){let n=e;do{const r=n.prev,i=n.next.next;!x(r,i)&&y(r,n,n.next,i)&&w(r,i)&&w(i,r)&&(t.push(r.i,n.i,i.i),C(n),C(n.next),n=e=i),n=n.next}while(n!==e);return s(n)}function u(e,t,n,r,i,o){let l=e;do{let e=l.next.next;for(;e!==l.prev;){if(l.i!==e.i&&b(l,e)){let c=A(l,e);return l=s(l,l.next),c=s(c,c.next),a(l,t,n,r,i,o,0),void a(c,t,n,r,i,o,0)}e=e.next}l=l.next}while(l!==e)}function d(e,t){let n=e.x-t.x;if(0===n&&(n=e.y-t.y,0===n)){n=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x)}return n}function h(e,t){const n=function(e,t){let n=t;const r=e.x,i=e.y;let s,a=-1/0;if(x(e,n))return n;do{if(x(e,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const e=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=r&&e>a&&(a=e,s=n.x<n.next.x?n:n.next,e===r))return s}n=n.next}while(n!==t);if(!s)return null;const o=s,l=s.x,c=s.y;let u=1/0;n=s;do{if(r>=n.x&&n.x>=l&&r!==n.x&&g(i<c?r:a,i,l,c,i<c?a:r,i,n.x,n.y)){const t=Math.abs(i-n.y)/(r-n.x);w(n,e)&&(t<u||t===u&&(n.x>s.x||n.x===s.x&&p(s,n)))&&(s=n,u=t)}n=n.next}while(n!==o);return s}(e,t);if(!n)return t;const r=A(n,e);return s(r,r.next),s(n,n.next)}function p(e,t){return _(e.prev,e,t.prev)<0&&_(t.next,e,e.next)<0}function f(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function m(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function g(e,t,n,r,i,s,a,o){return(i-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(r-o)>=(n-a)*(t-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function v(e,t,n,r,i,s,a,o){return!(e===a&&t===o)&&g(e,t,n,r,i,s,a,o)}function b(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(w(e,t)&&w(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!==n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(_(e.prev,e,t.prev)||_(e,t.prev,t))||x(e,t)&&_(e.prev,e,e.next)>0&&_(t.prev,t,t.next)>0)}function _(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){const i=T(_(e,t,n)),s=T(_(e,t,r)),a=T(_(n,r,e)),o=T(_(n,r,t));return i!==s&&a!==o||(!(0!==i||!S(e,n,t))||(!(0!==s||!S(e,r,t))||(!(0!==a||!S(n,e,r))||!(0!==o||!S(n,t,r)))))}function S(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function T(e){return e>0?1:e<0?-1:0}function w(e,t){return _(e.prev,e,e.next)<0?_(e,t,e.next)>=0&&_(e,e.prev,t)>=0:_(e,t,e.prev)<0||_(e,e.next,t)<0}function A(e,t){const n=R(e.i,e.x,e.y),r=R(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function E(e,t,n,r){const i=R(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function C(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function R(e,t,n){return{i:e,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function M(e,t,n,r){let i=0;for(let s=t,a=n-r;s<n;s+=r)i+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return i}n.d(t,{h:()=>P});n(2604);const P=r.default||r},1446:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r=n(9914),i=n(1274);let s=!1;function a(e){if(!s){if(r.e.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const t=["%c  %c  %c  %c  %c PixiJS %c v".concat(i.xv," (").concat(e,") http://www.pixijs.com/\n\n"),"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...t)}else globalThis.console&&globalThis.console.log("PixiJS ".concat(i.xv," - ").concat(e," - http://www.pixijs.com/"));s=!0}}},1447:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,H:()=>a});let r=null;const i={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"},s={float:"float32",vec2:"float32x2",vec3:"float32x3",vec4:"float32x4",int:"sint32",ivec2:"sint32x2",ivec3:"sint32x3",ivec4:"sint32x4",uint:"uint32",uvec2:"uint32x2",uvec3:"uint32x3",uvec4:"uint32x4",bool:"uint32",bvec2:"uint32x2",bvec3:"uint32x3",bvec4:"uint32x4"};function a(e,t){if(!r){const t=Object.keys(i);r={};for(let n=0;n<t.length;++n){const s=t[n];r[e[s]]=i[s]}}return r[t]}function o(e,t){const n=a(e,t);return s[n]||"float32"}},1478:(e,t,n)=>{"use strict";n.d(t,{Ag:()=>i,XO:()=>o,vp:()=>a});var r=n(7051),i=(e=>(e.Application="application",e.WebGLPipes="webgl-pipes",e.WebGLPipesAdaptor="webgl-pipes-adaptor",e.WebGLSystem="webgl-system",e.WebGPUPipes="webgpu-pipes",e.WebGPUPipesAdaptor="webgpu-pipes-adaptor",e.WebGPUSystem="webgpu-system",e.CanvasSystem="canvas-system",e.CanvasPipesAdaptor="canvas-pipes-adaptor",e.CanvasPipes="canvas-pipes",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e.MaskEffect="mask-effect",e.BlendMode="blend-mode",e.TextureSource="texture-source",e.Environment="environment",e.ShapeBuilder="shape-builder",e.Batcher="batcher",e))(i||{});const s=e=>{if("function"===typeof e||"object"===typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");const t="object"!==typeof e.extension?{type:e.extension}:e.extension;e=(0,r.A)((0,r.A)({},t),{},{ref:e})}if("object"!==typeof e)throw new Error("Invalid extension type");return"string"===typeof(e=(0,r.A)({},e)).type&&(e.type=[e.type]),e},a=(e,t)=>{var n;return null!==(n=s(e).priority)&&void 0!==n?n:t},o={_addHandlers:{},_removeHandlers:{},_queue:{},remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(s).forEach(e=>{e.type.forEach(t=>{var n,r;return null===(n=(r=this._removeHandlers)[t])||void 0===n?void 0:n.call(r,e)})}),this},add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(s).forEach(e=>{e.type.forEach(t=>{const n=this._addHandlers,r=this._queue;var i,s;n[t]?null===(i=n[t])||void 0===i||i.call(n,e):(r[t]=r[t]||[],null===(s=r[t])||void 0===s||s.push(e))})}),this},handle(e,t,n){const r=this._addHandlers,i=this._removeHandlers;if(r[e]||i[e])throw new Error("Extension type ".concat(e," already has a handler"));r[e]=t,i[e]=n;const s=this._queue;var a;s[e]&&(null===(a=s[e])||void 0===a||a.forEach(e=>t(e)),delete s[e]);return this},handleByMap(e,t){return this.handle(e,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByNamedList(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.handle(e,e=>{t.findIndex(t=>t.name===e.name)>=0||(t.push({name:e.name,value:e.ref}),t.sort((e,t)=>a(t.value,n)-a(e.value,n)))},e=>{const n=t.findIndex(t=>t.name===e.name);-1!==n&&t.splice(n,1)})},handleByList(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return this.handle(e,e=>{t.includes(e.ref)||(t.push(e.ref),t.sort((e,t)=>a(t,n)-a(e,n)))},e=>{const n=t.indexOf(e.ref);-1!==n&&t.splice(n,1)})},mixin(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)Object.defineProperties(e.prototype,Object.getOwnPropertyDescriptors(i))}}},1479:(e,t,n)=>{"use strict";n.d(t,{WebGPURenderer:()=>P});var r=n(1478),i=n(207),s=n(1009),a=n(4618),o=n(3476),l=n(8722),c=n(6650),u=n(3739),d=n(8474),h=n(1946),p=n(7301),f=n(359),m=n(4983),g=n(4959),v=n(607),b=n(1312),_=n(6490),x=n(4670),y=n(4190),S=n(7054),T=n(4738);const w=[...l.i,v.u,f._,p.O,m.g,d.C,T.P,x.p,y.x,S.$,_.A,h.l,g.k,u.g],A=[...l.f,b.T],E=[a.E,s.F,i.r],C=[],R=[],M=[];r.XO.handleByNamedList(r.Ag.WebGPUSystem,C),r.XO.handleByNamedList(r.Ag.WebGPUPipes,R),r.XO.handleByNamedList(r.Ag.WebGPUPipesAdaptor,M),r.XO.add(...w,...A,...E);class P extends o.k{constructor(){super({name:"webgpu",type:c.W.WEBGPU,systems:C,renderPipes:R,renderPipeAdaptors:M})}}},1498:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(2372);function i(e,t,n,i,s,a,o,l){const c=a;if(!l||"repeat"!==e.addressModeU||"repeat"!==e.addressModeV||"repeat"!==e.addressModeW){const n=r.AJ[o?"clamp-to-edge":e.addressModeU],i=r.AJ[o?"clamp-to-edge":e.addressModeV],a=r.AJ[o?"clamp-to-edge":e.addressModeW];t[s](c,t.TEXTURE_WRAP_S,n),t[s](c,t.TEXTURE_WRAP_T,i),t.TEXTURE_WRAP_R&&t[s](c,t.TEXTURE_WRAP_R,a)}if(l&&"linear"===e.magFilter||t[s](c,t.TEXTURE_MAG_FILTER,r.wq[e.magFilter]),n){if(!l||"linear"!==e.mipmapFilter){const n=r.yT[e.minFilter][e.mipmapFilter];t[s](c,t.TEXTURE_MIN_FILTER,n)}}else t[s](c,t.TEXTURE_MIN_FILTER,r.wq[e.minFilter]);if(i&&e.maxAnisotropy>1){const n=Math.min(e.maxAnisotropy,t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));t[s](c,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}e.compare&&t[s](c,t.TEXTURE_COMPARE_FUNC,r.am[e.compare])}},1500:(e,t,n)=>{"use strict";function r(e){return{r8unorm:e.UNSIGNED_BYTE,r8snorm:e.BYTE,r8uint:e.UNSIGNED_BYTE,r8sint:e.BYTE,r16uint:e.UNSIGNED_SHORT,r16sint:e.SHORT,r16float:e.HALF_FLOAT,rg8unorm:e.UNSIGNED_BYTE,rg8snorm:e.BYTE,rg8uint:e.UNSIGNED_BYTE,rg8sint:e.BYTE,r32uint:e.UNSIGNED_INT,r32sint:e.INT,r32float:e.FLOAT,rg16uint:e.UNSIGNED_SHORT,rg16sint:e.SHORT,rg16float:e.HALF_FLOAT,rgba8unorm:e.UNSIGNED_BYTE,"rgba8unorm-srgb":e.UNSIGNED_BYTE,rgba8snorm:e.BYTE,rgba8uint:e.UNSIGNED_BYTE,rgba8sint:e.BYTE,bgra8unorm:e.UNSIGNED_BYTE,"bgra8unorm-srgb":e.UNSIGNED_BYTE,rgb9e5ufloat:e.UNSIGNED_INT_5_9_9_9_REV,rgb10a2unorm:e.UNSIGNED_INT_2_10_10_10_REV,rg11b10ufloat:e.UNSIGNED_INT_10F_11F_11F_REV,rg32uint:e.UNSIGNED_INT,rg32sint:e.INT,rg32float:e.FLOAT,rgba16uint:e.UNSIGNED_SHORT,rgba16sint:e.SHORT,rgba16float:e.HALF_FLOAT,rgba32uint:e.UNSIGNED_INT,rgba32sint:e.INT,rgba32float:e.FLOAT,stencil8:e.UNSIGNED_BYTE,depth16unorm:e.UNSIGNED_SHORT,depth24plus:e.UNSIGNED_INT,"depth24plus-stencil8":e.UNSIGNED_INT_24_8,depth32float:e.FLOAT,"depth32float-stencil8":e.FLOAT_32_UNSIGNED_INT_24_8_REV}}n.d(t,{o:()=>r})},1538:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(4307),i=n(279),s=n(5937),a=n(7422),o=n(5579);class l{constructor(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new r.M}init(e,t){this._renderer=e,this._renderTargetSystem=t,e.runners.contextChange.add(this)}contextChange(){this._clearColorCache=[0,0,0,0],this._viewPortCache=new r.M}copyToTexture(e,t,n,r,i){const s=this._renderTargetSystem,a=this._renderer,o=s.getGpuRenderTarget(e),l=a.gl;return this.finishRenderPass(e),l.bindFramebuffer(l.FRAMEBUFFER,o.resolveTargetFramebuffer),a.texture.bind(t,0),l.copyTexSubImage2D(l.TEXTURE_2D,0,i.x,i.y,n.x,n.y,r.width,r.height),t}startRenderPass(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=this._renderTargetSystem,s=e.colorTexture,a=i.getGpuRenderTarget(e);let o=r.y;e.isRoot&&(o=s.pixelHeight-r.height),e.colorTextures.forEach(e=>{this._renderer.texture.unbind(e)});const l=this._renderer.gl;l.bindFramebuffer(l.FRAMEBUFFER,a.framebuffer);const c=this._viewPortCache;c.x===r.x&&c.y===o&&c.width===r.width&&c.height===r.height||(c.x=r.x,c.y=o,c.width=r.width,c.height=r.height,l.viewport(r.x,o,r.width,r.height)),a.depthStencilRenderBuffer||!e.stencil&&!e.depth||this._initStencil(a),this.clear(e,t,n)}finishRenderPass(e){const t=this._renderTargetSystem.getGpuRenderTarget(e);if(!t.msaa)return;const n=this._renderer.gl;n.bindFramebuffer(n.FRAMEBUFFER,t.resolveTargetFramebuffer),n.bindFramebuffer(n.READ_FRAMEBUFFER,t.framebuffer),n.blitFramebuffer(0,0,t.width,t.height,0,0,t.width,t.height,n.COLOR_BUFFER_BIT,n.NEAREST),n.bindFramebuffer(n.FRAMEBUFFER,t.framebuffer)}initGpuRenderTarget(e){const t=this._renderer.gl,n=new o.N;return e.colorTexture instanceof s.q?(this._renderer.context.ensureCanvasSize(e.colorTexture.resource),n.framebuffer=null,n):(this._initColor(e,n),t.bindFramebuffer(t.FRAMEBUFFER,null),n)}destroyGpuRenderTarget(e){const t=this._renderer.gl;e.framebuffer&&(t.deleteFramebuffer(e.framebuffer),e.framebuffer=null),e.resolveTargetFramebuffer&&(t.deleteFramebuffer(e.resolveTargetFramebuffer),e.resolveTargetFramebuffer=null),e.depthStencilRenderBuffer&&(t.deleteRenderbuffer(e.depthStencilRenderBuffer),e.depthStencilRenderBuffer=null),e.msaaRenderBuffer.forEach(e=>{t.deleteRenderbuffer(e)}),e.msaaRenderBuffer=null}clear(e,t,n){if(!t)return;const r=this._renderTargetSystem;"boolean"===typeof t&&(t=t?a.u.ALL:a.u.NONE);const i=this._renderer.gl;if(t&a.u.COLOR){null!==n&&void 0!==n||(n=r.defaultClearColor);const e=this._clearColorCache,t=n;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]||(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],i.clearColor(t[0],t[1],t[2],t[3]))}i.clear(t)}resizeGpuRenderTarget(e){if(e.isRoot)return;const t=this._renderTargetSystem.getGpuRenderTarget(e);this._resizeColor(e,t),(e.stencil||e.depth)&&this._resizeStencil(t)}_initColor(e,t){const n=this._renderer,r=n.gl,s=r.createFramebuffer();if(t.resolveTargetFramebuffer=s,r.bindFramebuffer(r.FRAMEBUFFER,s),t.width=e.colorTexture.source.pixelWidth,t.height=e.colorTexture.source.pixelHeight,e.colorTextures.forEach((e,s)=>{const a=e.source;a.antialias&&(n.context.supports.msaa?t.msaa=!0:(0,i.R)("[RenderTexture] Antialiasing on textures is not supported in WebGL1")),n.texture.bindSource(a,0);const o=n.texture.getGlSource(a).texture;r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+s,3553,o,0)}),t.msaa){const n=r.createFramebuffer();t.framebuffer=n,r.bindFramebuffer(r.FRAMEBUFFER,n),e.colorTextures.forEach((e,n)=>{const i=r.createRenderbuffer();t.msaaRenderBuffer[n]=i})}else t.framebuffer=s;this._resizeColor(e,t)}_resizeColor(e,t){const n=e.colorTexture.source;if(t.width=n.pixelWidth,t.height=n.pixelHeight,e.colorTextures.forEach((e,t)=>{0!==t&&e.source.resize(n.width,n.height,n._resolution)}),t.msaa){const n=this._renderer,r=n.gl,i=t.framebuffer;r.bindFramebuffer(r.FRAMEBUFFER,i),e.colorTextures.forEach((e,i)=>{const s=e.source;n.texture.bindSource(s,0);const a=n.texture.getGlSource(s).internalFormat,o=t.msaaRenderBuffer[i];r.bindRenderbuffer(r.RENDERBUFFER,o),r.renderbufferStorageMultisample(r.RENDERBUFFER,4,a,s.pixelWidth,s.pixelHeight),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+i,r.RENDERBUFFER,o)})}}_initStencil(e){if(null===e.framebuffer)return;const t=this._renderer.gl,n=t.createRenderbuffer();e.depthStencilRenderBuffer=n,t.bindRenderbuffer(t.RENDERBUFFER,n),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,n),this._resizeStencil(e)}_resizeStencil(e){const t=this._renderer.gl;t.bindRenderbuffer(t.RENDERBUFFER,e.depthStencilRenderBuffer),e.msaa?t.renderbufferStorageMultisample(t.RENDERBUFFER,4,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,2===this._renderer.context.webGLVersion?t.DEPTH24_STENCIL8:t.DEPTH_STENCIL,e.width,e.height)}prerender(e){const t=e.colorTexture.resource;this._renderer.context.multiView&&s.q.test(t)&&this._renderer.context.ensureCanvasSize(t)}postrender(e){if(this._renderer.context.multiView&&s.q.test(e.colorTexture.resource)){const t=this._renderer.context.canvas,n=e.colorTexture;n.context2D.drawImage(t,0,n.pixelHeight-t.height)}}}},1669:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});class r{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}},1685:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.isArray(e)||(e=[e]),t?e.map(e=>"string"===typeof e||n?t(e):e):e}},1686:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var r=n(6225);const i=16777215;function s(e,t){return e===i?t:t===i?e:(0,r.u)(e,t)}},1695:(e,t,n)=>{"use strict";n.d(t,{y:()=>r});var r=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(r||{})},1750:(e,t,n)=>{"use strict";function r(e,t,n){const r=e.getAttribute(t);return r?Number(r):n}n.d(t,{I:()=>r})},1755:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var r=n(7051),i=n(9914),s=n(1478),a=n(4307),o=n(4811),l=n(348),c=n(4664);const u=class e{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(t){(t=(0,r.A)((0,r.A)({},e.defaultOptions),t)).view&&((0,o.t6)(o.lj,"ViewSystem.view has been renamed to ViewSystem.canvas"),t.canvas=t.view),this.screen=new a.M(0,0,t.width,t.height),this.canvas=t.canvas||i.e.get().createCanvas(),this.antialias=!!t.antialias,this.texture=(0,c.c)(this.canvas,t),this.renderTarget=new l.O({colorTextures:[this.texture],depth:!!t.depth,isRoot:!0}),this.texture.source.transparent=t.backgroundAlpha<1,this.resolution=t.resolution}resize(e,t,n){this.texture.source.resize(e,t,n),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];("boolean"===typeof e?e:!(null===e||void 0===e||!e.removeView))&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}};u.extension={type:[s.Ag.WebGLSystem,s.Ag.WebGPUSystem,s.Ag.CanvasSystem],name:"view",priority:0},u.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};let d=u},1785:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(2084);function i(e){let{groups:t}=e;const n=[];for(let i=0;i<t.length;i++){const e=t[i];n[e.group]||(n[e.group]=[]),e.isUniform?n[e.group].push({binding:e.binding,visibility:r.q.VERTEX|r.q.FRAGMENT,buffer:{type:"uniform"}}):"sampler"===e.type?n[e.group].push({binding:e.binding,visibility:r.q.FRAGMENT,sampler:{type:"filtering"}}):"texture_2d"===e.type&&n[e.group].push({binding:e.binding,visibility:r.q.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return n}},1823:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(1478),i=n(6001);const s=[],a={extension:{type:r.Ag.ShapeBuilder,name:"polygon"},build(e,t){for(let n=0;n<e.points.length;n++)t[n]=e.points[n];return!0},triangulate(e,t,n,r,a,o){(0,i.U)(e,s,t,n,r,a,o)}}},1845:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,I:()=>i});const r=1e-4,i=1e-4},1887:(e,t,n)=>{"use strict";n.d(t,{h:()=>u});var r=n(5202),i=n(6333),s=n(818),a=n(7393),o=n(1013),l=n(8563),c=n(4513);class u{constructor(e){var t;this._size=0,this._generateParticleUpdateCache={};const n=this._size=null!==(t=e.size)&&void 0!==t?t:1e3,c=e.properties;let u=0,d=0;for(const r in c){const e=c[r],t=(0,a.m)(e.format);e.dynamic?d+=t.stride:u+=t.stride}this._dynamicStride=d/4,this._staticStride=u/4,this.staticAttributeBuffer=new o.u(4*n*u),this.dynamicAttributeBuffer=new o.u(4*n*d),this.indexBuffer=(0,l.L)(n);const h=new s.V;let p=0,f=0;this._staticBuffer=new r.h({data:new Float32Array(1),label:"static-particle-buffer",shrinkToFit:!1,usage:i.S.VERTEX|i.S.COPY_DST}),this._dynamicBuffer=new r.h({data:new Float32Array(1),label:"dynamic-particle-buffer",shrinkToFit:!1,usage:i.S.VERTEX|i.S.COPY_DST});for(const r in c){const e=c[r],t=(0,a.m)(e.format);e.dynamic?(h.addAttribute(e.attributeName,{buffer:this._dynamicBuffer,stride:4*this._dynamicStride,offset:4*p,format:e.format}),p+=t.size):(h.addAttribute(e.attributeName,{buffer:this._staticBuffer,stride:4*this._staticStride,offset:4*f,format:e.format}),f+=t.size)}h.addIndex(this.indexBuffer);const m=this.getParticleUpdate(c);this._dynamicUpload=m.dynamicUpdate,this._staticUpload=m.staticUpdate,this.geometry=h}getParticleUpdate(e){const t=function(e){const t=[];for(const n in e){const r=e[n];t.push(n,r.code,r.dynamic?"d":"s")}return t.join("_")}(e);return this._generateParticleUpdateCache[t]||(this._generateParticleUpdateCache[t]=this.generateParticleUpdate(e)),this._generateParticleUpdateCache[t]}generateParticleUpdate(e){return(0,c.N)(e)}update(e,t){e.length>this._size&&(t=!0,this._size=Math.max(e.length,1.5*this._size|0),this.staticAttributeBuffer=new o.u(this._size*this._staticStride*4*4),this.dynamicAttributeBuffer=new o.u(this._size*this._dynamicStride*4*4),this.indexBuffer=(0,l.L)(this._size),this.geometry.indexBuffer.setDataWithSize(this.indexBuffer,this.indexBuffer.byteLength,!0));const n=this.dynamicAttributeBuffer;if(this._dynamicUpload(e,n.float32View,n.uint32View),this._dynamicBuffer.setDataWithSize(this.dynamicAttributeBuffer.float32View,e.length*this._dynamicStride*4,!0),t){const t=this.staticAttributeBuffer;this._staticUpload(e,t.float32View,t.uint32View),this._staticBuffer.setDataWithSize(t.float32View,e.length*this._staticStride*4,!0)}}destroy(){this._staticBuffer.destroy(),this._dynamicBuffer.destroy(),this.geometry.destroy()}}},1915:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function i(e){const t="number"===typeof e.fontSize?"".concat(e.fontSize,"px"):e.fontSize;let n=e.fontFamily;Array.isArray(e.fontFamily)||(n=e.fontFamily.split(","));for(let i=n.length-1;i>=0;i--){let e=n[i].trim();/([\"\'])[^\'\"]+\1/.test(e)||r.includes(e)||(e='"'.concat(e,'"')),n[i]=e}return"".concat(e.fontStyle," ").concat(e.fontVariant," ").concat(e.fontWeight," ").concat(t," ").concat(n.join(","))}},1937:(e,t,n)=>{"use strict";n.d(t,{WebGLRenderer:()=>P});var r=n(1478),i=n(7539),s=n(3063),a=n(2054),o=n(3476),l=n(8722),c=n(6650),u=n(2182),d=n(1398),h=n(8073),p=n(5732),f=n(209),m=n(1155),g=n(8907),v=n(7523),b=n(6515),_=n(5759),x=n(5656),y=n(7686),S=n(3862),T=n(9590);const w=[...l.i,b.z,p.q,d.q,g.R,u.h,T._,_.E,h.r,y.e,x.S,m.X,S.u,v.P,f.U],A=[...l.f],E=[a.t,s.S,i.k],C=[],R=[],M=[];r.XO.handleByNamedList(r.Ag.WebGLSystem,C),r.XO.handleByNamedList(r.Ag.WebGLPipes,R),r.XO.handleByNamedList(r.Ag.WebGLPipesAdaptor,M),r.XO.add(...w,...A,...E);class P extends o.k{constructor(){super({name:"webgl",type:c.W.WEBGL,systems:C,renderPipes:R,renderPipeAdaptors:M})}}},1946:(e,t,n)=>{"use strict";n.d(t,{l:()=>i});var r=n(1478);class i{constructor(e){this._colorMaskCache=15,this._renderer=e}setMask(e){this._colorMaskCache!==e&&(this._colorMaskCache=e,this._renderer.pipeline.setColorMask(e))}destroy(){this._renderer=null,this._colorMaskCache=null}}i.extension={type:[r.Ag.WebGPUSystem],name:"colorMask"}},1960:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new r(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x=e,this.y=t,this}toString(){return"[pixi.js/math:Point x=".concat(this.x," y=").concat(this.y,"]")}static get shared(){return i.x=0,i.y=0,i}}const i=new r},1989:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});class r{constructor(){this.contexts=[],this.msaaTextures=[],this.msaaSamples=1}}},1996:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var r=n(801),i=n(3700),s=n(9665),a=n(1785),o=n(9997),l=n(971);const c=Object.create(null);class u{constructor(e){var t,n;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:r,vertex:i,layout:c,gpuLayout:u,name:d}=e;if(this.name=d,this.fragment=r,this.vertex=i,r.source===i.source){const e=(0,s.G)(r.source);this.structsAndGroups=e}else{const e=(0,s.G)(i.source),t=(0,s.G)(r.source);this.structsAndGroups=(0,l.A)(e,t)}this.layout=null!==c&&void 0!==c?c:(0,o.y)(this.structsAndGroups),this.gpuLayout=null!==u&&void 0!==u?u:(0,a.W)(this.structsAndGroups),this.autoAssignGlobalUniforms=!(void 0===(null===(t=this.layout[0])||void 0===t?void 0:t.globalUniforms)),this.autoAssignLocalUniforms=!(void 0===(null===(n=this.layout[1])||void 0===n?void 0:n.localUniforms)),this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:t}=this,n=e.source+t.source+e.entryPoint+t.entryPoint;this._layoutKey=(0,r.X)(n,"program")}get attributeData(){var e;return null!==(e=this._attributeData)&&void 0!==e||(this._attributeData=(0,i.N)(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(e){const t="".concat(e.vertex.source,":").concat(e.fragment.source,":").concat(e.fragment.entryPoint,":").concat(e.vertex.entryPoint);return c[t]||(c[t]=new u(e)),c[t]}}},2026:(e,t,n)=>{"use strict";n.d(t,{L:()=>i,t:()=>s});const r={default:-1};function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return void 0===r[e]&&(r[e]=-1),++r[e]}function s(){for(const e in r)delete r[e]}},2054:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var r=n(1478),i=n(576);class s{constructor(){this._tempState=i.U.for2d(),this._didUploadHash={}}init(e){e.renderer.runners.contextChange.add(this)}contextChange(){this._didUploadHash={}}start(e,t,n){const r=e.renderer,i=this._didUploadHash[n.uid];r.shader.bind(n,i),i||(this._didUploadHash[n.uid]=!0),r.shader.updateUniformGroup(r.globalUniforms.uniformGroup),r.geometry.bind(t,n.glProgram)}execute(e,t){const n=e.renderer;this._tempState.blendMode=t.blendMode,n.state.set(this._tempState);const r=t.textures.textures;for(let i=0;i<t.textures.count;i++)n.texture.bind(r[i],i);n.geometry.draw(t.topology,t.size,t.start)}}s.extension={type:[r.Ag.WebGLPipesAdaptor],name:"batch"}},2077:(e,t,n)=>{"use strict";n.d(t,{v:()=>d});var r=n(5242),i=n(4307),s=n(9445),a=n(4999),o=n(7821),l=n(1915),c=n(5435);const u=new i.M;const d=new class{getCanvasAndContext(e){const{text:t,style:n,resolution:r=1}=e,i=n._getFinalPadding(),l=o.P.measureText(t||" ",n),c=Math.ceil(Math.ceil(Math.max(1,l.width)+2*i)*r),d=Math.ceil(Math.ceil(Math.max(1,l.height)+2*i)*r),h=s.N.getOptimalCanvasAndContext(c,d);this._renderTextToCanvas(t,n,i,r,h);return{canvasAndContext:h,frame:n.trim?(0,a.m)({canvas:h.canvas,width:c,height:d,resolution:1,output:u}):u.set(0,0,c,d)}}returnCanvasAndContext(e){s.N.returnCanvasAndContext(e)}_renderTextToCanvas(e,t,n,i,s){var a;const{canvas:u,context:d}=s,h=(0,l.Z)(t),p=o.P.measureText(e||" ",t),f=p.lines,m=p.lineHeight,g=p.lineWidths,v=p.maxLineWidth,b=p.fontProperties,_=u.height;if(d.resetTransform(),d.scale(i,i),d.textBaseline=t.textBaseline,null!==(a=t._stroke)&&void 0!==a&&a.width){const e=t._stroke;d.lineWidth=e.width,d.miterLimit=e.miterLimit,d.lineJoin=e.join,d.lineCap=e.cap}let x,y;d.font=h;const S=t.dropShadow?2:1;for(let o=0;o<S;++o){var T,w;const e=t.dropShadow&&0===o,a=e?Math.ceil(Math.max(1,_)+2*n):0,l=a*i;if(e){d.fillStyle="black",d.strokeStyle="black";const e=t.dropShadow,n=e.color,s=e.alpha;d.shadowColor=r.Q.shared.setValue(n).setAlpha(s).toRgbaString();const a=e.blur*i,o=e.distance*i;d.shadowBlur=a,d.shadowOffsetX=Math.cos(e.angle)*o,d.shadowOffsetY=Math.sin(e.angle)*o+l}else{var A;if(d.fillStyle=t._fill?(0,c.r)(t._fill,d,p,2*n):null,null!==(A=t._stroke)&&void 0!==A&&A.width){const e=.5*t._stroke.width+2*n;d.strokeStyle=(0,c.r)(t._stroke,d,p,e)}d.shadowColor="black"}let u=(m-b.fontSize)/2;m-b.fontSize<0&&(u=0);const h=null!==(T=null===(w=t._stroke)||void 0===w?void 0:w.width)&&void 0!==T?T:0;for(let r=0;r<f.length;r++){var E;x=h/2,y=h/2+r*m+b.ascent+u,"right"===t.align?x+=v-g[r]:"center"===t.align&&(x+=(v-g[r])/2),null!==(E=t._stroke)&&void 0!==E&&E.width&&this._drawLetterSpacing(f[r],t,s,x+n,y+n-a,!0),void 0!==t._fill&&this._drawLetterSpacing(f[r],t,s,x+n,y+n-a)}}}_drawLetterSpacing(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const{context:a}=n,l=t.letterSpacing;let c=!1;if(o.P.experimentalLetterSpacingSupported&&(o.P.experimentalLetterSpacing?(a.letterSpacing="".concat(l,"px"),a.textLetterSpacing="".concat(l,"px"),c=!0):(a.letterSpacing="0px",a.textLetterSpacing="0px")),0===l||c)return void(s?a.strokeText(e,r,i):a.fillText(e,r,i));let u=r;const d=o.P.graphemeSegmenter(e);let h=a.measureText(e).width,p=0;for(let o=0;o<d.length;++o){const e=d[o];s?a.strokeText(e,u,i):a.fillText(e,u,i);let t="";for(let n=o+1;n<d.length;++n)t+=d[n];p=a.measureText(t).width,u+=h-p+l,h=p}}}},2080:(e,t,n)=>{"use strict";n.d(t,{i:()=>i});var r=n(7358);function i(e,t){return"no-premultiply-alpha"===t.alphaMode&&r.Q[e]||e}},2084:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var r=(e=>(e[e.VERTEX=1]="VERTEX",e[e.FRAGMENT=2]="FRAGMENT",e[e.COMPUTE=4]="COMPUTE",e))(r||{})},2086:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(7051),i=n(5242),s=n(1478),a=n(279);const o=class e{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new i.Q(0),this.color=this._backgroundColor,this.alpha=1}init(t){t=(0,r.A)((0,r.A)({},e.defaultOptions),t),this.clearBeforeRender=t.clearBeforeRender,this.color=t.background||t.backgroundColor||this._backgroundColor,this.alpha=t.backgroundAlpha,this._backgroundColor.setAlpha(t.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){i.Q.shared.setValue(e).alpha<1&&1===this._backgroundColor.alpha&&(0,a.R)("Cannot set a transparent background on an opaque canvas. To enable transparency, set backgroundAlpha < 1 when initializing your Application."),this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};o.extension={type:[s.Ag.WebGLSystem,s.Ag.WebGPUSystem,s.Ag.CanvasSystem],name:"background",priority:0},o.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let l=o},2100:(e,t,n)=>{"use strict";n.d(t,{x:()=>f});var r=n(7051),i=n(2604),s=n(5242),a=n(4811),o=n(279),l=n(4325),c=n(1201),u=n(140),d=n(4839),h=n(3686);const p=class e extends i.A{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),function(e){const t=e;if("boolean"===typeof t.dropShadow&&t.dropShadow){var n,i,u,d,h;const r=f.defaultDropShadow;e.dropShadow={alpha:null!==(n=t.dropShadowAlpha)&&void 0!==n?n:r.alpha,angle:null!==(i=t.dropShadowAngle)&&void 0!==i?i:r.angle,blur:null!==(u=t.dropShadowBlur)&&void 0!==u?u:r.blur,color:null!==(d=t.dropShadowColor)&&void 0!==d?d:r.color,distance:null!==(h=t.dropShadowDistance)&&void 0!==h?h:r.distance}}if(void 0!==t.strokeThickness){(0,a.t6)(a.lj,"strokeThickness is now a part of stroke");const n=t.stroke;let i={};if(s.Q.isColorLike(n))i.color=n;else if(n instanceof l._||n instanceof c.m)i.fill=n;else{if(!Object.hasOwnProperty.call(n,"color")&&!Object.hasOwnProperty.call(n,"fill"))throw new Error("Invalid stroke value.");i=n}e.stroke=(0,r.A)((0,r.A)({},i),{},{width:t.strokeThickness})}if(Array.isArray(t.fillGradientStops)){if((0,a.t6)(a.lj,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(t.fill)||0===t.fill.length)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");t.fill.length!==t.fillGradientStops.length&&(0,o.R)("The number of fill colors must match the number of fill gradient stops.");const n=new l._({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),r=t.fillGradientStops.slice(),i=t.fill.map(e=>s.Q.shared.setValue(e).toNumber());r.forEach((e,t)=>{n.addColorStop(e,i[t])}),e.fill={fill:n}}}(t);const n=(0,r.A)((0,r.A)({},e.defaultTextStyle),t);for(const e in n){this[e]=n[e]}this.update()}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow=null!==t&&"object"===typeof t?this._createProxy((0,r.A)((0,r.A)({},e.defaultDropShadow),t)):t?this._createProxy((0,r.A)({},e.defaultDropShadow)):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize="string"===typeof e?parseInt(e,10):e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get filters(){return this._filters}set filters(e){this._filters=e,this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy((0,r.A)((0,r.A)({},u.T.defaultFillStyle),e),()=>{this._fill=(0,d.w)((0,r.A)({},this._originalFill),u.T.defaultFillStyle)})),this._fill=(0,d.w)(0===e?"black":e,u.T.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy((0,r.A)((0,r.A)({},u.T.defaultStrokeStyle),e),()=>{this._stroke=(0,d.T)((0,r.A)({},this._originalStroke),u.T.defaultStrokeStyle)})),this._stroke=(0,d.T)(e,u.T.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=(0,h.V)(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=e.defaultTextStyle;for(const e in t)this[e]=t[e]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new e({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?(0,r.A)({},this._dropShadow):null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let t=0;t<this._filters.length;t++)e+=this._filters[t].padding;return Math.max(this._padding,e)}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.removeAllListeners();if("boolean"===typeof e?e:null===e||void 0===e?void 0:e.texture){var t,n,r,i;const s="boolean"===typeof e?e:null===e||void 0===e?void 0:e.textureSource;null!==(t=this._fill)&&void 0!==t&&t.texture&&this._fill.texture.destroy(s),null!==(n=this._originalFill)&&void 0!==n&&n.texture&&this._originalFill.texture.destroy(s),null!==(r=this._stroke)&&void 0!==r&&r.texture&&this._stroke.texture.destroy(s),null!==(i=this._originalStroke)&&void 0!==i&&i.texture&&this._originalStroke.texture.destroy(s)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,t){return new Proxy(e,{set:(e,n,r)=>(e[n]=r,null===t||void 0===t||t(n,r),this.update(),!0)})}_isFillStyle(e){return null!==(null!==e&&void 0!==e?e:null)&&!(s.Q.isColorLike(e)||e instanceof l._||e instanceof c.m)}};p.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5},p.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let f=p},2147:(e,t,n)=>{"use strict";n.d(t,{Q:()=>h,h:()=>d});var r=n(8892),i=n(1130),s=n(4929),a=n(2856),o=n(9708);const l=Object.create(null),c=new Map;let u=0;function d(e){let{template:t,bits:n}=e;const r=p(t,n);if(l[r])return l[r];const{vertex:i,fragment:o}=function(e,t){const n=t.map(e=>e.vertex).filter(e=>!!e),r=t.map(e=>e.fragment).filter(e=>!!e);let i=(0,s.j)(n,e.vertex,!0);i=(0,a.Q)(n,i);const o=(0,s.j)(r,e.fragment,!0);return{vertex:i,fragment:o}}(t,n);return l[r]=f(i,o,n),l[r]}function h(e){let{template:t,bits:n}=e;const r=p(t,n);return l[r]||(l[r]=f(t.vertex,t.fragment,n)),l[r]}function p(e,t){return t.map(e=>(c.has(e)||c.set(e,u++),c.get(e))).sort((e,t)=>e-t).join("-")+e.vertex+e.fragment}function f(e,t,n){const s=(0,i.w)(e),a=(0,i.w)(t);return n.forEach(e=>{(0,r.u)(e.vertex,s,e.name),(0,r.u)(e.fragment,a,e.name)}),{vertex:(0,o.q)(e,s),fragment:(0,o.q)(t,a)}}},2158:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var r=n(1960),i=n(8671);class s extends i.N{constructor(){super(...arguments),this.client=new r.b,this.movement=new r.b,this.offset=new r.b,this.global=new r.b,this.screen=new r.b}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,r,i,s,a,o,l,c,u,d,h,p,f){throw new Error("Method not implemented.")}}},2182:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(1478),i=n(6333),s=n(1695),a=n(285);class o{constructor(e){this._gpuBuffers=Object.create(null),this._boundBufferBases=Object.create(null),this._minBaseLocation=0,this._nextBindBaseIndex=this._minBaseLocation,this._bindCallId=0,this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBuffers")}destroy(){this._renderer=null,this._gl=null,this._gpuBuffers=null,this._boundBufferBases=null}contextChange(){this._gl=this._renderer.gl,this._gpuBuffers=Object.create(null),this._maxBindings=this._renderer.limits.maxUniformBindings}getGlBuffer(e){return this._gpuBuffers[e.uid]||this.createGLBuffer(e)}bind(e){const{_gl:t}=this,n=this.getGlBuffer(e);t.bindBuffer(n.type,n.buffer)}bindBufferBase(e,t){const{_gl:n}=this;this._boundBufferBases[t]!==e&&(this._boundBufferBases[t]=e,e._lastBindBaseLocation=t,n.bindBufferBase(n.UNIFORM_BUFFER,t,e.buffer))}nextBindBase(e){this._bindCallId++,this._minBaseLocation=0,e&&(this._boundBufferBases[0]=null,this._minBaseLocation=1,this._nextBindBaseIndex<1&&(this._nextBindBaseIndex=1))}freeLocationForBufferBase(e){let t=this.getLastBindBaseLocation(e);if(t>=this._minBaseLocation)return e._lastBindCallId=this._bindCallId,t;let n=0,r=this._nextBindBaseIndex;for(;n<2;){r>=this._maxBindings&&(r=this._minBaseLocation,n++);const e=this._boundBufferBases[r];if(!e||e._lastBindCallId!==this._bindCallId)break;r++}return t=r,this._nextBindBaseIndex=r+1,n>=2?-1:(e._lastBindCallId=this._bindCallId,this._boundBufferBases[t]=null,t)}getLastBindBaseLocation(e){const t=e._lastBindBaseLocation;return this._boundBufferBases[t]===e?t:-1}bindBufferRange(e,t,n,r){const{_gl:i}=this;n||(n=0),t||(t=0),this._boundBufferBases[t]=null,i.bindBufferRange(i.UNIFORM_BUFFER,t||0,e.buffer,256*n,r||256)}updateBuffer(e){const{_gl:t}=this,n=this.getGlBuffer(e);if(e._updateID===n.updateID)return n;n.updateID=e._updateID,t.bindBuffer(n.type,n.buffer);const r=e.data,s=e.descriptor.usage&i.S.STATIC?t.STATIC_DRAW:t.DYNAMIC_DRAW;return r?n.byteLength>=r.byteLength?t.bufferSubData(n.type,0,r,0,e._updateSize/r.BYTES_PER_ELEMENT):(n.byteLength=r.byteLength,t.bufferData(n.type,r,s)):(n.byteLength=e.descriptor.size,t.bufferData(n.type,n.byteLength,s)),n}destroyAll(){const e=this._gl;for(const t in this._gpuBuffers)e.deleteBuffer(this._gpuBuffers[t].buffer);this._gpuBuffers=Object.create(null)}onBufferDestroy(e,t){const n=this._gpuBuffers[e.uid],r=this._gl;t||r.deleteBuffer(n.buffer),this._gpuBuffers[e.uid]=null}createGLBuffer(e){const{_gl:t}=this;let n=s.y.ARRAY_BUFFER;e.descriptor.usage&i.S.INDEX?n=s.y.ELEMENT_ARRAY_BUFFER:e.descriptor.usage&i.S.UNIFORM&&(n=s.y.UNIFORM_BUFFER);const r=new a.i(t.createBuffer(),n);return this._gpuBuffers[e.uid]=r,e.on("destroy",this.onBufferDestroy,this),r}resetState(){this._boundBufferBases=Object.create(null)}}o.extension={type:[r.Ag.WebGLSystem],name:"buffer"}},2264:(e,t,n)=>{"use strict";function r(e){const t=e.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}n.d(t,{I:()=>r})},2290:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});class r{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}},2300:(e,t,n)=>{"use strict";function r(e,t){const n=e.instructionSet,r=n.instructions;for(let i=0;i<n.instructionSize;i++){const e=r[i];t[e.renderPipeId].execute(e)}}n.d(t,{j:()=>r})},2372:(e,t,n)=>{"use strict";n.d(t,{AJ:()=>s,am:()=>a,wq:()=>r,yT:()=>i});const r={linear:9729,nearest:9728},i={linear:{linear:9987,nearest:9985},nearest:{linear:9986,nearest:9984}},s={"clamp-to-edge":33071,repeat:10497,"mirror-repeat":33648},a={never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519}},2388:(e,t,n)=>{"use strict";n.d(t,{R:()=>r,m:()=>i});const r={name:"texture-bit",vertex:{header:"\n\n        struct TextureUniforms {\n            uTextureMatrix:mat3x3<f32>,\n        }\n\n        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;\n        ",main:"\n            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n            @group(2) @binding(0) var uTexture: texture_2d<f32>;\n            @group(2) @binding(1) var uSampler: sampler;\n\n\n        ",main:"\n            outColor = textureSample(uTexture, uSampler, vUV);\n        "}},i={name:"texture-bit",vertex:{header:"\n            uniform mat3 uTextureMatrix;\n        ",main:"\n            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n        uniform sampler2D uTexture;\n\n\n        ",main:"\n            outColor = texture(uTexture, vUV);\n        "}}},2399:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var r=n(6493),i=n(5682);const s=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this._tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){!this._tickerAdded&&this.domElement&&(i.R.system.add(this._tickerUpdate,this,r.d.INTERACTION),this._tickerAdded=!0)}removeTickerListener(){this._tickerAdded&&(i.R.system.remove(this._tickerUpdate,this),this._tickerAdded=!1)}pointerMoved(){this._didMove=!0}_update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const e=this.events._rootPointerEvent;this.events.supportsTouchEvents&&"touch"===e.pointerType||globalThis.document.dispatchEvent(this.events.supportsPointerEvents?new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY,pointerType:e.pointerType,pointerId:e.pointerId}):new MouseEvent("mousemove",{clientX:e.clientX,clientY:e.clientY}))}_tickerUpdate(e){this._deltaTime+=e.deltaTime,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this._update())}}},2442:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(193);function i(e,t,n,i,s,a){const o=e[e.length-2],l=e[e.length-1]-n,c=o-t,u=s-n,d=i-t,h=Math.abs(l*d-c*u);if(h<1e-8||0===a)return void(e[e.length-2]===t&&e[e.length-1]===n||e.push(t,n));const p=l*l+c*c,f=u*u+d*d,m=l*u+c*d,g=a*Math.sqrt(p)/h,v=a*Math.sqrt(f)/h,b=g*m/p,_=v*m/f,x=g*d+v*c,y=g*u+v*l,S=c*(v+b),T=l*(v+b),w=d*(g+_),A=u*(g+_),E=Math.atan2(T-y,S-x),C=Math.atan2(A-y,w-x);(0,r.t)(e,x+t,y+n,a,E,C,c*u>d*l)}},2512:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s){const a=i-n,o=s-r,l=a*a+o*o;let c,u,d=-1;0!==l&&(d=((e-n)*a+(t-r)*o)/l),d<0?(c=n,u=r):d>1?(c=i,u=s):(c=n+d*a,u=r+d*o);const h=e-c,p=t-u;return h*h+p*p}n.d(t,{z:()=>r})},2559:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var r=n(279),i=n(7393);function s(e,t){for(const i in e.attributes){const o=e.attributes[i],l=t[i];var n,s,a;if(l)null!==(n=o.format)&&void 0!==n||(o.format=l.format),null!==(s=o.offset)&&void 0!==s||(o.offset=l.offset),null!==(a=o.instance)&&void 0!==a||(o.instance=l.instance);else(0,r.R)("Attribute ".concat(i," is not present in the shader, but is present in the geometry. Unable to infer attribute details."))}!function(e){const{buffers:t,attributes:n}=e,r={},s={};for(const i in t){const e=t[i];r[e.uid]=0,s[e.uid]=0}for(const l in n){const e=n[l];r[e.buffer.uid]+=(0,i.m)(e.format).stride}for(const l in n){var a,o;const e=n[l];null!==(a=e.stride)&&void 0!==a||(e.stride=r[e.buffer.uid]),null!==(o=e.start)&&void 0!==o||(e.start=s[e.buffer.uid]),s[e.buffer.uid]+=(0,i.m)(e.format).stride}}(e)}},2568:(e,t,n)=>{"use strict";n.d(t,{M:()=>p});var r=n(7051),i=n(801),s=n(7452),a=n(4193),o=n(8021),l=n(6850),c=n(7044);const u={stripVersion:n(7015).h,ensurePrecision:o.V,addProgramDefines:a.U,setProgramName:c.k,insertVersion:l.W},d=Object.create(null),h=class e{constructor(t){const n=-1!==(t=(0,r.A)((0,r.A)({},e.defaultOptions),t)).fragment.indexOf("#version 300 es"),a={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:(0,s.$)()},setProgramName:{name:t.name},addProgramDefines:n,insertVersion:n};let o=t.fragment,l=t.vertex;Object.keys(u).forEach(e=>{const t=a[e];o=u[e](o,t,!0),l=u[e](l,t,!1)}),this.fragment=o,this.vertex=l,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=(0,i.X)("".concat(this.vertex,":").concat(this.fragment),"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const n="".concat(t.vertex,":").concat(t.fragment);return d[n]||(d[n]=new e(t)),d[n]}};h.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let p=h},2590:(e,t,n)=>{"use strict";n.d(t,{T:()=>r});class r{constructor(e){this.resources=Object.create(null),this._dirty=!0;let t=0;for(const n in e){const r=e[n];this.setResource(r,t++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let t=0;for(const n in this.resources)e[t++]=this.resources[n]._resourceId;this._key=e.join("|")}setResource(e,t){var n;const r=this.resources[t];if(e!==r){var i;if(r)null===(i=e.off)||void 0===i||i.call(e,"change",this.onResourceChange,this);null===(n=e.on)||void 0===n||n.call(e,"change",this.onResourceChange,this),this.resources[t]=e,this._dirty=!0}}getResource(e){return this.resources[e]}_touch(e){const t=this.resources;for(const n in t)t[n]._touched=e}destroy(){const e=this.resources;for(const n in e){var t;const r=e[n];null===(t=r.off)||void 0===t||t.call(r,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const t=this.resources;for(const n in t)t[n]===e&&(t[n]=null)}else this._updateKey()}}},2604:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1e3)},2646:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var r=n(6021);const i={uint8x2:r.Yr.UNSIGNED_BYTE,uint8x4:r.Yr.UNSIGNED_BYTE,sint8x2:r.Yr.BYTE,sint8x4:r.Yr.BYTE,unorm8x2:r.Yr.UNSIGNED_BYTE,unorm8x4:r.Yr.UNSIGNED_BYTE,snorm8x2:r.Yr.BYTE,snorm8x4:r.Yr.BYTE,uint16x2:r.Yr.UNSIGNED_SHORT,uint16x4:r.Yr.UNSIGNED_SHORT,sint16x2:r.Yr.SHORT,sint16x4:r.Yr.SHORT,unorm16x2:r.Yr.UNSIGNED_SHORT,unorm16x4:r.Yr.UNSIGNED_SHORT,snorm16x2:r.Yr.SHORT,snorm16x4:r.Yr.SHORT,float16x2:r.Yr.HALF_FLOAT,float16x4:r.Yr.HALF_FLOAT,float32:r.Yr.FLOAT,float32x2:r.Yr.FLOAT,float32x3:r.Yr.FLOAT,float32x4:r.Yr.FLOAT,uint32:r.Yr.UNSIGNED_INT,uint32x2:r.Yr.UNSIGNED_INT,uint32x3:r.Yr.UNSIGNED_INT,uint32x4:r.Yr.UNSIGNED_INT,sint32:r.Yr.INT,sint32x2:r.Yr.INT,sint32x3:r.Yr.INT,sint32x4:r.Yr.INT};function s(e){var t;return null!==(t=i[e])&&void 0!==t?t:i.float32}},2678:(e,t,n)=>{"use strict";n.d(t,{L:()=>g});var r=n(8380),i=n(8770),s=n(7070),a=n(4307),o=n(8570),l=n(6373),c=n(5100),u=n(6325),d=n(193),h=n(2442),p=n(1288),f=n(7867);const m=new a.M;class g{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new l.c,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,t){return this.startPoly(e,t),this}lineTo(e,t){this._ensurePoly();const n=this._currentPoly.points,r=n[n.length-2],i=n[n.length-1];return r===e&&i===t||n.push(e,t),this}arc(e,t,n,r,i,s){this._ensurePoly(!1);const a=this._currentPoly.points;return(0,d.t)(a,e,t,n,r,i,s),this}arcTo(e,t,n,r,i){this._ensurePoly();const s=this._currentPoly.points;return(0,h.I)(s,e,t,n,r,i),this}arcToSvg(e,t,n,r,i,s,a){const o=this._currentPoly.points;return(0,p.W)(o,this._currentPoly.lastX,this._currentPoly.lastY,s,a,e,t,n,r,i),this}bezierCurveTo(e,t,n,r,i,s,a){this._ensurePoly();const o=this._currentPoly;return(0,c.M)(this._currentPoly.points,o.lastX,o.lastY,e,t,n,r,i,s,a),this}quadraticCurveTo(e,t,n,r,i){this._ensurePoly();const s=this._currentPoly;return(0,u.T)(this._currentPoly.points,s.lastX,s.lastY,e,t,n,r,i),this}closePath(){return this.endPoly(!0),this}addPath(e,t){this.endPoly(),t&&!t.isIdentity()&&(e=e.clone(!0)).transform(t);const n=this.shapePrimitives,r=n.length;for(let s=0;s<e.instructions.length;s++){const t=e.instructions[s];this[t.action](...t.data)}if(e.checkForHoles&&n.length-r>1){let e=null;for(let t=r;t<n.length;t++){const r=n[t];if("polygon"===r.shape.type){var i;const s=r.shape,a=null===(i=e)||void 0===i?void 0:i.shape;a&&a.containsPolygon(s)?(e.holes||(e.holes=[]),e.holes.push(r),n.copyWithin(t,t+1),n.length--,t--):e=r}}}return this}finish(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.endPoly(e)}rect(e,t,n,r,i){return this.drawShape(new a.M(e,t,n,r),i),this}circle(e,t,n,i){return this.drawShape(new r.j(e,t,n),i),this}poly(e,t,n){const r=new s.t(e);return r.closePath=t,this.drawShape(r,n),this}regularPoly(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5?arguments[5]:void 0;r=Math.max(0|r,3);const a=-1*Math.PI/2+i,o=2*Math.PI/r,l=[];for(let c=0;c<r;c++){const r=a-c*o;l.push(e+n*Math.cos(r),t+n*Math.sin(r))}return this.poly(l,!0,s),this}roundPoly(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;if(r=Math.max(0|r,3),i<=0)return this.regularPoly(e,t,n,r,s);const o=n*Math.sin(Math.PI/r)-.001;i=Math.min(i,o);const l=-1*Math.PI/2+s,c=2*Math.PI/r,u=(r-2)*Math.PI/r/2;for(let d=0;d<r;d++){const r=d*c+l,s=e+n*Math.cos(r),o=t+n*Math.sin(r),h=r+Math.PI+u,p=r-Math.PI-u,f=s+i*Math.cos(h),m=o+i*Math.sin(h),g=s+i*Math.cos(p),v=o+i*Math.sin(p);0===d?this.moveTo(f,m):this.lineTo(f,m),this.quadraticCurveTo(s,o,g,v,a)}return this.closePath()}roundShape(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return e.length<3?this:(n?(0,f.q)(this,e,t,r):(0,f.X)(this,e,t),this.closePath())}filletRect(e,t,n,r,i){if(0===i)return this.rect(e,t,n,r);const s=Math.min(n,r)/2,a=Math.min(s,Math.max(-s,i)),o=e+n,l=t+r,c=a<0?-a:0,u=Math.abs(a);return this.moveTo(e,t+u).arcTo(e+c,t+c,e+u,t,u).lineTo(o-u,t).arcTo(o-c,t+c,o,t+u,u).lineTo(o,l-u).arcTo(o-c,l-c,e+n-u,l,u).lineTo(e+u,l).arcTo(e+c,l-c,e,l-u,u).closePath()}chamferRect(e,t,n,r,i,s){if(i<=0)return this.rect(e,t,n,r);const a=Math.min(i,Math.min(n,r)/2),o=e+n,l=t+r,c=[e+a,t,o-a,t,o,t+a,o,l-a,o-a,l,e+a,l,e,l-a,e,t+a];for(let u=c.length-1;u>=2;u-=2)c[u]===c[u-2]&&c[u-1]===c[u-3]&&c.splice(u-1,2);return this.poly(c,!0,s)}ellipse(e,t,n,r,s){return this.drawShape(new i.P(e,t,n,r),s),this}roundRect(e,t,n,r,i,s){return this.drawShape(new o.T(e,t,n,r,i),s),this}drawShape(e,t){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:t}),this}startPoly(e,t){let n=this._currentPoly;return n&&this.endPoly(),n=new s.t,n.points.push(e,t),this._currentPoly=n,this}endPoly(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this._currentPoly;return t&&t.points.length>2&&(t.closePath=e,this.shapePrimitives.push({shape:t})),this._currentPoly=null,this}_ensurePoly(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this._currentPoly&&(this._currentPoly=new s.t,e)){const e=this.shapePrimitives[this.shapePrimitives.length-1];if(e){let t=e.shape.x,n=e.shape.y;if(e.transform&&!e.transform.isIdentity()){const r=e.transform,i=t;t=r.a*t+r.c*n+r.tx,n=r.b*i+r.d*n+r.ty}this._currentPoly.points.push(t,n)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let t=0;t<e.instructions.length;t++){const n=e.instructions[t];this[n.action](...n.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const t=this.shapePrimitives;for(let n=0;n<t.length;n++){const r=t[n],i=r.shape.getBounds(m);r.transform?e.addRect(i,r.transform):e.addRect(i)}return e}}},2721:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r="in vec2 aPosition;\n\nout vec2 vTextureCoord;\nout vec2 vMaskCoord;\n\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\nuniform mat3 uFilterMatrix;\n\nvec4 filterVertexPosition(  vec2 aPosition )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n       \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord(  vec2 aPosition )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvec2 getFilterCoord( vec2 aPosition )\n{\n    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}   \n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition(aPosition);\n    vTextureCoord = filterTextureCoord(aPosition);\n    vMaskCoord = getFilterCoord(aPosition);\n}\n"},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var G,N=Object.assign;function D(e){if(void 0===G)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);G=t&&t[1]||""}return"\n"+G+e}var U=!1;function L(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function j(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 1:return e=L(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case S:return"Portal";case A:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case R:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function X(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===w?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function Z(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function ye(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Te=null,we=null;function Ae(e){if(e=_i(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=yi(t),Se(e.stateNode,e.type,t))}}function Ee(e){Te?we?we.push(e):we=[e]:Te=e}function Ce(){if(Te){var e=Te,t=we;if(we=Te=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function Me(){}var Pe=!1;function ke(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Re(e,t,n)}finally{Pe=!1,(null!==Te||null!==we)&&(Me(),Ce())}}function Be(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Oe=!1}function Fe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ge=!1,Ne=null,De=!1,Ue=null,Le={onError:function(e){Ge=!0,Ne=e}};function je(e,t,n,r,i,s,a,o,l){Ge=!1,Ne=null,Fe.apply(Le,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(s(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var yt,St,Tt,wt,At,Et=!1,Ct=[],Rt=null,Mt=null,Pt=null,kt=new Map,Bt=new Map,Ot=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bt.delete(t.pointerId)}}function Gt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=bi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void At(e.priority,function(){Tt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Dt(e)&&n.delete(t)}function Lt(){Et=!1,null!==Rt&&Dt(Rt)&&(Rt=null),null!==Mt&&Dt(Mt)&&(Mt=null),null!==Pt&&Dt(Pt)&&(Pt=null),kt.forEach(Ut),Bt.forEach(Ut)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Lt)))}function zt(e){function t(t){return jt(t,e)}if(0<Ct.length){jt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&jt(Rt,e),null!==Mt&&jt(Mt,e),null!==Pt&&jt(Pt,e),kt.forEach(t),Bt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Nt(n),null===n.blockedOn&&Ot.shift()}var Xt=x.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,n,r){var i=_t,s=Xt.transition;Xt.transition=null;try{_t=1,Yt(e,t,n,r)}finally{_t=i,Xt.transition=s}}function Wt(e,t,n,r){var i=_t,s=Xt.transition;Xt.transition=null;try{_t=4,Yt(e,t,n,r)}finally{_t=i,Xt.transition=s}}function Yt(e,t,n,r){if(Ht){var i=Kt(e,t,n,r);if(null===i)Hr(e,t,r,qt,n),Ft(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Rt=Gt(Rt,e,t,n,r,i),!0;case"dragenter":return Mt=Gt(Mt,e,t,n,r,i),!0;case"mouseover":return Pt=Gt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return kt.set(s,Gt(kt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bt.set(s,Gt(Bt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&yt(s),null===(s=Kt(e,t,n,r))&&Hr(e,t,r,qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var qt=null;function Kt(e,t,n,r){if(qt=null,null!==(e=bi(e=ye(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Xe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=N({},cn,{view:0,detail:0}),hn=sn(dn),pn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(pn),mn=sn(N({},pn,{dataTransfer:0})),gn=sn(N({},dn,{relatedTarget:0})),vn=sn(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=N({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(bn),xn=sn(N({},cn,{data:0})),yn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function An(){return wn}var En=N({},dn,{key:function(e){if(e.key){var t=yn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(En),Rn=sn(N({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=sn(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Pn=sn(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=N({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bn=sn(kn),On=[9,13,27,32],In=u&&"CompositionEvent"in window,Fn=null;u&&"documentMode"in document&&(Fn=document.documentMode);var Gn=u&&"TextEvent"in window&&!Fn,Nn=u&&(!In||Fn&&8<Fn&&11>=Fn),Dn=String.fromCharCode(32),Un=!1;function Ln(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Xn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Xn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Yn=null;function qn(e){Dr(e,0)}function Kn(e){if(Y(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;$n=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Yn=Wn=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Vn(t,Yn,e,ye(e)),ke(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function sr(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},Tr={},wr={};function Ar(e){if(Tr[e])return Tr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in wr)return Tr[e]=n[t];return e}u&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=Ar("animationend"),Cr=Ar("animationiteration"),Rr=Ar("animationstart"),Mr=Ar("transitionend"),Pr=new Map,kr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Br(e,t){Pr.set(e,t),l(t,[e])}for(var Or=0;Or<kr.length;Or++){var Ir=kr[Or];Br(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Br(Er,"onAnimationEnd"),Br(Cr,"onAnimationIteration"),Br(Rr,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(Mr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(je.apply(this,arguments),Ge){if(!Ge)throw Error(s(198));var u=Ne;Ge=!1,Ne=null,De||(De=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Nr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Nr(i,o,c),s=l}}}if(De)throw e=Ue,De=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Xr(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),Xr(n,e,r,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[jr]){e[jr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Gr.has(t)||Lr(t,!1,e),Lr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[jr]||(t[jr]=!0,Lr("selectionchange",!1,t))}}function Xr(e,t,n,r){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=Wt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=bi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}ke(function(){var r=s,i=ye(n),a=[];e:{var o=Pr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Er:case Cr:case Rr:l=vn;break;case Mr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Bn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Rn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Be(f,h))&&u.push(Vr(f,m,p)))),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!bi(c)&&!c[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bi(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Rn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:xi(l),p=null==c?o:xi(c),(o=new u(m,f+"leave",l,n,i)).target=d,o.relatedTarget=p,m=null,bi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Yr(p))f++;for(p=0,m=h;m;m=Yr(m))p++;for(;0<f-p;)u=Yr(u),f--;for(;0<p-f;)h=Yr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&qr(a,o,l,u,!1),null!==c&&null!==d&&qr(a,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Qn;else if(Hn(o))if($n)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Vn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var b;if(In)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zn?Ln(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Nn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(b=en()):(Zt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(v=Wr(r,_)).length&&(_=new xn(_,e,null,n,i),a.push({event:_,listeners:v}),b?_.data=b:null!==(b=jn(n))&&(_.data=b))),(b=Gn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Un=!0,Dn);case"textInput":return(e=t.data)===Dn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!In&&Ln(e,t)?(e=en(),Jt=Zt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=b))}Dr(a,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Be(e,n))&&r.unshift(Vr(e,s,i)),null!=(s=Be(e,t))&&r.push(Vr(e,s,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Be(n,s))&&a.unshift(Vr(n,l,o)):i||null!=(l=Be(n,s))&&a.push(Vr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Qr,"")}function Zr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function bi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function yi(e){return e[pi]||null}var Si=[],Ti=-1;function wi(e){return{current:e}}function Ai(e){0>Ti||(e.current=Si[Ti],Si[Ti]=null,Ti--)}function Ei(e,t){Ti++,Si[Ti]=e.current,e.current=t}var Ci={},Ri=wi(Ci),Mi=wi(!1),Pi=Ci;function ki(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ai(Mi),Ai(Ri)}function Ii(e,t,n){if(Ri.current!==Ci)throw Error(s(168));Ei(Ri,t),Ei(Mi,n)}function Fi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,X(e)||"Unknown",i));return N({},n,r)}function Gi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=Ri.current,Ei(Ri,e),Ei(Mi,Mi.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Fi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ai(Mi),Ai(Ri),Ei(Ri,e)):Ai(Mi),Ei(Mi,n)}var Di=null,Ui=!1,Li=!1;function ji(e){null===Di?Di=[e]:Di.push(e)}function zi(){if(!Li&&null!==Di){Li=!0;var e=0,t=_t;try{var n=Di;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Ui=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ye(Je,zi),i}finally{_t=t,Li=!1}}return null}var Xi=[],Hi=0,Vi=null,Wi=0,Yi=[],qi=0,Ki=null,Qi=1,$i="";function Zi(e,t){Xi[Hi++]=Wi,Xi[Hi++]=Vi,Vi=e,Wi=t}function Ji(e,t,n){Yi[qi++]=Qi,Yi[qi++]=$i,Yi[qi++]=Ki,Ki=e;var r=Qi;e=$i;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,$i=s+e}else Qi=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function ts(e){for(;e===Vi;)Vi=Xi[--Hi],Xi[Hi]=null,Wi=Xi[--Hi],Xi[Hi]=null;for(;e===Ki;)Ki=Yi[--qi],Yi[qi]=null,$i=Yi[--qi],Yi[qi]=null,Qi=Yi[--qi],Yi[qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function ps(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ms=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function _s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===T?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===B&&bs(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case S:return(t=Dc(t,e.mode,n)).return=e,t;case B:return h(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case B:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:d(e,t,n,r,null);vs(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case y:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case B:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return d(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),is&&Zi(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return is&&Zi(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=f(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),is&&Zi(i,m),c}function g(i,o,l,c){var u=F(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=p(i,m,b.value,c);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),o=a(_,o,g),null===d?u=_:d.sibling=_,d=_,m=v}if(b.done)return n(i,m),is&&Zi(i,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(i,b.value,c))&&(o=a(b,o,g),null===d?u=b:d.sibling=b,d=b);return is&&Zi(i,g),u}for(m=r(i,m);!b.done;g++,b=l.next())null!==(b=f(m,i,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(i,e)}),is&&Zi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===T&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case y:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===T){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===B&&bs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=gs(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===T?((s=Fc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Ic(a.type,a.key,a.props,null,r.mode,l)).ref=gs(r,s,a),l.return=r,r=l)}return o(r);case S:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Dc(a,r.mode,l)).return=r,r=s}return o(r);case B:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(F(a))return g(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Nc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var xs=_s(!0),ys=_s(!1),Ss=wi(null),Ts=null,ws=null,As=null;function Es(){As=ws=Ts=null}function Cs(e){var t=Ss.current;Ai(Ss),e._currentValue=t}function Rs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ms(e,t){Ts=e,As=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_o=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(As!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===Ts)throw Error(s(308));ws=e,Ts.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var ks=null;function Bs(e){null===ks?ks=[e]:ks.push(e)}function Os(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Bs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Is(e,r)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fs=!1;function Gs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ns(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Is(e,n)}return null===(i=r.interleaved)?(t.next=t,Bs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Is(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function js(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,r){var i=e.updateQueue;Fs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,p=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=N({},d,h);break e;case 2:Fs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Gl|=a,e.lanes=a,e.memoizedState=d}}function Xs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Vs=wi(Hs),Ws=wi(Hs),Ys=wi(Hs);function qs(e){if(e===Hs)throw Error(s(174));return e}function Ks(e,t){switch(Ei(Ys,t),Ei(Ws,e),Ei(Vs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ai(Vs),Ei(Vs,t)}function Qs(){Ai(Vs),Ai(Ws),Ai(Ys)}function $s(e){qs(Ys.current);var t=qs(Vs.current),n=le(t,e.type);t!==n&&(Ei(Ws,e),Ei(Vs,n))}function Zs(e){Ws.current===e&&(Ai(Vs),Ai(Ws))}var Js=wi(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=x.ReactCurrentDispatcher,ia=x.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function pa(){throw Error(s(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Za:Ja,e=n(r,i),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=$a,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ga(){var e=0!==da;return da=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ba(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function _a(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Gl|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(_o=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Gl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ya(e){var t=ba(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(_o=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ta(e,t){var n=aa,r=ba(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,_o=!0),r=r.queue,Fa(Ea.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Pa(9,Aa.bind(null,n,r,i,t),void 0,null),null===Ml)throw Error(s(349));0!==(30&sa)||wa(n,t,i)}return i}function wa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Aa(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ra(e)}function Ea(e,t,n){return n(function(){Ca(t)&&Ra(e)})}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ra(e){var t=Is(e,1);null!==t&&nc(t,e,1,-1)}function Ma(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_a,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,aa,e),[t.memoizedState,e]}function Pa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ka(){return ba().memoizedState}function Ba(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Pa(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=ba();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&fa(r,a.deps))return void(i.memoizedState=Pa(t,n,s,r))}aa.flags|=e,i.memoizedState=Pa(1|t,n,s,r)}function Ia(e,t){return Ba(8390656,8,e,t)}function Fa(e,t){return Oa(2048,8,e,t)}function Ga(e,t){return Oa(4,2,e,t)}function Na(e,t){return Oa(4,4,e,t)}function Da(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,Da.bind(null,t,e),n)}function La(){}function ja(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,_o=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Gl|=n,e.baseState=!0),t)}function Ha(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{_t=n,ia.transition=r}}function Va(){return ba().memoizedState}function Wa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qa(e))Ka(t,n);else if(null!==(n=Os(e,t,n,r))){nc(n,e,r,ec()),Qa(n,t,r)}}function Ya(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qa(e))Ka(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Bs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Os(e,t,i,r))&&(nc(n,e,r,i=ec()),Qa(n,t,r))}}function qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ka(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var $a={readContext:Ps,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Za={readContext:Ps,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Ia,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Da.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wa.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ma,useDebugValue:La,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ml)throw Error(s(349));0!==(30&sa)||wa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ia(Ea.bind(null,r,a,e),[e]),r.flags|=2048,Pa(9,Aa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Ml.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ja={readContext:Ps,useCallback:ja,useContext:Ps,useEffect:Fa,useImperativeHandle:Ua,useInsertionEffect:Ga,useLayoutEffect:Na,useMemo:za,useReducer:xa,useRef:ka,useState:function(){return xa(_a)},useDebugValue:La,useDeferredValue:function(e){return Xa(ba(),oa.memoizedState,e)},useTransition:function(){return[xa(_a)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ta,useId:Va,unstable_isNewReconciler:!1},eo={readContext:Ps,useCallback:ja,useContext:Ps,useEffect:Fa,useImperativeHandle:Ua,useInsertionEffect:Ga,useLayoutEffect:Na,useMemo:za,useReducer:ya,useRef:ka,useState:function(){return ya(_a)},useDebugValue:La,useDeferredValue:function(e){var t=ba();return null===oa?t.memoizedState=e:Xa(t,oa.memoizedState,e)},useTransition:function(){return[ya(_a)[0],ba().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ta,useId:Va,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,i))&&(nc(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Us(e,i,r))&&(nc(t,e,r,n),Ls(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function so(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Bi(t)?Pi:Ri.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ki(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Gs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Bi(t)?Pi:Ri.current,i.context=ki(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),zs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=j(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Vl=r),uo(0,t)},n}function fo(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=x.ReactCurrentOwner,_o=!1;function xo(e,t,n,r){t.child=null===e?ys(t,null,n,r):xs(t,e.child,n,r)}function yo(e,t,n,r,i){n=n.render;var s=t.ref;return Ms(t,i),r=ma(e,t,n,r,s,i),n=ga(),null===e||_o?(is&&n&&es(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function So(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Bc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,To(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function To(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(_o=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(_o=!0)}}return Eo(e,t,n,r,i)}function wo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ol,Bl),Bl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ol,Bl),Bl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ei(Ol,Bl),Bl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ei(Ol,Bl),Bl|=r;return xo(e,t,i,n),t.child}function Ao(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,r,i){var s=Bi(n)?Pi:Ri.current;return s=ki(t,s),Ms(t,i),n=ma(e,t,n,r,s,i),r=ga(),null===e||_o?(is&&r&&es(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Co(e,t,n,r,i){if(Bi(n)){var s=!0;Gi(t)}else s=!1;if(Ms(t,i),null===t.stateNode)Xo(e,t),so(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ps(c):c=ki(t,c=Bi(n)?Pi:Ri.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Fs=!1;var h=t.memoizedState;a.state=h,zs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Mi.current||Fs?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Fs||io(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ns(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=ki(t,l=Bi(n)?Pi:Ri.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Fs=!1,h=t.memoizedState,a.state=h,zs(t,r,a,i);var f=t.memoizedState;o!==d||h!==f||Mi.current||Fs?("function"===typeof p&&(no(t,n,p,r),f=t.memoizedState),(c=Fs||io(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ro(e,t,n,r,s,i)}function Ro(e,t,n,r,i,s){Ao(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ni(t,n,!1),Ho(e,t,s);r=t.stateNode,bo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,o,s)):xo(e,t,o,s),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),Ks(e,t.containerInfo)}function Po(e,t,n,r,i){return ps(),fs(i),t.flags|=256,xo(e,t,n,r),t.child}var ko,Bo,Oo,Io,Fo={dehydrated:null,treeContext:null,retryLane:0};function Go(e){return{baseLanes:e,cachePool:null,transitions:null}}function No(e,t,n){var r,i=t.pendingProps,a=Js.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(Js,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Gc(l,i,0,null),e=Fc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Go(n),t.memoizedState=Fo,e):Do(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Gc({mode:"visible",children:r.children},i,0,null),(a=Fc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xs(t,e.child,null,o),t.child.memoizedState=Go(o),t.memoizedState=Fo,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),_o||l){if(null!==(r=Ml)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Is(e,i),nc(r,e,i,-1))}return mc(),Uo(e,t,o,r=co(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Yi[qi++]=Qi,Yi[qi++]=$i,Yi[qi++]=Ki,Qi=e.id,$i=e.overflow,Ki=t),t=Do(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Fc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Go(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Fo,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Do(e,t){return(t=Gc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&fs(r),xs(t,e.child,null,n),(e=Do(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Lo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Rs(e.return,t,n)}function jo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Js.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Lo(e,n,t);else if(19===e.tag)Lo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(Js,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jo(t,!0,n,null,s);break;case"together":jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Gl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Bi(t.type)&&Oi(),Wo(t),null;case 3:return r=t.stateNode,Qs(),Ai(Mi),Ai(Ri),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Bo(e,t),Wo(t),null;case 5:Zs(t);var i=qs(Ys.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wo(t),null}if(e=qs(Vs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Fr.length;i++)Ur(Fr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in be(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),J(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,ko(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)Ur(Fr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=K(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in be(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&_(e,a,u,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=qs(Ys.current),qs(Vs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(Ai(Js),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ps(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),a=!1}else null!==ss&&(ac(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Js.current)?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Qs(),Bo(e,t),null===e&&zr(t.stateNode.containerInfo),Wo(t),null;case 10:return Cs(t.type._context),Wo(t),null;case 19:if(Ai(Js),null===(a=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Vo(a,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Vo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(Js,1&Js.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>zl&&(t.flags|=128,r=!0,Vo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Wo(t),null}else 2*$e()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Vo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=Js.current,Ei(Js,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Bl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function qo(e,t){switch(ts(t),t.tag){case 1:return Bi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Ai(Mi),Ai(Ri),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ai(Js),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ai(Js),null;case 4:return Qs(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}ko=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Bo=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qs(Vs.current);var s,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in be(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Io=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ko=!1,Qo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function Jo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){wc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){wc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Qo||Jo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&el(n,t,a),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qo&&(Jo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){wc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qo=(r=Qo)||null!==n.memoizedState,hl(e,t,n),Qo=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach(function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(s(160));pl(a,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){wc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){wc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){wc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Jo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Jo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){wc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),_e(l,o);var u=_e(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):_(i,d,h,u)}switch(l){case"input":Z(i,a);break;case"textarea":se(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){wc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){wc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){wc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=$e())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||d,ml(t,e),Qo=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zo=e,d=e.child;null!==d;){for(h=Zo=d;null!==Zo;){switch(f=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Jo(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){wc(r,n,g)}}break;case 5:Jo(p,p.return);break;case 22:if(null!==p.memoizedState){yl(h);continue}}null!==f?(f.return=p,Zo=f):yl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){wc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){wc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(s(161))}}catch(o){wc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zo=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ko;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Ko;var c=Qo;if(Ko=a,(Qo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?Sl(i):null!==l?(l.return=a,Zo=l):Sl(i);for(;null!==s;)Zo=s,_l(s,t,n),s=s.sibling;Zo=i,Ko=o,Qo=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):xl(e)}}function xl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Xs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Xs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&il(t)}catch(p){wc(t,t.return,p)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function yl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Sl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){wc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){wc(t,i,l)}}var s=t.return;try{il(t)}catch(l){wc(t,s,l)}break;case 5:var a=t.return;try{il(t)}catch(l){wc(t,a,l)}}}catch(l){wc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Tl,wl=Math.ceil,Al=x.ReactCurrentDispatcher,El=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,Rl=0,Ml=null,Pl=null,kl=0,Bl=0,Ol=wi(0),Il=0,Fl=null,Gl=0,Nl=0,Dl=0,Ul=null,Ll=null,jl=0,zl=1/0,Xl=null,Hl=!1,Vl=null,Wl=null,Yl=!1,ql=null,Kl=0,Ql=0,$l=null,Zl=-1,Jl=0;function ec(){return 0!==(6&Rl)?$e():-1!==Zl?Zl:Zl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==kl?kl&-kl:null!==ms.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&Rl)&&e===Ml||(e===Ml&&(0===(2&Rl)&&(Nl|=n),4===Il&&oc(e,kl)),rc(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(zl=$e()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Ml?kl:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Ui=!0,ji(e)}(lc.bind(null,e)):ji(lc.bind(null,e)),ai(function(){0===(6&Rl)&&zi()}),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,Jl=0,0!==(6&Rl))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ml?kl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Rl;Rl|=2;var a=fc();for(Ml===e&&kl===t||(Xl=null,zl=$e()+500,hc(e,t));;)try{bc();break}catch(l){pc(e,l)}Es(),Al.current=a,Rl=i,null!==Pl?t=0:(Ml=null,kl=0,t=Il)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=sc(e,i))),1===t)throw n=Fl,hc(e,0),oc(e,r),rc(e,$e()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=ft(e))&&(r=a,t=sc(e,a))),1===t))throw n=Fl,hc(e,0),oc(e,r),rc(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:yc(e,Ll,Xl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=jl+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(yc.bind(null,e,Ll,Xl),t);break}yc(e,Ll,Xl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wl(r/1960))-r)){e.timeoutHandle=ri(yc.bind(null,e,Ll,Xl),r);break}yc(e,Ll,Xl);break;default:throw Error(s(329))}}}return rc(e,$e()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ll,Ll=n,null!==t&&ac(t)),e}function ac(e){null===Ll?Ll=e:Ll.push.apply(Ll,e)}function oc(e,t){for(t&=~Dl,t&=~Nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Rl))throw Error(s(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Fl,hc(e,0),oc(e,t),rc(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yc(e,Ll,Xl),rc(e,$e()),null}function cc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(zl=$e()+500,Ui&&zi())}}function uc(e){null!==ql&&0===ql.tag&&0===(6&Rl)&&Sc();var t=Rl;Rl|=1;var n=Cl.transition,r=_t;try{if(Cl.transition=null,_t=1,e)return e()}finally{_t=r,Cl.transition=n,0===(6&(Rl=t))&&zi()}}function dc(){Bl=Ol.current,Ai(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:Qs(),Ai(Mi),Ai(Ri),na();break;case 5:Zs(r);break;case 4:Qs();break;case 13:case 19:Ai(Js);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ml=e,Pl=e=Oc(e.current,null),kl=Bl=t,Il=0,Fl=null,Dl=Nl=Gl=0,Ll=Ul=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}ks=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(Es(),ra.current=$a,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,da=0,El.current=null,null===n||null===n.return){Il=1,Fl=t,Pl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=kl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=go(o);if(null!==f){f.flags&=-257,vo(f,o,l,0,t),1&f.mode&&mo(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),fs(lo(c,l));break e}}a=c=lo(c,l),4!==Il&&(Il=2),null===Ul?Ul=[a]:Ul.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,js(a,po(0,c,t));break e;case 1:l=c;var b=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Wl||!Wl.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,js(a,fo(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fc(){var e=Al.current;return Al.current=$a,null===e?$a:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Ml||0===(268435455&Gl)&&0===(268435455&Nl)||oc(Ml,kl)}function gc(e,t){var n=Rl;Rl|=2;var r=fc();for(Ml===e&&kl===t||(Xl=null,hc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Es(),Rl=n,Al.current=r,null!==Pl)throw Error(s(261));return Ml=null,kl=0,Il}function vc(){for(;null!==Pl;)_c(Pl)}function bc(){for(;null!==Pl&&!Ke();)_c(Pl)}function _c(e){var t=Tl(e.alternate,e,Bl);e.memoizedProps=e.pendingProps,null===t?xc(e):Pl=t,El.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Bl)))return void(Pl=n)}else{if(null!==(n=qo(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Il=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Il&&(Il=5)}function yc(e,t,n){var r=_t,i=Cl.transition;try{Cl.transition=null,_t=1,function(e,t,n,r){do{Sc()}while(null!==ql);if(0!==(6&Rl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Ml&&(Pl=Ml=null,kl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Mc(tt,function(){return Sc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=_t;_t=1;var l=Rl;Rl|=4,El.current=null,function(e,t){if(ei=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(y){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=o),p===a&&++d===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,_=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(y){wc(t,t.return,y)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Qe(),Rl=l,_t=o,Cl.transition=a}else e.current=n;if(Yl&&(Yl=!1,ql=e,Kl=i),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Vl,Vl=null,e;0!==(1&Kl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,zi()}(e,t,n,r)}finally{Cl.transition=i,_t=r}return null}function Sc(){if(null!==ql){var e=xt(Kl),t=Cl.transition,n=_t;try{if(Cl.transition=null,_t=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Kl=0,0!==(6&Rl))throw Error(s(331));var i=Rl;for(Rl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var d=Zo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Zo=h;else for(;null!==Zo;){var p=(d=Zo).sibling,f=d.return;if(sl(d),d===u){Zo=null;break}if(null!==p){p.return=f,Zo=p;break}Zo=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Zo=b;break e}Zo=a.return}}var _=e.current;for(Zo=_;null!==Zo;){var x=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Zo=x;else e:for(o=_;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(S){wc(l,l.return,S)}if(l===o){Zo=null;break e}var y=l.sibling;if(null!==y){y.return=l.return,Zo=y;break e}Zo=l.return}}if(Rl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{_t=n,Cl.transition=t}}return!1}function Tc(e,t,n){e=Us(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function wc(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Us(t,e=fo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(kl&n)===n&&(4===Il||3===Il&&(130023424&kl)===kl&&500>$e()-jl?hc(e,0):Dl|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Is(e,t))&&(vt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Ec(e,n)}function Mc(e,t){return Ye(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new Pc(e,t,n,r)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Bc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case T:return Fc(n.children,i,a,t);case w:o=8,i|=8;break;case A:return(e=kc(12,n,t,2|i)).elementType=A,e.lanes=a,e;case M:return(e=kc(13,n,t,i)).elementType=M,e.lanes=a,e;case P:return(e=kc(19,n,t,i)).elementType=P,e.lanes=a,e;case O:return Gc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case C:o=9;break e;case R:o=11;break e;case k:o=14;break e;case B:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=kc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Fc(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function Gc(e,t,n,r){return(e=kc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Nc(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lc(e,t,n,r,i,s,a,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=kc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gs(s),e}function jc(e){if(!e)return Ci;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Bi(n))return Fi(e,n,t)}return t}function zc(e,t,n,r,i,s,a,o,l){return(e=Lc(n,r,!0,e,0,s,0,o,l)).context=jc(null),n=e.current,(s=Ds(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Xc(e,t,n,r){var i=t.current,s=ec(),a=tc(i);return n=jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Us(i,t,a))&&(nc(e,i,a,s),Ls(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}Tl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)_o=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:Mo(t),ps();break;case 5:$s(t);break;case 1:Bi(t.type)&&Gi(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(Js,1&Js.current),t.flags|=128,null):0!==(n&t.child.childLanes)?No(e,t,n):(Ei(Js,1&Js.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ei(Js,1&Js.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(Js,Js.current),r)break;return null;case 22:case 23:return t.lanes=0,wo(e,t,n)}return Ho(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,is&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xo(e,t),e=t.pendingProps;var i=ki(t,Ri.current);Ms(t,n),i=ma(null,t,r,e,i,n);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bi(r)?(a=!0,Gi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Gs(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Ro(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===R)return 11;if(e===k)return 14}return 2}(r),e=to(r,e),i){case 0:t=Eo(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=yo(null,t,r,e,n);break e;case 14:t=So(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Mo(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ns(e,t),zs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Po(e,t,r,n,i=lo(Error(s(423)),t));break e}if(r!==i){t=Po(e,t,r,n,i=lo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=ys(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Ho(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return $s(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Ao(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return No(e,t,n);case 4:return Ks(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xs(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,yo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ei(Ss,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Mi.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ds(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Rs(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Rs(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ms(t,n),r=r(i=Ps(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),So(e,t,r,i=to(r.type,i),n);case 15:return To(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Xo(e,t),t.tag=1,Bi(r)?(e=!0,Gi(t)):e=!1,Ms(t,n),so(t,r,i),oo(t,r,i,n),Ro(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return wo(e,t,n)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}Xc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[fi]=a.current,zr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Lc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fi]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){Xc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(a)}Kc.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Xc(e,t,null,null)},Kc.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Xc(null,e,null,null)}),t[fi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=wt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Nt(e)}},yt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,$e()),0===(6&Rl)&&(zl=$e()+500,zi()))}break;case 13:uc(function(){var t=Is(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},St=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Tt=function(e){if(13===e.tag){var t=tc(e),n=Is(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},wt=function(){return _t},At=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Se=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(s(90));Y(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Re=cc,Me=uc;var eu={usingClientEntryPoint:!1,Events:[_i,xi,yi,Ee,Ce,cc]},tu={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Lc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,zr(8===e.nodeType?e.parentNode:e),new qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,o),e[fi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[fi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:(e,t,n)=>{"use strict";n.d(t,{d:()=>d});var r=n(3986),i=n(7051),s=n(2568),a=n(1996),o=n(3636),l=n(576);const c=["gpu","gl"],u=class e extends o.M{constructor(t){super(t=(0,i.A)((0,i.A)({},e.defaultOptions),t)),this.enabled=!0,this._state=l.U.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,"boolean"===typeof t.antialias?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(e,t,n,r){e.applyFilter(this,t,n,r)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(t){const{gpu:n,gl:o}=t,l=(0,r.A)(t,c);let u,d;return n&&(u=a.B.from(n)),o&&(d=s.M.from(o)),new e((0,i.A)({gpuProgram:u,glProgram:d},l))}};u.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let d=u},2794:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(9914);const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml";class a{constructor(){this.svgRoot=document.createElementNS(i,"svg"),this.foreignObject=document.createElementNS(i,"foreignObject"),this.domElement=document.createElementNS(s,"div"),this.styleElement=document.createElementNS(s,"style");const{foreignObject:e,svgRoot:t,styleElement:n,domElement:a}=this;e.setAttribute("width","10000"),e.setAttribute("height","10000"),e.style.overflow="hidden",t.appendChild(e),e.appendChild(n),e.appendChild(a),this.image=r.e.get().createImage()}}},2856:(e,t,n)=>{"use strict";function r(e,t){let n;const r=/@out\s+([^;]+);/g;for(;null!==(n=r.exec(e));)t.push(n[1])}function i(e,t){const n=[];r(t,n),e.forEach(e=>{e.header&&r(e.header,n)});let i=0;const s=n.sort().map(e=>e.indexOf("builtin")>-1?e:"@location(".concat(i++,") ").concat(e)).join(",\n"),a=n.sort().map(e=>"       var ".concat(e.replace(/@.*?\s+/g,""),";")).join("\n"),o="return VSOutput(\n            ".concat(n.sort().map(e=>" ".concat(function(e){const t=/\b(\w+)\s*:/g.exec(e);return t?t[1]:""}(e))).join(",\n"),");");let l=t.replace(/@out\s+[^;]+;\s*/g,"");return l=l.replace("{{struct}}","\n".concat(s,"\n")),l=l.replace("{{start}}","\n".concat(a,"\n")),l=l.replace("{{return}}","\n".concat(o,"\n")),l}n.d(t,{Q:()=>i})},2864:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});var r=n(7526),i=n(4709),s=n(2888);function a(e){return(0,r.E)(e,"uboWgsl",s.T,i._)}},2871:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,accessibleType:"button",accessibleText:null,accessiblePointerEvents:"auto",accessibleChildren:!0,_accessibleActive:!1,_accessibleDiv:null,_renderId:-1}},2888:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(6922);function i(e,t){const{size:n,align:i}=r.f[e.data.type],s=(i-n)/4,a=e.data.type.indexOf("i32")>=0?"dataInt32":"data";return"\n         v = uv.".concat(e.data.name,";\n         ").concat(0!==t?"offset += ".concat(t,";"):"","\n\n         arrayOffset = offset;\n\n         t = 0;\n\n         for(var i=0; i < ").concat(e.data.size*(n/4),"; i++)\n         {\n             for(var j = 0; j < ").concat(n/4,"; j++)\n             {\n                 ").concat(a,"[arrayOffset++] = v[t++];\n             }\n             ").concat(0!==s?"arrayOffset += ".concat(s,";"):"","\n         }\n     ")}},3021:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,H:()=>s});var r=n(1478),i=n(9769);class s{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let t=0;t<this._tests.length;t++){const n=this._tests[t];if(n.test(e))return i.Z.get(n.maskClass,e)}return e}returnMaskEffect(e){i.Z.return(e)}}const a=new s;r.XO.handleByList(r.Ag.MaskEffect,a._effectClasses)},3027:(e,t,n)=>{"use strict";n.d(t,{$i:()=>d,GH:()=>p,HW:()=>u});var r=n(1478),i=n(9530),s=n(9266),a=n(347),o=n(4811),l=n(9769),c=n(8933);class u{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class d{constructor(){this.instructions=new a.L}init(e){this.batcher=new s.J({maxTextures:e}),this.instructions.reset()}get geometry(){return(0,o.t6)(o.Ek,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const h=class e{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){var n;e.defaultOptions.bezierSmoothness=null!==(n=null===t||void 0===t?void 0:t.bezierSmoothness)&&void 0!==n?n:e.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let t=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){t?this._cleanGraphicsContextData(e):t=this._initContext(e),(0,c.M)(e,t);const n=e.batchMode;e.customShader||"no-batch"===n?t.isBatchable=!1:t.isBatchable="auto"!==n||t.geometryData.vertices.length<400,e.dirty=!1}return t}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const t=l.Z.get(d,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:n,geometryData:r}=this._gpuContextHash[e.uid],s=r.vertices.length,a=r.indices.length;for(let i=0;i<n.length;i++)n[i].applyTransform=!1;const o=t.batcher;o.ensureAttributeBuffer(s),o.ensureIndexBuffer(a),o.begin();for(let i=0;i<n.length;i++){const e=n[i];o.add(e)}o.finish(t.instructions);const c=o.geometry;c.indexBuffer.setDataWithSize(o.indexBuffer,o.indexSize,!0),c.buffers[0].setDataWithSize(o.attributeBuffer.float32View,o.attributeSize,!0);const u=o.batches;for(let l=0;l<u.length;l++){const e=u[l];e.bindGroup=(0,i.w)(e.textures.textures,e.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=t,t}_initContext(e){const t=new u;return t.context=e,this._gpuContextHash[e.uid]=t,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const t=this._gpuContextHash[e.uid];t.isBatchable||this._graphicsDataContextHash[e.uid]&&(l.Z.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),t.batches&&t.batches.forEach(e=>{l.Z.return(e)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};h.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem,r.Ag.CanvasSystem],name:"graphicsContext"},h.defaultOptions={bezierSmoothness:.5};let p=h},3063:(e,t,n)=>{"use strict";n.d(t,{S:()=>h});var r=n(1478),i=n(3596),s=n(6220),a=n(454),o=n(4994),l=n(2388),c=n(3636),u=n(3276),d=n(279);class h{init(){const e=(0,s.I)({name:"mesh",bits:[a.mA,l.m,o.m]});this._shader=new c.M({glProgram:e,resources:{uTexture:u.g.EMPTY.source,textureUniforms:{uTextureMatrix:{type:"mat3x3<f32>",value:new i.u}}}})}execute(e,t){const n=e.renderer;let r=t._shader;if(r){if(!r.glProgram)return void(0,d.R)("Mesh shader has no glProgram",t.shader)}else{r=this._shader;const e=t.texture,n=e.source;r.resources.uTexture=n,r.resources.uSampler=n.style,r.resources.textureUniforms.uniforms.uTextureMatrix=e.textureMatrix.mapCoord}r.groups[100]=n.globalUniforms.bindGroup,r.groups[101]=e.localUniformsBindGroup,n.encoder.draw({geometry:t._geometry,shader:r,state:t.state})}destroy(){this._shader.destroy(!0),this._shader=null}}h.extension={type:[r.Ag.WebGLPipesAdaptor],name:"mesh"}},3097:(e,t,n)=>{"use strict";n.d(t,{D:()=>a});var r=n(1478),i=n(3798),s=n(9978);class a extends s.m{constructor(e){super(e,new i.C)}}a.extension={type:[r.Ag.WebGLPipes],name:"particle"}},3126:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(9914);function i(e){const t={};t.normal=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t.add=[e.ONE,e.ONE],t.multiply=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t.screen=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t.none=[0,0],t["normal-npm"]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t["add-npm"]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t["screen-npm"]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t.erase=[e.ZERO,e.ONE_MINUS_SRC_ALPHA];if(!(e instanceof r.e.get().getWebGLRenderingContext()))t.min=[e.ONE,e.ONE,e.ONE,e.ONE,e.MIN,e.MIN],t.max=[e.ONE,e.ONE,e.ONE,e.ONE,e.MAX,e.MAX];else{const n=e.getExtension("EXT_blend_minmax");n&&(t.min=[e.ONE,e.ONE,e.ONE,e.ONE,n.MIN_EXT,n.MIN_EXT],t.max=[e.ONE,e.ONE,e.ONE,e.ONE,n.MAX_EXT,n.MAX_EXT])}return t}},3134:(e,t,n)=>{"use strict";n.d(t,{J:()=>m,x:()=>g});var r=n(1478),i=n(2080),s=n(576),a=n(6650),o=n(9385),l=n(475),c=n(9859),u=n(4963),d=n(4119),h=n(794),p=n(7810);const f=new d.m;class m{constructor(){this.canBatch=!0,this.geometry=new c.u({indices:f.indices.slice(),positions:f.positions.slice(),uvs:f.uvs.slice()})}destroy(){var e;this.geometry.destroy(),null===(e=this.shader)||void 0===e||e.destroy()}}class g{constructor(e){this._state=s.U.default2d,this._renderer=e}validateRenderable(e){const t=this._getTilingSpriteData(e),n=t.canBatch;this._updateCanBatch(e);const r=t.canBatch;if(r&&r===n){const{batchableMesh:n}=t;return!n._batcher.checkAndUpdateTexture(n,e.texture)}return n!==r}addRenderable(e,t){const n=this._renderer.renderPipes.batch;this._updateCanBatch(e);const r=this._getTilingSpriteData(e),{geometry:i,canBatch:s}=r;if(s){r.batchableMesh||(r.batchableMesh=new l.U);const s=r.batchableMesh;e.didViewUpdate&&(this._updateBatchableMesh(e),s.geometry=i,s.renderable=e,s.transform=e.groupTransform,s.setTexture(e._texture)),s.roundPixels=this._renderer._roundPixels|e._roundPixels,n.addToBatch(s,t)}else n.break(t),r.shader||(r.shader=new u.S),this.updateRenderable(e),t.add(e)}execute(e){const{shader:t}=this._getTilingSpriteData(e);t.groups[0]=this._renderer.globalUniforms.bindGroup;const n=t.resources.localUniforms.uniforms;n.uTransformMatrix=e.groupTransform,n.uRound=this._renderer._roundPixels|e._roundPixels,(0,o.V)(e.groupColorAlpha,n.uColor,0),this._state.blendMode=(0,i.i)(e.groupBlendMode,e.texture._source),this._renderer.encoder.draw({geometry:f,shader:t,state:this._state})}updateRenderable(e){const t=this._getTilingSpriteData(e),{canBatch:n}=t;if(n){const{batchableMesh:n}=t;e.didViewUpdate&&this._updateBatchableMesh(e),n._batcher.updateElement(n)}else if(e.didViewUpdate){const{shader:n}=t;n.updateUniforms(e.width,e.height,e._tileTransform.matrix,e.anchor.x,e.anchor.y,e.texture)}}_getTilingSpriteData(e){return e._gpuData[this._renderer.uid]||this._initTilingSpriteData(e)}_initTilingSpriteData(e){const t=new m;return t.renderable=e,e._gpuData[this._renderer.uid]=t,t}_updateBatchableMesh(e){const t=this._getTilingSpriteData(e),{geometry:n}=t,r=e.texture.source.style;"repeat"!==r.addressMode&&(r.addressMode="repeat",r.update()),(0,p.X)(e,n.uvs),(0,h.t)(e,n.positions)}destroy(){this._renderer=null}_updateCanBatch(e){const t=this._getTilingSpriteData(e),n=e.texture;let r=!0;return this._renderer.type===a.W.WEBGL&&(r=this._renderer.context.supports.nonPowOf2wrapping),t.canBatch=n.textureMatrix.isSimple&&(r||n.source.isPowerOfTwo),t.canBatch}}g.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"tilingSprite"}},3144:(e,t,n)=>{"use strict";n.d(t,{F:()=>r,a:()=>i});const r={name:"color-bit",vertex:{header:"\n            @in aColor: vec4<f32>;\n        ",main:"\n            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);\n        "}},i={name:"color-bit",vertex:{header:"\n            in vec4 aColor;\n        ",main:"\n            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);\n        "}}},3202:(e,t,n)=>{"use strict";n.d(t,{M:()=>c,W:()=>u});var r=n(7051),i=n(8186),s=n(6904),a=n(3276),o=n(879);let l=0;class c{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new o.n(this.textureOptions)}createTexture(e,t,n){const i=new s.v((0,r.A)((0,r.A)({},this.textureOptions),{},{width:e,height:t,resolution:1,antialias:n,autoGarbageCollect:!1}));return new a.g({source:i,label:"texturePool_".concat(l++)})}getOptimalTexture(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=Math.ceil(e*n-1e-6),a=Math.ceil(t*n-1e-6);s=(0,i.U5)(s),a=(0,i.U5)(a);const o=(s<<17)+(a<<1)+(r?1:0);this._texturePool[o]||(this._texturePool[o]=[]);let l=this._texturePool[o].pop();return l||(l=this.createTexture(s,a,r)),l.source._resolution=n,l.source.width=s/n,l.source.height=a/n,l.source.pixelWidth=s,l.source.pixelHeight=a,l.frame.x=0,l.frame.y=0,l.frame.width=e,l.frame.height=t,l.updateUvs(),this._poolKeyHash[l.uid]=o,l}getSameSizeTexture(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.source;return this.getOptimalTexture(e.width,e.height,n._resolution,t)}returnTexture(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this._poolKeyHash[e.uid];t&&(e.source.style=this.textureStyle),this._texturePool[n].push(e)}clear(e){if(e=!1!==e)for(const t in this._texturePool){const e=this._texturePool[t];if(e)for(let t=0;t<e.length;t++)e[t].destroy(!0)}this._texturePool={}}}const u=new c},3224:(e,t,n)=>{"use strict";n.d(t,{W:()=>i,n:()=>r});class r{}class i{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBlockBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBlockBindings=null,this.program=null}}},3226:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(7051),i=n(2290),s=n(3021);const a={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const e=this.renderGroup||this.parentRenderGroup;e&&(e.structureDidChange=!0)},addEffect(e){-1===this.effects.indexOf(e)&&(this.effects.push(e),this.effects.sort((e,t)=>e.priority-t.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(e){const t=this.effects.indexOf(e);-1!==t&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(e){const t=this._maskEffect;(null===t||void 0===t?void 0:t.mask)!==e&&(t&&(this.removeEffect(t),s.B.returnMaskEffect(t),this._maskEffect=null),null!==e&&void 0!==e&&(this._maskEffect=s.B.getMaskEffect(e),this.addEffect(this._maskEffect)))},get mask(){var e;return null===(e=this._maskEffect)||void 0===e?void 0:e.mask},setMask(e){this._maskOptions=(0,r.A)((0,r.A)({},this._maskOptions),e),e.mask&&(this.mask=e.mask),this._markStructureAsChanged()},set filters(e){var t,n;!Array.isArray(e)&&e&&(e=[e]);const r=this._filterEffect||(this._filterEffect=new i.a),s=(null===(t=e)||void 0===t?void 0:t.length)>0,a=s!==(null===(n=r.filters)||void 0===n?void 0:n.length)>0;e=Array.isArray(e)?e.slice(0):e,r.filters=Object.freeze(e),a&&(s?this.addEffect(r):(this.removeEffect(r),r.filters=null!==e&&void 0!==e?e:null))},get filters(){var e;return null===(e=this._filterEffect)||void 0===e?void 0:e.filters},set filterArea(e){this._filterEffect||(this._filterEffect=new i.a),this._filterEffect.filterArea=e},get filterArea(){var e;return null===(e=this._filterEffect)||void 0===e?void 0:e.filterArea}}},3276:(e,t,n)=>{"use strict";n.d(t,{g:()=>h});var r=n(2604),i=n(9148),s=n(4307),a=n(2026),o=n(4811),l=n(8964),c=n(5852),u=n(6904),d=n(4055);class h extends r.A{constructor(){var e;let{source:t,label:n,frame:r,orig:i,trim:o,defaultAnchor:l,defaultBorders:c,rotate:d,dynamic:h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(super(),this.uid=(0,a.L)("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new s.M,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=null!==(e=null===t||void 0===t?void 0:t.source)&&void 0!==e?e:new u.v,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:e,height:t}=this._source;this.frame.width=e,this.frame.height=t}this.orig=i||this.frame,this.trim=o,this.rotate=null!==d&&void 0!==d?d:0,this.defaultAnchor=l,this.defaultBorders=c,this.destroyed=!1,this.dynamic=h||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new d.N(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:t}=this,{width:n,height:r}=this._source,s=t.x/n,a=t.y/r,o=t.width/n,l=t.height/r;let c=this.rotate;if(c){const t=o/2,n=l/2,r=s+t,u=a+n;c=i.E.add(c,i.E.NW),e.x0=r+t*i.E.uX(c),e.y0=u+n*i.E.uY(c),c=i.E.add(c,2),e.x1=r+t*i.E.uX(c),e.y1=u+n*i.E.uY(c),c=i.E.add(c,2),e.x2=r+t*i.E.uX(c),e.y2=u+n*i.E.uY(c),c=i.E.add(c,2),e.x3=r+t*i.E.uX(c),e.y3=u+n*i.E.uY(c)}else e.x0=s,e.y0=a,e.x1=s+o,e.y1=a,e.x2=s+o,e.y2=a+l,e.x3=s,e.y3=a+l}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return(0,o.t6)(o.lj,"Texture.baseTexture is now Texture.source"),this._source}}h.EMPTY=new h({label:"EMPTY",source:new u.v({label:"EMPTY"})}),h.EMPTY.destroy=l.t,h.WHITE=new h({source:new c.P({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"}),h.WHITE.destroy=l.t},3375:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});const r={cullArea:null,cullable:!1,cullableChildren:!0}},3476:(e,t,n)=>{"use strict";n.d(t,{k:()=>m});var r=n(7051),i=n(5242),s=n(9068),a=n(7385),o=n(4668),l=n(2026),c=n(4811),u=n(7422),d=n(7574),h=n(2604);const p=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],f=class e extends h.A{constructor(e){var t;super(),this.uid=(0,l.L)("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const n=[...p,...null!==(t=this.config.runners)&&void 0!==t?t:[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=!0===t.skipExtensionImports||!1===t.manageImports;await(0,s.W)(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const e in this._systemsHash){const n=this._systemsHash[e].constructor.defaultOptions;t=(0,r.A)((0,r.A)({},n),t)}t=(0,r.A)((0,r.A)({},e.defaultOptions),t),this._roundPixels=t.roundPixels?1:0;for(let e=0;e<this.runners.init.items.length;e++)await this.runners.init.items[e].init(t);this._initOptions=t}render(e,t){let n=e;var r,s;(n instanceof a.mc&&(n={container:n},t&&((0,c.t6)(c.lj,"passing a second argument is deprecated, please use render options instead"),n.target=t.renderTexture)),n.target||(n.target=this.view.renderTarget),n.target===this.view.renderTarget)&&(this._lastObjectRendered=n.container,null!==(r=n.clearColor)&&void 0!==r||(n.clearColor=this.background.colorRgba),null!==(s=n.clear)&&void 0!==s||(n.clear=this.background.clearBeforeRender));if(n.clearColor){const e=Array.isArray(n.clearColor)&&4===n.clearColor.length;n.clearColor=e?n.clearColor:i.Q.shared.setValue(n.clearColor).toArray()}n.transform||(n.container.updateLocalTransform(),n.transform=n.container.localTransform),n.container.enableRenderGroup(),this.runners.prerender.emit(n),this.runners.renderStart.emit(n),this.runners.render.emit(n),this.runners.renderEnd.emit(n),this.runners.postrender.emit(n)}resize(e,t,n){const r=this.view.resolution;this.view.resize(e,t,n),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),void 0!==n&&n!==r&&this.runners.resolutionChange.emit(n)}clear(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.target||(t.target=this.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),null!==(e=t.clear)&&void 0!==e||(t.clear=u.u.ALL);const{clear:n,clearColor:r,target:s}=t;i.Q.shared.setValue(null!==r&&void 0!==r?r:this.background.colorRgba),this.renderTarget.clear(s,n,i.Q.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(e=>{this.runners[e]=new d.C(e)})}_addSystems(e){let t;for(t in e){const n=e[t];this._addSystem(n.value,n.name)}}_addSystem(e,t){const n=new e(this);if(this[t])throw new Error('Whoops! The name "'.concat(t,'" is already in use'));this[t]=n,this._systemsHash[t]=n;for(const r in this.runners)this.runners[r].add(n);return this}_addPipes(e,t){const n=t.reduce((e,t)=>(e[t.name]=t.value,e),{});e.forEach(e=>{const t=e.value,r=e.name,i=n[r];this.renderPipes[r]=new t(this,i?new i:null)})}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!(0,o.f)())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};f.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let m=f},3499:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,R:()=>l});var r=n(3596),i=n(5076),s=n(8263),a=n(1686);function o(e){return((255&e)<<16)+(65280&e)+(e>>16&255)}const l={getGlobalAlpha(e){if(e)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,n=this.parent;for(;n;)t*=n.alpha,n=n.parent;return t},getGlobalTransform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new r.u;if(arguments.length>1?arguments[1]:void 0)return e.copyFrom(this.worldTransform);this.updateLocalTransform();const t=(0,i.E)(this,s.u.get().identity());return e.appendFrom(this.localTransform,t),s.u.return(t),e},getGlobalTint(e){if(e)return this.renderGroup?o(this.renderGroup.worldColor):this.parentRenderGroup?o((0,a.j)(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,n=this.parent;for(;n;)t=(0,a.j)(t,n.localColor),n=n.parent;return o(t)}}},3545:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=n(1478),i=n(1669);class s{constructor(e){this._renderer=e}addRenderable(e,t){const n=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,n),this._renderer.renderPipes.batch.addToBatch(n,t)}updateRenderable(e){const t=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}_updateBatchableSprite(e,t){t.bounds=e.visualBounds,t.texture=e._texture}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=new i.K;return t.renderable=e,t.transform=e.groupTransform,t.texture=e._texture,t.bounds=e.visualBounds,t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=t,t}destroy(){this._renderer=null}}s.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"sprite"}},3552:(e,t,n)=>{"use strict";n.d(t,{C:()=>i,D:()=>r});const r={name:"local-uniform-msdf-bit",vertex:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32,\n                uRound:f32,\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "},fragment:{header:"\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n         ",main:"\n            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));\n        "}},i={name:"local-uniform-msdf-bit",vertex:{header:"\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix *= uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "},fragment:{header:"\n            uniform float uDistance;\n         ",main:"\n            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));\n        "}}},3596:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});var r=n(6887),i=n(1960);class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.array=null,this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,n,r,i,s){return this.a=e,this.b=t,this.c=n,this.d=r,this.tx=i,this.ty=s,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,t){t=t||new i.b;const n=e.x,r=e.y;return t.x=this.a*n+this.c*r+this.tx,t.y=this.b*n+this.d*r+this.ty,t}applyInverse(e,t){t=t||new i.b;const n=this.a,r=this.b,s=this.c,a=this.d,o=this.tx,l=this.ty,c=1/(n*a+s*-r),u=e.x,d=e.y;return t.x=a*c*u+-s*c*d+(l*s-o*a)*c,t.y=n*c*d+-r*c*u+(-l*n+o*r)*c,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.a,i=this.c,s=this.tx;return this.a=r*t-this.b*n,this.b=r*n+this.b*t,this.c=i*t-this.d*n,this.d=i*n+this.d*t,this.tx=s*t-this.ty*n,this.ty=s*n+this.ty*t,this}append(e){const t=this.a,n=this.b,r=this.c,i=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*n+e.b*i,this.c=e.c*t+e.d*r,this.d=e.c*n+e.d*i,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*i+this.ty,this}appendFrom(e,t){const n=e.a,r=e.b,i=e.c,s=e.d,a=e.tx,o=e.ty,l=t.a,c=t.b,u=t.c,d=t.d;return this.a=n*l+r*u,this.b=n*c+r*d,this.c=i*l+s*u,this.d=i*c+s*d,this.tx=a*l+o*u+t.tx,this.ty=a*c+o*d+t.ty,this}setTransform(e,t,n,r,i,s,a,o,l){return this.a=Math.cos(a+l)*i,this.b=Math.sin(a+l)*i,this.c=-Math.sin(a-o)*s,this.d=Math.cos(a-o)*s,this.tx=e-(n*this.a+r*this.c),this.ty=t-(n*this.b+r*this.d),this}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const t=this.a,n=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,n=this.b,i=this.c,s=this.d,a=e.pivot,o=-Math.atan2(-i,s),l=Math.atan2(n,t),c=Math.abs(o+l);return c<1e-5||Math.abs(r.TO-c)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=l),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(a.x*t+a.y*i),e.position.y=this.ty+(a.x*n+a.y*s),e}invert(){const e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,s=e*r-t*n;return this.a=r/s,this.b=-t/s,this.c=-n/s,this.d=e/s,this.tx=(n*this.ty-r*i)/s,this.ty=-(e*this.ty-t*i)/s,this}isIdentity(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.tx&&0===this.ty}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new s;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return"[pixi.js:Matrix a=".concat(this.a," b=").concat(this.b," c=").concat(this.c," d=").concat(this.d," tx=").concat(this.tx," ty=").concat(this.ty,"]")}static get IDENTITY(){return o.identity()}static get shared(){return a.identity()}}const a=new s,o=new s},3629:(e,t,n)=>{"use strict";n.d(t,{EU:()=>r,hF:()=>i,jv:()=>s});const r={name:"global-uniforms-bit",vertex:{header:"\n        struct GlobalUniforms {\n            uProjectionMatrix:mat3x3<f32>,\n            uWorldTransformMatrix:mat3x3<f32>,\n            uWorldColorAlpha: vec4<f32>,\n            uResolution: vec2<f32>,\n        }\n\n        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;\n        "}},i={name:"global-uniforms-ubo-bit",vertex:{header:"\n          uniform globalUniforms {\n            mat3 uProjectionMatrix;\n            mat3 uWorldTransformMatrix;\n            vec4 uWorldColorAlpha;\n            vec2 uResolution;\n          };\n        "}},s={name:"global-uniforms-bit",vertex:{header:"\n          uniform mat3 uProjectionMatrix;\n          uniform mat3 uWorldTransformMatrix;\n          uniform vec4 uWorldColorAlpha;\n          uniform vec2 uResolution;\n        "}}},3636:(e,t,n)=>{"use strict";n.d(t,{M:()=>p});var r=n(7051),i=n(3986),s=n(2604),a=n(2026),o=n(2568),l=n(2590),c=n(1996),u=n(6650),d=n(6538);const h=["gpu","gl"];class p extends s.A{constructor(e){super(),this.uid=(0,a.L)("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:t,glProgram:n,groups:r,resources:i,compatibleRenderers:s,groupMap:o}=e;this.gpuProgram=t,this.glProgram=n,void 0===s&&(s=0,t&&(s|=u.W.WEBGPU),n&&(s|=u.W.WEBGL)),this.compatibleRenderers=s;const c={};if(i||r||(i={}),i&&r)throw new Error("[Shader] Cannot have both resources and groups");if(!t&&r&&!o)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!t&&r&&o)for(const a in o)for(const e in o[a]){const t=o[a][e];c[t]={group:a,binding:e,name:t}}else if(t&&r&&!o){const e=t.structsAndGroups.groups;o={},e.forEach(e=>{o[e.group]=o[e.group]||{},o[e.group][e.binding]=e.name,c[e.name]=e})}else if(i){if(r={},o={},t){t.structsAndGroups.groups.forEach(e=>{o[e.group]=o[e.group]||{},o[e.group][e.binding]=e.name,c[e.name]=e})}let e=0;for(const t in i)c[t]||(r[99]||(r[99]=new l.T,this._ownedBindGroups.push(r[99])),c[t]={group:99,binding:e,name:t},o[99]=o[99]||{},o[99][e]=t,e++);for(const t in i){const e=t;let n=i[t];n.source||n._resourceType||(n=new d.k(n));const s=c[e];s&&(r[s.group]||(r[s.group]=new l.T,this._ownedBindGroups.push(r[s.group])),r[s.group].setResource(n,s.binding))}}this.groups=r,this._uniformBindMap=o,this.resources=this._buildResourceAccessor(r,c)}addResource(e,t,n){var r,i;(r=this._uniformBindMap)[t]||(r[t]={}),(i=this._uniformBindMap[t])[n]||(i[n]=e),this.groups[t]||(this.groups[t]=new l.T,this._ownedBindGroups.push(this.groups[t]))}_buildResourceAccessor(e,t){const n={};for(const r in t){const i=t[r];Object.defineProperty(n,i.name,{get:()=>e[i.group].getResource(i.binding),set(t){e[i.group].setResource(t,i.binding)}})}return n}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n;(this.emit("destroy",this),e)&&(null===(t=this.gpuProgram)||void 0===t||t.destroy(),null===(n=this.glProgram)||void 0===n||n.destroy());this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(e=>{e.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:t,gl:n}=e,s=(0,i.A)(e,h);let a,l;return t&&(a=c.B.from(t)),n&&(l=o.M.from(n)),new p((0,r.A)({gpuProgram:a,glProgram:l},s))}}},3662:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r={normal:{alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"}},add:{alpha:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one",operation:"add"}},multiply:{alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"dst",dstFactor:"one-minus-src-alpha",operation:"add"}},screen:{alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}},overlay:{alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"one",dstFactor:"one-minus-src",operation:"add"}},none:{alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"zero",operation:"add"}},"normal-npm":{alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src-alpha",operation:"add"}},"add-npm":{alpha:{srcFactor:"one",dstFactor:"one",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one",operation:"add"}},"screen-npm":{alpha:{srcFactor:"one",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"src-alpha",dstFactor:"one-minus-src",operation:"add"}},erase:{alpha:{srcFactor:"zero",dstFactor:"one-minus-src-alpha",operation:"add"},color:{srcFactor:"zero",dstFactor:"one-minus-src",operation:"add"}},min:{alpha:{srcFactor:"one",dstFactor:"one",operation:"min"},color:{srcFactor:"one",dstFactor:"one",operation:"min"}},max:{alpha:{srcFactor:"one",dstFactor:"one",operation:"max"},color:{srcFactor:"one",dstFactor:"one",operation:"max"}}}},3682:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(1478),i=n(6904);class s extends i.v{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}s.extension=r.Ag.TextureSource},3686:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var r=n(5242);const i=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function s(e){const t=[];let n=0;for(let r=0;r<i.length;r++){const s="_".concat(i[r]);t[n++]=e[s]}return n=a(e._fill,t,n),n=function(e,t,n){return e?(n=a(e,t,n),t[n++]=e.width,t[n++]=e.alignment,t[n++]=e.cap,t[n++]=e.join,t[n++]=e.miterLimit,n):n}(e._stroke,t,n),n=function(e,t,n){return e?(t[n++]=e.alpha,t[n++]=e.angle,t[n++]=e.blur,t[n++]=e.distance,t[n++]=r.Q.shared.setValue(e.color).toNumber(),n):n}(e.dropShadow,t,n),n=function(e,t,n){if(!e)return n;for(const r of e)t[n++]=r.uid;return n}(e.filters,t,n),t.join("-")}function a(e,t,n){var r;return e?(t[n++]=e.color,t[n++]=e.alpha,t[n++]=null===(r=e.fill)||void 0===r?void 0:r.styleKey,n):n}},3693:(e,t,n)=>{"use strict";function r(e,t,n){const{width:r,height:i}=n.orig,s=n.trim;if(s){const n=s.width,a=s.height;e.minX=s.x-t._x*r,e.maxX=e.minX+n,e.minY=s.y-t._y*i,e.maxY=e.minY+a}else e.minX=-t._x*r,e.maxX=e.minX+r,e.minY=-t._y*i,e.maxY=e.minY+i}n.d(t,{y:()=>r})},3699:(e,t,n)=>{var r=n(8923),i=r.find,s=r.NAMESPACE;function a(e){return""!==e}function o(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function l(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(a):[]}(e);return Object.keys(t.reduce(o,{}))}function c(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function u(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,c(n,r=new r),e.prototype=n=r}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var d={},h=d.ELEMENT_NODE=1,p=d.ATTRIBUTE_NODE=2,f=d.TEXT_NODE=3,m=d.CDATA_SECTION_NODE=4,g=d.ENTITY_REFERENCE_NODE=5,v=d.ENTITY_NODE=6,b=d.PROCESSING_INSTRUCTION_NODE=7,_=d.COMMENT_NODE=8,x=d.DOCUMENT_NODE=9,y=d.DOCUMENT_TYPE_NODE=10,S=d.DOCUMENT_FRAGMENT_NODE=11,T=d.NOTATION_NODE=12,w={},A={},E=(w.INDEX_SIZE_ERR=(A[1]="Index size error",1),w.DOMSTRING_SIZE_ERR=(A[2]="DOMString size error",2),w.HIERARCHY_REQUEST_ERR=(A[3]="Hierarchy request error",3)),C=(w.WRONG_DOCUMENT_ERR=(A[4]="Wrong document",4),w.INVALID_CHARACTER_ERR=(A[5]="Invalid character",5),w.NO_DATA_ALLOWED_ERR=(A[6]="No data allowed",6),w.NO_MODIFICATION_ALLOWED_ERR=(A[7]="No modification allowed",7),w.NOT_FOUND_ERR=(A[8]="Not found",8)),R=(w.NOT_SUPPORTED_ERR=(A[9]="Not supported",9),w.INUSE_ATTRIBUTE_ERR=(A[10]="Attribute in use",10));w.INVALID_STATE_ERR=(A[11]="Invalid state",11),w.SYNTAX_ERR=(A[12]="Syntax error",12),w.INVALID_MODIFICATION_ERR=(A[13]="Invalid modification",13),w.NAMESPACE_ERR=(A[14]="Invalid namespace",14),w.INVALID_ACCESS_ERR=(A[15]="Invalid access",15);function M(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,A[e]),this.message=A[e],Error.captureStackTrace&&Error.captureStackTrace(this,M);return n.code=e,t&&(this.message=this.message+": "+t),n}function P(){}function k(e,t){this._node=e,this._refresh=t,B(this)}function B(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(_e(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];c(n,e),e._inc=t}}function O(){}function I(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function F(e,t,n,r){if(r?t[I(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&z(i,e,r),function(e,t,n){e&&e._inc++;var r=n.namespaceURI;r===s.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function G(e,t,n){var r=I(t,n);if(!(r>=0))throw new M(C,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var s=e.ownerDocument;s&&(z(s,e,n),n.ownerElement=null)}}function N(){}function D(){}function U(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function L(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(L(e,t))return!0}while(e=e.nextSibling)}function j(){this.ownerDocument=this}function z(e,t,n,r){e&&e._inc++,n.namespaceURI===s.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function X(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,s=0;i;)r[s++]=i,i=i.nextSibling;r.length=s,delete r[r.length]}}}function H(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,X(e.ownerDocument,e),t}function V(e){return e&&e.nodeType===D.DOCUMENT_TYPE_NODE}function W(e){return e&&e.nodeType===D.ELEMENT_NODE}function Y(e){return e&&e.nodeType===D.TEXT_NODE}function q(e,t){var n=e.childNodes||[];if(i(n,W)||V(t))return!1;var r=i(n,V);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function K(e,t){var n=e.childNodes||[];if(i(n,function(e){return W(e)&&e!==t}))return!1;var r=i(n,V);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function Q(e,t,n){if(!function(e){return e&&(e.nodeType===D.DOCUMENT_NODE||e.nodeType===D.DOCUMENT_FRAGMENT_NODE||e.nodeType===D.ELEMENT_NODE)}(e))throw new M(E,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new M(C,"child not in parent");if(!function(e){return e&&(W(e)||Y(e)||V(e)||e.nodeType===D.DOCUMENT_FRAGMENT_NODE||e.nodeType===D.COMMENT_NODE||e.nodeType===D.PROCESSING_INSTRUCTION_NODE)}(t)||V(t)&&e.nodeType!==D.DOCUMENT_NODE)throw new M(E,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function $(e,t,n){var r=e.childNodes||[],s=t.childNodes||[];if(t.nodeType===D.DOCUMENT_FRAGMENT_NODE){var a=s.filter(W);if(a.length>1||i(s,Y))throw new M(E,"More than one element or text in fragment");if(1===a.length&&!q(e,n))throw new M(E,"Element in fragment can not be inserted before doctype")}if(W(t)&&!q(e,n))throw new M(E,"Only one element can be added and only after doctype");if(V(t)){if(i(r,V))throw new M(E,"Only one doctype is allowed");var o=i(r,W);if(n&&r.indexOf(o)<r.indexOf(n))throw new M(E,"Doctype can only be inserted before an element");if(!n&&o)throw new M(E,"Doctype can not be appended since element is present")}}function Z(e,t,n){var r=e.childNodes||[],s=t.childNodes||[];if(t.nodeType===D.DOCUMENT_FRAGMENT_NODE){var a=s.filter(W);if(a.length>1||i(s,Y))throw new M(E,"More than one element or text in fragment");if(1===a.length&&!K(e,n))throw new M(E,"Element in fragment can not be inserted before doctype")}if(W(t)&&!K(e,n))throw new M(E,"Only one element can be added and only after doctype");if(V(t)){if(i(r,function(e){return V(e)&&e!==n}))throw new M(E,"Only one doctype is allowed");var o=i(r,W);if(n&&r.indexOf(o)<r.indexOf(n))throw new M(E,"Doctype can only be inserted before an element")}}function J(e,t,n,r){Q(e,t,n),e.nodeType===D.DOCUMENT_NODE&&(r||$)(e,t,n);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===S){var s=t.firstChild;if(null==s)return t;var a=t.lastChild}else s=a=t;var o=n?n.previousSibling:e.lastChild;s.previousSibling=o,a.nextSibling=n,o?o.nextSibling=s:e.firstChild=s,null==n?e.lastChild=a:n.previousSibling=a;do{s.parentNode=e}while(s!==a&&(s=s.nextSibling));return X(e.ownerDocument||e,e),t.nodeType==S&&(t.firstChild=t.lastChild=null),t}function ee(){this._nsMap={}}function te(){}function ne(){}function re(){}function ie(){}function se(){}function ae(){}function oe(){}function le(){}function ce(){}function ue(){}function de(){}function he(){}function pe(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,s=r.namespaceURI;if(s&&null==i&&null==(i=r.lookupPrefix(s)))var a=[{namespace:s,prefix:null}];return ge(this,n,e,t,a),n.join("")}function fe(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!i)return!1;if("xml"===r&&i===s.XML||i===s.XMLNS)return!1;for(var a=n.length;a--;){var o=n[a];if(o.prefix===r)return o.namespace!==i}return!0}function me(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,U),'"')}function ge(e,t,n,r,i){if(i||(i=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case h:var a=e.attributes,o=a.length,l=e.firstChild,c=e.tagName,u=c;if(!(n=s.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var d,v=0;v<a.length;v++)if("xmlns"===a.item(v).name){d=a.item(v).value;break}if(!d)for(var T=i.length-1;T>=0;T--){if(""===(w=i[T]).prefix&&w.namespace===e.namespaceURI){d=w.namespace;break}}if(d!==e.namespaceURI)for(T=i.length-1;T>=0;T--){var w;if((w=i[T]).namespace===e.namespaceURI){w.prefix&&(u=w.prefix+":"+c);break}}}t.push("<",u);for(var A=0;A<o;A++){"xmlns"==(E=a.item(A)).prefix?i.push({prefix:E.localName,namespace:E.value}):"xmlns"==E.nodeName&&i.push({prefix:"",namespace:E.value})}for(A=0;A<o;A++){var E,C,R;if(fe(E=a.item(A),0,i))me(t,(C=E.prefix||"")?"xmlns:"+C:"xmlns",R=E.namespaceURI),i.push({prefix:C,namespace:R});ge(E,t,n,r,i)}if(c===u&&fe(e,0,i))me(t,(C=e.prefix||"")?"xmlns:"+C:"xmlns",R=e.namespaceURI),i.push({prefix:C,namespace:R});if(l||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;l;)l.data?t.push(l.data):ge(l,t,n,r,i.slice()),l=l.nextSibling;else for(;l;)ge(l,t,n,r,i.slice()),l=l.nextSibling;t.push("</",u,">")}else t.push("/>");return;case x:case S:for(l=e.firstChild;l;)ge(l,t,n,r,i.slice()),l=l.nextSibling;return;case p:return me(t,e.name,e.value);case f:return t.push(e.data.replace(/[<&>]/g,U));case m:return t.push("<![CDATA[",e.data,"]]>");case _:return t.push("\x3c!--",e.data,"--\x3e");case y:var M=e.publicId,P=e.systemId;if(t.push("<!DOCTYPE ",e.name),M)t.push(" PUBLIC ",M),P&&"."!=P&&t.push(" ",P),t.push(">");else if(P&&"."!=P)t.push(" SYSTEM ",P,">");else{var k=e.internalSubset;k&&t.push(" [",k,"]"),t.push(">")}return;case b:return t.push("<?",e.target," ",e.data,"?>");case g:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ve(e,t,n){var r;switch(t.nodeType){case h:(r=t.cloneNode(!1)).ownerDocument=e;case S:break;case p:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(ve(e,i,n)),i=i.nextSibling;return r}function be(e,t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];"object"!=typeof s&&s!=r[i]&&(r[i]=s)}switch(t.childNodes&&(r.childNodes=new P),r.ownerDocument=e,r.nodeType){case h:var a=t.attributes,o=r.attributes=new O,l=a.length;o._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(be(e,a.item(c),!0));break;case p:n=!0}if(n)for(var u=t.firstChild;u;)r.appendChild(be(e,u,n)),u=u.nextSibling;return r}function _e(e,t,n){e[t]=n}M.prototype=Error.prototype,c(w,M),P.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ge(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},k.prototype.item=function(e){return B(this),this[e]||null},u(k,P),O.prototype={length:0,item:P.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new M(R);var n=this.getNamedItem(e.nodeName);return F(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new M(R);return t=this.getNamedItemNS(e.namespaceURI,e.localName),F(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return G(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return G(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},N.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new j;if(r.implementation=this,r.childNodes=new P,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new ae;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},D.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return J(this,e,t)},replaceChild:function(e,t){J(this,e,t,Z),t&&this.removeChild(t)},removeChild:function(e){return H(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return be(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==f&&e.nodeType==f?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r;t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==p?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(d,D),c(d,D.prototype),j.prototype={nodeName:"#document",nodeType:x,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==S){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return J(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===h&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),H(this,e)},replaceChild:function(e,t){J(this,e,t,Z),e.ownerDocument=this,t&&this.removeChild(t),W(e)&&(this.documentElement=e)},importNode:function(e,t){return ve(this,e,t)},getElementById:function(e){var t=null;return L(this.documentElement,function(n){if(n.nodeType==h&&n.getAttribute("id")==e)return t=n,!0}),t},getElementsByClassName:function(e){var t=l(e);return new k(this,function(n){var r=[];return t.length>0&&L(n.documentElement,function(i){if(i!==n&&i.nodeType===h){var s=i.getAttribute("class");if(s){var a=e===s;if(!a){var o=l(s);a=t.every((c=o,function(e){return c&&-1!==c.indexOf(e)}))}a&&r.push(i)}}var c}),r})},createElement:function(e){var t=new ee;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new P,(t.attributes=new O)._ownerElement=t,t},createDocumentFragment:function(){var e=new ue;return e.ownerDocument=this,e.childNodes=new P,e},createTextNode:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new se;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new de;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new te;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ce;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new ee,r=t.split(":"),i=n.attributes=new O;return n.childNodes=new P,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new te,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},u(j,D),ee.prototype={nodeType:h,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===S?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,X(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new k(this,function(t){var n=[];return L(t,function(r){r===t||r.nodeType!=h||"*"!==e&&r.tagName!=e||n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new k(this,function(n){var r=[];return L(n,function(i){i===n||i.nodeType!==h||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)}),r})}},j.prototype.getElementsByTagName=ee.prototype.getElementsByTagName,j.prototype.getElementsByTagNameNS=ee.prototype.getElementsByTagNameNS,u(ee,D),te.prototype.nodeType=p,u(te,D),ne.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(A[E])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},u(ne,D),re.prototype={nodeName:"#text",nodeType:f,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},u(re,ne),ie.prototype={nodeName:"#comment",nodeType:_},u(ie,ne),se.prototype={nodeName:"#cdata-section",nodeType:m},u(se,ne),ae.prototype.nodeType=y,u(ae,D),oe.prototype.nodeType=T,u(oe,D),le.prototype.nodeType=v,u(le,D),ce.prototype.nodeType=g,u(ce,D),ue.prototype.nodeName="#document-fragment",ue.prototype.nodeType=S,u(ue,D),de.prototype.nodeType=b,u(de,D),he.prototype.serializeToString=function(e,t,n){return pe.call(e,t,n)},D.prototype.toString=pe;try{if(Object.defineProperty){function xe(e){switch(e.nodeType){case h:case S:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(xe(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(k.prototype,"length",{get:function(){return B(this),this.$$length}}),Object.defineProperty(D.prototype,"textContent",{get:function(){return xe(this)},set:function(e){switch(this.nodeType){case h:case S:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),_e=function(e,t,n){e["$$"+t]=n}}}catch(ye){}t.DocumentType=ae,t.DOMException=M,t.DOMImplementation=N,t.Element=ee,t.Node=D,t.NodeList=P,t.XMLSerializer=he},3700:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var r=n(7393);const i={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function s(e){let{source:t,entryPoint:n}=e;const s={},a=t.indexOf("fn ".concat(n));if(-1!==a){const e=t.indexOf("->",a);if(-1!==e){const n=t.substring(a,e),l=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let c;for(;null!==(c=l.exec(n));){var o;const e=null!==(o=i[c[3]])&&void 0!==o?o:"float32";s[c[2]]={location:parseInt(c[1],10),format:e,stride:(0,r.m)(e).stride,offset:0,instance:!1,start:0}}}}return s}},3702:(e,t,n)=>{"use strict";n.d(t,{_:()=>i,q:()=>r});const r=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],i=r.reduce((e,t)=>(e[t]=!0,e),{})},3739:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var r=n(1478);class i{constructor(e){this._hash=Object.create(null),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_hash")}contextChange(e){this._gpu=e}getBindGroup(e,t,n){e._updateKey();return this._hash[e._key]||this._createBindGroup(e,t,n)}_createBindGroup(e,t,n){const r=this._gpu.device,i=t.layout[n],s=[],a=this._renderer;for(const u in i){var o;const t=null!==(o=e.resources[u])&&void 0!==o?o:e.resources[i[u]];let n;if("uniformGroup"===t._resourceType){const e=t;a.ubo.updateUniformGroup(e);const r=e.buffer;n={buffer:a.buffer.getGPUBuffer(r),offset:0,size:r.descriptor.size}}else if("buffer"===t._resourceType){const e=t;n={buffer:a.buffer.getGPUBuffer(e),offset:0,size:e.descriptor.size}}else if("bufferResource"===t._resourceType){const e=t;n={buffer:a.buffer.getGPUBuffer(e.buffer),offset:e.offset,size:e.size}}else if("textureSampler"===t._resourceType){const e=t;n=a.texture.getGpuSampler(e)}else if("textureSource"===t._resourceType){const e=t;n=a.texture.getGpuSource(e).createView({})}s.push({binding:i[u],resource:n})}const l=a.shader.getProgramData(t).bindGroups[n],c=r.createBindGroup({layout:l,entries:s});return this._hash[e._key]=c,c}destroy(){for(const e of Object.keys(this._hash))this._hash[e]=null;this._hash=null,this._renderer=null}}i.extension={type:[r.Ag.WebGPUSystem],name:"bindGroup"}},3772:(e,t,n)=>{"use strict";function r(e,t,n){const r=e.length;let i;if(t>=r||0===n)return;const s=r-(n=t+n>r?r-t:n);for(i=t;i<s;++i)e[i]=e[i+n];e.length=s}n.d(t,{d:()=>r})},3798:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});class r{execute(e,t){const n=e.state,r=e.renderer,i=t.shader||e.defaultShader;i.resources.uTexture=t.texture._source,i.resources.uniforms=e.localUniforms;const s=r.gl,a=e.getBuffers(t);r.shader.bind(i),r.state.set(n),r.geometry.bind(a.geometry,i.glProgram);const o=2===a.geometry.indexBuffer.data.BYTES_PER_ELEMENT?s.UNSIGNED_SHORT:s.UNSIGNED_INT;s.drawElements(s.TRIANGLES,6*t.particleChildren.length,o,0)}}},3828:(e,t,n)=>{"use strict";n.d(t,{y:()=>a});var r=n(1478),i=n(6493),s=n(5682);class a{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,i.d.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?s.R.shared:new s.R,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}a.extension=r.Ag.Application},3862:(e,t,n)=>{"use strict";n.d(t,{u:()=>o});var r=n(1478),i=n(576),s=n(3126);const a=class e{constructor(e){this._invertFrontFace=!1,this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode="none",this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=i.U.for2d(),e.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(e){this._invertFrontFace=!e.isRoot,this._cullFace?this.setFrontFace(this._frontFace):this._frontFaceDirty=!0}contextChange(e){this.gl=e,this.blendModesMap=(0,s.Y)(e),this.resetState()}set(e){if(e||(e=this.defaultState),this.stateId!==e.data){let t=this.stateId^e.data,n=0;for(;t;)1&t&&this.map[n].call(this,!!(e.data&1<<n)),t>>=1,n++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e||(e=this.defaultState);for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(t){this._updateCheck(e._checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this._updateCheck(e._checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this._cullFace=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE),this._cullFace&&this._frontFaceDirty&&this.setFrontFace(this._frontFace)}setFrontFace(e){this._frontFace=e,this._frontFaceDirty=!1;const t=this._invertFrontFace?!e:e;this._glFrontFace!==t&&(this._glFrontFace=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))}setBlendMode(e){if(this.blendModesMap[e]||(e="normal"),e===this.blendMode)return;this.blendMode=e;const t=this.blendModesMap[e],n=this.gl;2===t.length?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}resetState(){this._glFrontFace=!1,this._frontFace=!1,this._cullFace=!1,this._frontFaceDirty=!1,this._invertFrontFace=!1,this.gl.frontFace(this.gl.CCW),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode="",this.setBlendMode("normal")}_updateCheck(e,t){const n=this.checks.indexOf(e);t&&-1===n?this.checks.push(e):t||-1===n||this.checks.splice(n,1)}static _checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static _checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null,this.checks.length=0}};a.extension={type:[r.Ag.WebGLSystem],name:"state"};let o=a},3986:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{A:()=>r})},3994:(e,t,n)=>{"use strict";n.d(t,{J:()=>i});var r=n(9445);function i(e,t){const n=r.N.getOptimalCanvasAndContext(e.width,e.height,t),{context:i}=n;return i.clearRect(0,0,e.width,e.height),i.drawImage(e,0,0),n}},4001:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(1478),i=n(2290),s=n(279);const a={};r.XO.handle(r.Ag.BlendMode,e=>{if(!e.name)throw new Error("BlendMode extension must have a name property");a[e.name]=e.ref},e=>{delete a[e.name]});class o{constructor(e){this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}setBlendMode(e,t,n){this._activeBlendMode!==t?(this._activeBlendMode=t,this._isAdvanced&&this._endAdvancedBlendMode(n),this._isAdvanced=!!a[t],this._isAdvanced&&(this._beginAdvancedBlendMode(n),this._renderableList.push(e))):this._isAdvanced&&this._renderableList.push(e)}_beginAdvancedBlendMode(e){this._renderer.renderPipes.batch.break(e);const t=this._activeBlendMode;if(!a[t])return void(0,s.R)("Unable to assign BlendMode: '".concat(t,"'. You may want to include: import 'pixi.js/advanced-blend-modes'"));let n=this._filterHash[t];n||(n=this._filterHash[t]=new i.a,n.filters=[new a[t]]);const r={renderPipeId:"filter",action:"pushFilter",renderables:[],filterEffect:n,canBundle:!1};this._renderableList=r.renderables,e.add(r)}_endAdvancedBlendMode(e){this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}o.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"blendMode"}},4008:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r="in vec2 vMaskCoord;\nin vec2 vTextureCoord;\n\nuniform sampler2D uTexture;\nuniform sampler2D uMaskTexture;\n\nuniform float uAlpha;\nuniform vec4 uMaskClamp;\nuniform float uInverse;\n\nout vec4 finalColor;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(uMaskClamp.x, vMaskCoord.x) +\n        step(uMaskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, uMaskClamp.z) +\n        step(vMaskCoord.y, uMaskClamp.w));\n\n    // TODO look into why this is needed\n    float npmAlpha = uAlpha;\n    vec4 original = texture(uTexture, vTextureCoord);\n    vec4 masky = texture(uMaskTexture, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    float a = alphaMul * masky.r * npmAlpha * clip;\n\n    if (uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    finalColor = original * a;\n}\n"},4055:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var r=n(3596);const i=new r.u;class s{constructor(e,t){this.mapCoord=new r.u,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin="undefined"===typeof t?e.width<10?0:.5:t,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){var t;this.texture!==e&&(null===(t=this._texture)||void 0===t||t.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,t){void 0===t&&(t=e);const n=this.mapCoord;for(let r=0;r<e.length;r+=2){const i=e[r],s=e[r+1];t[r]=i*n.a+s*n.c+n.tx,t[r+1]=i*n.b+s*n.d+n.ty}return t}update(){const e=this._texture;this._updateID++;const t=e.uvs;this.mapCoord.set(t.x1-t.x0,t.y1-t.y0,t.x3-t.x0,t.y3-t.y0,t.x0,t.y0);const n=e.orig,r=e.trim;r&&(i.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(i));const s=e.source,a=this.uClampFrame,o=this.clampMargin/s._resolution,l=this.clampOffset/s._resolution;return a[0]=(e.frame.x+o+l)/s.width,a[1]=(e.frame.y+o+l)/s.height,a[2]=(e.frame.x+e.frame.width-o+l)/s.width,a[3]=(e.frame.y+e.frame.height-o+l)/s.height,this.uClampOffset[0]=this.clampOffset/s.pixelWidth,this.uClampOffset[1]=this.clampOffset/s.pixelHeight,this.isSimple=e.frame.width===s.width&&e.frame.height===s.height&&0===e.rotate,!0}}},4100:e=>{e.exports=function(e){var i=[];return e.replace(n,function(e,n,s){var a=n.toLowerCase();for(s=function(e){var t=e.match(r);return t?t.map(Number):[]}(s),"m"==a&&s.length>2&&(i.push([n].concat(s.splice(0,2))),a="l",n="m"==n?"l":"L");;){if(s.length==t[a])return s.unshift(n),i.push(s);if(s.length<t[a])throw new Error("malformed path data");i.push([n].concat(s.splice(0,t[a])))}}),i};var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},4101:(e,t,n)=>{"use strict";n.d(t,{_:()=>s,w:()=>r});const r={"bc1-rgba-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"bc2-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc3-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"bc7-rgba-unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"etc1-rgb-unorm":{blockBytes:8,blockWidth:4,blockHeight:4},"etc2-rgba8unorm":{blockBytes:16,blockWidth:4,blockHeight:4},"astc-4x4-unorm":{blockBytes:16,blockWidth:4,blockHeight:4}},i={blockBytes:4,blockWidth:1,blockHeight:1},s={type:"compressed",upload(e,t,n){let s=e.pixelWidth,a=e.pixelHeight;const o=r[e.format]||i;for(let r=0;r<e.resource.length;r++){const i=e.resource[r],l=Math.ceil(s/o.blockWidth)*o.blockBytes;n.device.queue.writeTexture({texture:t,mipLevel:r},i,{offset:0,bytesPerRow:l},{width:Math.ceil(s/o.blockWidth)*o.blockWidth,height:Math.ceil(a/o.blockHeight)*o.blockHeight,depthOrArrayLayers:1}),s=Math.max(s>>1,1),a=Math.max(a>>1,1)}}}},4119:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(9859);class i extends r.u{constructor(){super({positions:new Float32Array([0,0,1,0,1,1,0,1]),uvs:new Float32Array([0,0,1,0,1,1,0,1]),indices:new Uint32Array([0,1,2,0,2,3])})}}},4164:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});const r={id:"buffer",upload(e,t,n){t.width===e.width||t.height===e.height?n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.width,e.height,t.format,t.type,e.resource):n.texImage2D(t.target,0,t.internalFormat,e.width,e.height,0,t.format,t.type,e.resource),t.width=e.width,t.height=e.height}}},4190:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(1478);class i{constructor(){this._gpuProgramData=Object.create(null)}contextChange(e){this._gpu=e}getProgramData(e){return this._gpuProgramData[e._layoutKey]||this._createGPUProgramData(e)}_createGPUProgramData(e){const t=this._gpu.device,n=e.gpuLayout.map(e=>t.createBindGroupLayout({entries:e})),r={bindGroupLayouts:n};return this._gpuProgramData[e._layoutKey]={bindGroups:n,pipeline:t.createPipelineLayout(r)},this._gpuProgramData[e._layoutKey]}destroy(){this._gpu=null,this._gpuProgramData=null}}i.extension={type:[r.Ag.WebGPUSystem],name:"shader"}},4193:(e,t,n)=>{"use strict";function r(e,t,n){return t?e:n?(e=e.replace("out vec4 finalColor;",""),"\n\n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in varying\n        #define finalColor gl_FragColor\n        #define texture texture2D\n        #endif\n        ".concat(e,"\n        ")):"\n\n        #ifdef GL_ES // This checks if it is WebGL1\n        #define in attribute\n        #define out varying\n        #endif\n        ".concat(e,"\n        ")}n.d(t,{U:()=>r})},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=_.prototype=new b;x.constructor=_,m(x,v.prototype),x.isPureReactComponent=!0;var y=Array.isArray,S=Object.prototype.hasOwnProperty,T={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function A(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!w.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:T.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+R(l,0):s,y(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),M(a,t,i,"",function(e){return e})):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",y(e))for(var c=0;c<e.length;c++){var u=s+R(o=e[c],c);l+=M(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=M(o=o.value,t,i,u=s+R(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",function(e){return t.call(n,e,i++)}),r}function k(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var B={current:null},O={transition:null},I={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:O,ReactCurrentOwner:T};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=T.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!w.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=A,t.createFactory=function(e){var t=A.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return B.current.useCallback(e,t)},t.useContext=function(e){return B.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return B.current.useDeferredValue(e)},t.useEffect=function(e,t){return B.current.useEffect(e,t)},t.useId=function(){return B.current.useId()},t.useImperativeHandle=function(e,t,n){return B.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return B.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return B.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return B.current.useMemo(e,t)},t.useReducer=function(e,t,n){return B.current.useReducer(e,t,n)},t.useRef=function(e){return B.current.useRef(e)},t.useState=function(e){return B.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return B.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return B.current.useTransition()},t.version="18.3.1"},4203:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r="struct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct MaskUniforms {\n  uFilterMatrix:mat3x3<f32>,\n  uMaskClamp:vec4<f32>,\n  uAlpha:f32,\n  uInverse:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;\n@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) filterUv : vec2<f32>,\n};\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);\n}\n\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n\n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>,\n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition),\n   getFilterCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) filterUv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n\n    var maskClamp = filterUniforms.uMaskClamp;\n    var uAlpha = filterUniforms.uAlpha;\n\n    var clip = step(3.5,\n      step(maskClamp.x, filterUv.x) +\n      step(maskClamp.y, filterUv.y) +\n      step(filterUv.x, maskClamp.z) +\n      step(filterUv.y, maskClamp.w));\n\n    var mask = textureSample(uMaskTexture, uSampler, filterUv);\n    var source = textureSample(uTexture, uSampler, uv);\n    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);\n\n    var a: f32 = alphaMul * mask.r * uAlpha * clip;\n\n    if (filterUniforms.uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    return source * a;\n}\n"},4217:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});class r{constructor(e){this.device=e,this.sampler=e.createSampler({minFilter:"linear"}),this.pipelines={}}_getMipmapPipeline(e){let t=this.pipelines[e];return t||(this.mipmapShaderModule||(this.mipmapShaderModule=this.device.createShaderModule({code:"\n                        var<private> pos : array<vec2<f32>, 3> = array<vec2<f32>, 3>(\n                        vec2<f32>(-1.0, -1.0), vec2<f32>(-1.0, 3.0), vec2<f32>(3.0, -1.0));\n\n                        struct VertexOutput {\n                        @builtin(position) position : vec4<f32>,\n                        @location(0) texCoord : vec2<f32>,\n                        };\n\n                        @vertex\n                        fn vertexMain(@builtin(vertex_index) vertexIndex : u32) -> VertexOutput {\n                        var output : VertexOutput;\n                        output.texCoord = pos[vertexIndex] * vec2<f32>(0.5, -0.5) + vec2<f32>(0.5);\n                        output.position = vec4<f32>(pos[vertexIndex], 0.0, 1.0);\n                        return output;\n                        }\n\n                        @group(0) @binding(0) var imgSampler : sampler;\n                        @group(0) @binding(1) var img : texture_2d<f32>;\n\n                        @fragment\n                        fn fragmentMain(@location(0) texCoord : vec2<f32>) -> @location(0) vec4<f32> {\n                        return textureSample(img, imgSampler, texCoord);\n                        }\n                    "})),t=this.device.createRenderPipeline({layout:"auto",vertex:{module:this.mipmapShaderModule,entryPoint:"vertexMain"},fragment:{module:this.mipmapShaderModule,entryPoint:"fragmentMain",targets:[{format:e}]}}),this.pipelines[e]=t),t}generateMipmap(e){const t=this._getMipmapPipeline(e.format);if("3d"===e.dimension||"1d"===e.dimension)throw new Error("Generating mipmaps for non-2d textures is currently unsupported!");let n=e;const r=e.depthOrArrayLayers||1,i=e.usage&GPUTextureUsage.RENDER_ATTACHMENT;if(!i){const t={size:{width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:r},format:e.format,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_SRC|GPUTextureUsage.RENDER_ATTACHMENT,mipLevelCount:e.mipLevelCount-1};n=this.device.createTexture(t)}const s=this.device.createCommandEncoder({}),a=t.getBindGroupLayout(0);for(let o=0;o<r;++o){let r=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:"2d",baseArrayLayer:o,arrayLayerCount:1}),l=i?1:0;for(let i=1;i<e.mipLevelCount;++i){const e=n.createView({baseMipLevel:l++,mipLevelCount:1,dimension:"2d",baseArrayLayer:o,arrayLayerCount:1}),i=s.beginRenderPass({colorAttachments:[{view:e,storeOp:"store",loadOp:"clear",clearValue:{r:0,g:0,b:0,a:0}}]}),c=this.device.createBindGroup({layout:a,entries:[{binding:0,resource:this.sampler},{binding:1,resource:r}]});i.setPipeline(t),i.setBindGroup(0,c),i.draw(3,1,0,0),i.end(),r=e}}if(!i){const t={width:Math.ceil(e.width/2),height:Math.ceil(e.height/2),depthOrArrayLayers:r};for(let r=1;r<e.mipLevelCount;++r)s.copyTextureToTexture({texture:n,mipLevel:r-1},{texture:e,mipLevel:r},t),t.width=Math.ceil(t.width/2),t.height=Math.ceil(t.height/2)}return this.device.queue.submit([s.finish()]),i||n.destroy(),e}}},4251:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var r=n(1478),i=n(576),s=n(9266);const a=class e{constructor(e,t){var n,r;this.state=i.U.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=e,this._adaptor=t,null===(n=(r=this._adaptor).init)||void 0===n||n.call(r,this)}static getBatcher(e){return new this._availableBatchers[e]}buildStart(e){let t=this._batchersByInstructionSet[e.uid];t||(t=this._batchersByInstructionSet[e.uid]=Object.create(null),t.default||(t.default=new s.J({maxTextures:this.renderer.limits.maxBatchableTextures}))),this._activeBatches=t,this._activeBatch=this._activeBatches.default;for(const n in this._activeBatches)this._activeBatches[n].begin()}addToBatch(t,n){if(this._activeBatch.name!==t.batcherName){this._activeBatch.break(n);let r=this._activeBatches[t.batcherName];r||(r=this._activeBatches[t.batcherName]=e.getBatcher(t.batcherName),r.begin()),this._activeBatch=r}this._activeBatch.add(t)}break(e){this._activeBatch.break(e)}buildEnd(e){this._activeBatch.break(e);const t=this._activeBatches;for(const n in t){const e=t[n],r=e.geometry;r.indexBuffer.setDataWithSize(e.indexBuffer,e.indexSize,!0),r.buffers[0].setDataWithSize(e.attributeBuffer.float32View,e.attributeSize,!1)}}upload(e){const t=this._batchersByInstructionSet[e.uid];for(const n in t){const e=t[n],r=e.geometry;e.dirty&&(e.dirty=!1,r.buffers[0].update(4*e.attributeSize))}}execute(e){if("startBatch"===e.action){const t=e.batcher,n=t.geometry,r=t.shader;this._adaptor.start(this,n,r)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const e in this._activeBatches)this._activeBatches[e].destroy();this._activeBatches=null}};a.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"batch"},a._availableBatchers=Object.create(null);let o=a;r.XO.handleByMap(r.Ag.Batcher,o._availableBatchers),r.XO.add(s.J)},4307:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var r=n(1960);const i=[new r.b,new r.b,new r.b,new r.b];class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.type="rectangle",this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(r)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new s(0,0,0,0)}clone(){return new s(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)}strokeContains(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const{width:i,height:s}=this;if(i<=0||s<=0)return!1;const a=this.x,o=this.y,l=n*(1-r),c=n-l;return e>=a-l&&e<=a+i+l&&t>=o-l&&t<=o+s+l&&!(e>a+c&&e<a+i-c&&t>o+c&&t<o+s-c)}intersects(e,t){if(!t){const t=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=t)return!1;const n=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>n}const n=this.left,r=this.right,s=this.top,a=this.bottom;if(r<=n||a<=s)return!1;const o=i[0].set(e.left,e.top),l=i[1].set(e.left,e.bottom),c=i[2].set(e.right,e.top),u=i[3].set(e.right,e.bottom);if(c.x<=o.x||l.y<=o.y)return!1;const d=Math.sign(t.a*t.d-t.b*t.c);if(0===d)return!1;if(t.apply(o,o),t.apply(l,l),t.apply(c,c),t.apply(u,u),Math.max(o.x,l.x,c.x,u.x)<=n||Math.min(o.x,l.x,c.x,u.x)>=r||Math.max(o.y,l.y,c.y,u.y)<=s||Math.min(o.y,l.y,c.y,u.y)>=a)return!1;const h=d*(l.y-o.y),p=d*(o.x-l.x),f=h*n+p*s,m=h*r+p*s,g=h*n+p*a,v=h*r+p*a;if(Math.max(f,m,g,v)<=h*o.x+p*o.y||Math.min(f,m,g,v)>=h*u.x+p*u.y)return!1;const b=d*(o.y-c.y),_=d*(c.x-o.x),x=b*n+_*s,y=b*r+_*s,S=b*n+_*a,T=b*r+_*a;return!(Math.max(x,y,S,T)<=b*o.x+_*o.y||Math.min(x,y,S,T)>=b*u.x+_*u.y)}pad(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){const t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),i=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=r,this.height=Math.max(i-r,0),this}ceil(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001;const n=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=r-this.y,this}scale(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x*=e,this.y*=t,this.width*=e,this.height*=t,this}enlarge(e){const t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),i=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=r,this.height=i-r,this}getBounds(e){return e||(e=new s),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const t=e.x,n=e.y,r=e.x+e.width,i=e.y+e.height;return t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height&&r>=this.x&&r<this.x+this.width&&i>=this.y&&i<this.y+this.height}set(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this}toString(){return"[pixi.js/math:Rectangle x=".concat(this.x," y=").concat(this.y," width=").concat(this.width," height=").concat(this.height,"]")}}},4314:(e,t,n)=>{"use strict";n.d(t,{C:()=>d});var r=n(7051),i=n(1478),s=n(8955),a=n(2399),o=n(680),l=n(1366);const c={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},u=class e{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new s.T(null),a.U.init(this),this.autoPreventDefault=!0,this._eventsAdded=!1,this._rootPointerEvent=new o.A(null),this._rootWheelEvent=new l.O(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy((0,r.A)({},e.defaultEventFeatures),{set:(e,t,n)=>("globalMove"===t&&(this.rootBoundary.enableGlobalMoveEvents=n),e[t]=n,!0)}),this._onPointerDown=this._onPointerDown.bind(this),this._onPointerMove=this._onPointerMove.bind(this),this._onPointerUp=this._onPointerUp.bind(this),this._onPointerOverOut=this._onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){var n,r;const{canvas:i,resolution:s}=this.renderer;this.setTargetElement(i),this.resolution=s,e._defaultEventMode=null!==(n=t.eventMode)&&void 0!==n?n:"passive",Object.assign(this.features,null!==(r=t.eventFeatures)&&void 0!==r?r:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null,this._currentCursor=null}setCursor(e){e||(e="default");let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this._currentCursor===e)return;this._currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n)}else t&&"string"===typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this._rootPointerEvent}_onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this._normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized){(e.cancelable||!("cancelable"in e))&&e.preventDefault()}for(let n=0,r=t.length;n<r;n++){const e=t[n],r=this._bootstrapEvent(this._rootPointerEvent,e);this.rootBoundary.mapEvent(r)}this.setCursor(this.rootBoundary.cursor)}_onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,a.U.pointerMoved();const t=this._normalizeToPointerData(e);for(let n=0,r=t.length;n<r;n++){const e=this._bootstrapEvent(this._rootPointerEvent,t[n]);this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}_onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const n=t!==this.domElement?"outside":"",r=this._normalizeToPointerData(e);for(let i=0,s=r.length;i<s;i++){const e=this._bootstrapEvent(this._rootPointerEvent,r[i]);e.type+=n,this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}_onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this._normalizeToPointerData(e);for(let n=0,r=t.length;n<r;n++){const e=this._bootstrapEvent(this._rootPointerEvent,t[n]);this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this._removeEvents(),this.domElement=e,a.U.domElement=e,this._addEvents()}_addEvents(){if(this._eventsAdded||!this.domElement)return;a.U.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this._onPointerMove,!0),this.domElement.addEventListener("pointerdown",this._onPointerDown,!0),this.domElement.addEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this._onPointerOverOut,!0),globalThis.addEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this._onPointerMove,!0),this.domElement.addEventListener("mousedown",this._onPointerDown,!0),this.domElement.addEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this._onPointerOverOut,!0),globalThis.addEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this._onPointerDown,!0),this.domElement.addEventListener("touchend",this._onPointerUp,!0),this.domElement.addEventListener("touchmove",this._onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this._eventsAdded=!0}_removeEvents(){if(!this._eventsAdded||!this.domElement)return;a.U.removeTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction="")),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this._onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this._onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this._onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this._onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this._onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this._onPointerMove,!0),this.domElement.removeEventListener("mousedown",this._onPointerDown,!0),this.domElement.removeEventListener("mouseout",this._onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this._onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this._onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this._onPointerDown,!0),this.domElement.removeEventListener("touchend",this._onPointerUp,!0),this.domElement.removeEventListener("touchmove",this._onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this._eventsAdded=!1}mapPositionToPoint(e,t,n){const r=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},i=1/this.resolution;e.x=(t-r.left)*(this.domElement.width/r.width)*i,e.y=(n-r.top)*(this.domElement.height/r.height)*i}_normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,r=e.changedTouches.length;n<r;n++){const r=e.changedTouches[n];"undefined"===typeof r.button&&(r.button=0),"undefined"===typeof r.buttons&&(r.buttons=1),"undefined"===typeof r.isPrimary&&(r.isPrimary=1===e.touches.length&&"touchstart"===e.type),"undefined"===typeof r.width&&(r.width=r.radiusX||1),"undefined"===typeof r.height&&(r.height=r.radiusY||1),"undefined"===typeof r.tiltX&&(r.tiltX=0),"undefined"===typeof r.tiltY&&(r.tiltY=0),"undefined"===typeof r.pointerType&&(r.pointerType="touch"),"undefined"===typeof r.pointerId&&(r.pointerId=r.identifier||0),"undefined"===typeof r.pressure&&(r.pressure=r.force||.5),"undefined"===typeof r.twist&&(r.twist=0),"undefined"===typeof r.tangentialPressure&&(r.tangentialPressure=0),"undefined"===typeof r.layerX&&(r.layerX=r.offsetX=r.clientX),"undefined"===typeof r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,r.type=e.type,t.push(r)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{const n=e;"undefined"===typeof n.isPrimary&&(n.isPrimary=!0),"undefined"===typeof n.width&&(n.width=1),"undefined"===typeof n.height&&(n.height=1),"undefined"===typeof n.tiltX&&(n.tiltX=0),"undefined"===typeof n.tiltY&&(n.tiltY=0),"undefined"===typeof n.pointerType&&(n.pointerType="mouse"),"undefined"===typeof n.pointerId&&(n.pointerId=1),"undefined"===typeof n.pressure&&(n.pressure=.5),"undefined"===typeof n.twist&&(n.twist=0),"undefined"===typeof n.tangentialPressure&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}return t}normalizeWheelEvent(e){const t=this._rootWheelEvent;return this._transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}_bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this._transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=c[e.type]||e.type),e}_transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};u.extension={name:"events",type:[i.Ag.WebGLSystem,i.Ag.CanvasSystem,i.Ag.WebGPUSystem],priority:-1},u.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let d=u},4325:(e,t,n)=>{"use strict";n.d(t,{_:()=>f});var r=n(7051),i=n(5242),s=n(9914),a=n(3596),o=n(3682),l=n(3276),c=n(2026),u=n(4811),d=n(4841);const h=[{offset:0,color:"white"},{offset:1,color:"black"}],p=class e{constructor(){this.uid=(0,c.L)("fillGradient"),this.type="linear",this.colorStops=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];let s=function(e){var t;let n=null!==(t=e[0])&&void 0!==t?t:{};if("number"===typeof n||e[1]){var r;(0,u.t6)("8.5.2","use options object instead"),n={type:"linear",start:{x:e[0],y:e[1]},end:{x:e[2],y:e[3]},textureSpace:e[4],textureSize:null!==(r=e[5])&&void 0!==r?r:f.defaultLinearOptions.textureSize}}return n}(n);const a="radial"===s.type?e.defaultRadialOptions:e.defaultLinearOptions;var o;(s=(0,r.A)((0,r.A)({},a),(0,d.S)(s)),this._textureSize=s.textureSize,this._wrapMode=s.wrapMode,"radial"===s.type)?(this.center=s.center,this.outerCenter=null!==(o=s.outerCenter)&&void 0!==o?o:this.center,this.innerRadius=s.innerRadius,this.outerRadius=s.outerRadius,this.scale=s.scale,this.rotation=s.rotation):(this.start=s.start,this.end=s.end);this.textureSpace=s.textureSpace,this.type=s.type,s.colorStops.forEach(e=>{this.addColorStop(e.offset,e.color)})}addColorStop(e,t){return this.colorStops.push({offset:e,color:i.Q.shared.setValue(t).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:t}=this.start,{x:n,y:r}=this.end,i=n-e,s=r-t;const c=i<0||s<0;if("clamp-to-edge"===this._wrapMode){if(i<0){const t=e;e=n,n=t,i*=-1}if(s<0){const e=t;t=r,r=e,s*=-1}}const u=this.colorStops.length?this.colorStops:h,d=this._textureSize,{canvas:p,context:f}=g(d,1),v=c?f.createLinearGradient(this._textureSize,0,0,0):f.createLinearGradient(0,0,this._textureSize,0);m(v,u),f.fillStyle=v,f.fillRect(0,0,d,1),this.texture=new l.g({source:new o.b({resource:p,addressMode:this._wrapMode})});const b=Math.sqrt(i*i+s*s),_=Math.atan2(s,i),x=new a.u;x.scale(b/d,1),x.rotate(_),x.translate(e,t),"local"===this.textureSpace&&x.scale(d,d),this.transform=x}buildGradient(){"linear"===this.type?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:h,t=this._textureSize,{canvas:n,context:r}=g(t,t),{x:i,y:s}=this.center,{x:c,y:u}=this.outerCenter,d=this.innerRadius,p=this.outerRadius,f=c-p,v=u-p,b=t/(2*p),_=(i-f)*b,x=(s-v)*b,y=r.createRadialGradient(_,x,d*b,(c-f)*b,(u-v)*b,p*b);m(y,e),r.fillStyle=e[e.length-1].color,r.fillRect(0,0,t,t),r.fillStyle=y,r.translate(_,x),r.rotate(this.rotation),r.scale(1,this.scale),r.translate(-_,-x),r.fillRect(0,0,t,t),this.texture=new l.g({source:new o.b({resource:n,addressMode:this._wrapMode})});const S=new a.u;S.scale(1/b,1/b),S.translate(f,v),"local"===this.textureSpace&&S.scale(t,t),this.transform=S}get styleKey(){return this.uid}destroy(){var e;null===(e=this.texture)||void 0===e||e.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}};p.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"},p.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let f=p;function m(e,t){for(let n=0;n<t.length;n++){const r=t[n];e.addColorStop(r.offset,r.color)}}function g(e,t){const n=s.e.get().createCanvas(e,t),r=n.getContext("2d");return{canvas:n,context:r}}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4395:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(7051),i=n(3986),s=n(4811),a=n(8674),o=n(140);const l=["context","roundPixels"];class c extends a.l{constructor(e){e instanceof o.T&&(e={context:e});const t=e||{},{context:n,roundPixels:s}=t,a=(0,i.A)(t,l);super((0,r.A)({label:"Graphics"},a)),this.renderPipeId="graphics",this._context=n||(this._ownedContext=new o.T),this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=null!==s&&void 0!==s&&s}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):!0!==e&&!0!==(null===e||void 0===e?void 0:e.context)||this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,t){return this.context[e](...t),this}setFillStyle(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("setFillStyle",t)}setStrokeStyle(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("setStrokeStyle",t)}fill(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("fill",t)}stroke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("stroke",t)}texture(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("arc",t)}arcTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("arcTo",t)}arcToSvg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("arcToSvg",t)}bezierCurveTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("ellipse",t)}circle(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("circle",t)}path(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("path",t)}lineTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("lineTo",t)}moveTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("moveTo",t)}quadraticCurveTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("quadraticCurveTo",t)}rect(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("rect",t)}roundRect(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("roundRect",t)}poly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("poly",t)}regularPoly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("regularPoly",t)}roundPoly(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("roundPoly",t)}roundShape(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("roundShape",t)}filletRect(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("filletRect",t)}chamferRect(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("chamferRect",t)}star(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("star",t)}svg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("svg",t)}restore(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("rotate",t)}scaleTransform(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("scale",t)}setTransform(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("setTransform",t)}transform(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("transform",t)}translateTransform(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return new c(this._context.clone());this._ownedContext=null;return new c(this._context)}lineStyle(e,t,n){(0,s.t6)(s.lj,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const r={};return e&&(r.width=e),t&&(r.color=t),n&&(r.alpha=n),this.context.strokeStyle=r,this}beginFill(e,t){(0,s.t6)(s.lj,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const n={};return void 0!==e&&(n.color=e),void 0!==t&&(n.alpha=t),this.context.fillStyle=n,this}endFill(){(0,s.t6)(s.lj,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return e.width===o.T.defaultStrokeStyle.width&&e.color===o.T.defaultStrokeStyle.color&&e.alpha===o.T.defaultStrokeStyle.alpha||this.context.stroke(),this}drawCircle(){(0,s.t6)(s.lj,"Graphics#drawCircle has been renamed to Graphics#circle");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("circle",t)}drawEllipse(){(0,s.t6)(s.lj,"Graphics#drawEllipse has been renamed to Graphics#ellipse");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("ellipse",t)}drawPolygon(){(0,s.t6)(s.lj,"Graphics#drawPolygon has been renamed to Graphics#poly");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("poly",t)}drawRect(){(0,s.t6)(s.lj,"Graphics#drawRect has been renamed to Graphics#rect");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("rect",t)}drawRoundedRect(){(0,s.t6)(s.lj,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("roundRect",t)}drawStar(){(0,s.t6)(s.lj,"Graphics#drawStar has been renamed to Graphics#star");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._callContextMethod("star",t)}}},4397:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var r=n(6373),i=n(5076);const s=new r.c;function a(e,t,n){const r=s;e.measurable=!0,(0,i.f)(e,n,r),t.addBoundsMask(r),e.measurable=!1}},4445:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(4811);const i={label:null,get name(){return(0,r.t6)(r.lj,"Container.name property has been removed, use Container.label instead"),this.label},set name(e){(0,r.t6)(r.lj,"Container.name property has been removed, use Container.label instead"),this.label=e},getChildByName(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getChildByLabel(e,t)},getChildByLabel(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.children;for(let r=0;r<n.length;r++){const t=n[r];if(t.label===e||e instanceof RegExp&&e.test(t.label))return t}if(t)for(let r=0;r<n.length;r++){const t=n[r].getChildByLabel(e,!0);if(t)return t}return null},getChildrenByLabel(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=this.children;for(let i=0;i<r.length;i++){const t=r[i];(t.label===e||e instanceof RegExp&&e.test(t.label))&&n.push(t)}if(t)for(let i=0;i<r.length;i++)r[i].getChildrenByLabel(e,!0,n);return n}}},4479:(e,t,n)=>{"use strict";function r(e){let t=!1;for(const r in e)if(void 0==e[r]){t=!0;break}if(!t)return e;const n=Object.create(null);for(const r in e){const t=e[r];t&&(n[r]=t)}return n}function i(e){let t=0;for(let n=0;n<e.length;n++)void 0==e[n]?t++:e[n-t]=e[n];return e.length-=t,e}n.d(t,{s:()=>r,t:()=>i})},4513:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(7393);function i(e){return{dynamicUpdate:s(e,!0),staticUpdate:s(e,!1)}}function s(e,t){const n=[];n.push("\n\n        var index = 0;\n\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n\n            ");let i=0;for(const a in e){const s=e[a];if(t!==s.dynamic)continue;n.push("offset = index + ".concat(i)),n.push(s.code);i+=(0,r.m)(s.format).stride/4}n.push("\n            index += stride * 4;\n        }\n    "),n.unshift("\n        var stride = ".concat(i,";\n    "));const s=n.join("\n");return new Function("ps","f32v","u32v",s)}},4579:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r={extension:{type:n(1478).Ag.ShapeBuilder,name:"triangle"},build:(e,t)=>(t[0]=e.x,t[1]=e.y,t[2]=e.x2,t[3]=e.y2,t[4]=e.x3,t[5]=e.y3,!0),triangulate(e,t,n,r,i,s){let a=0;t[(r*=n)+a]=e[0],t[r+a+1]=e[1],a+=n,t[r+a]=e[2],t[r+a+1]=e[3],a+=n,t[r+a]=e[4],t[r+a+1]=e[5];const o=r/n;i[s++]=o,i[s++]=o+1,i[s++]=o+2}}},4586:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var r=n(6493),i=n(5682);class s{constructor(e){this._lastTransform="",this._observer=null,this._tickerAttached=!1,this.updateTranslation=()=>{if(!this._canvas)return;const e=this._canvas.getBoundingClientRect(),t=this._canvas.width,n=this._canvas.height,r=e.width/t*this._renderer.resolution,i=e.height/n*this._renderer.resolution,s=e.left,a=e.top,o="translate(".concat(s,"px, ").concat(a,"px) scale(").concat(r,", ").concat(i,")");o!==this._lastTransform&&(this._domElement.style.transform=o,this._lastTransform=o)},this._domElement=e.domElement,this._renderer=e.renderer,globalThis.OffscreenCanvas&&this._renderer.canvas instanceof OffscreenCanvas||(this._canvas=this._renderer.canvas,this._attachObserver())}get canvas(){return this._canvas}ensureAttached(){!this._domElement.parentNode&&this._canvas.parentNode&&(this._canvas.parentNode.appendChild(this._domElement),this.updateTranslation())}_attachObserver(){"ResizeObserver"in globalThis?(this._observer&&(this._observer.disconnect(),this._observer=null),this._observer=new ResizeObserver(e=>{for(const t of e){if(t.target!==this._canvas)continue;const e=this.canvas.width,n=this.canvas.height,r=t.contentRect.width/e*this._renderer.resolution,i=t.contentRect.height/n*this._renderer.resolution;(this._lastScaleX!==r||this._lastScaleY!==i)&&(this.updateTranslation(),this._lastScaleX=r,this._lastScaleY=i)}}),this._observer.observe(this._canvas)):this._tickerAttached||i.R.shared.add(this.updateTranslation,this,r.d.HIGH)}destroy(){this._observer?(this._observer.disconnect(),this._observer=null):this._tickerAttached&&i.R.shared.remove(this.updateTranslation),this._domElement=null,this._renderer=null,this._canvas=null,this._tickerAttached=!1,this._lastTransform="",this._lastScaleX=null,this._lastScaleY=null}}},4618:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(1478),i=n(576),s=n(9530);const a=i.U.for2d();class o{start(e,t,n){const r=e.renderer,i=r.encoder,s=n.gpuProgram;this._shader=n,this._geometry=t,i.setGeometry(t,s),a.blendMode="normal",r.pipeline.getPipeline(t,s,a);const o=r.globalUniforms.bindGroup;i.resetBindGroup(1),i.setBindGroup(0,o,s)}execute(e,t){const n=this._shader.gpuProgram,r=e.renderer,i=r.encoder;if(!t.bindGroup){const e=t.textures;t.bindGroup=(0,s.w)(e.textures,e.count,r.limits.maxBatchableTextures)}a.blendMode=t.blendMode;const o=r.bindGroup.getBindGroup(t.bindGroup,n,1),l=r.pipeline.getPipeline(this._geometry,n,a,t.topology);t.bindGroup._touch(r.textureGC.count),i.setPipeline(l),i.renderPassEncoder.setBindGroup(1,o),i.renderPassEncoder.drawIndexed(t.size,1,t.start)}}o.extension={type:[r.Ag.WebGPUPipesAdaptor],name:"batch"}},4643:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{constructor(e){let{minUniformOffsetAlignment:t}=e;this._minUniformOffsetAlignment=256,this.byteIndex=0,this._minUniformOffsetAlignment=t,this.data=new Float32Array(65535)}clear(){this.byteIndex=0}addEmptyGroup(e){if(e>this._minUniformOffsetAlignment/4)throw new Error("UniformBufferBatch: array is too large: ".concat(4*e));const t=this.byteIndex;let n=t+4*e;if(n=Math.ceil(n/this._minUniformOffsetAlignment)*this._minUniformOffsetAlignment,n>4*this.data.length)throw new Error("UniformBufferBatch: ubo batch got too big");return this.byteIndex=n,t}addGroup(e){const t=this.addEmptyGroup(e.length);for(let n=0;n<e.length;n++)this.data[t/4+n]=e[n];return t}destroy(){this.data=null}}},4664:(e,t,n)=>{"use strict";n.d(t,{c:()=>o,i:()=>l});var r=n(7051),i=n(5937),s=n(3276);const a=new Map;function o(e,t){if(!a.has(e)){const n=new s.g({source:new i.q((0,r.A)({resource:e},t))}),o=()=>{a.get(e)===n&&a.delete(e)};n.once("destroy",o),n.source.once("destroy",o),a.set(e,n)}return a.get(e)}function l(e){return a.has(e)}},4668:(e,t,n)=>{"use strict";let r;function i(){if("boolean"===typeof r)return r;try{const e=new Function("param1","param2","param3","return param1[param2] === param3;");r=!0===e({a:"b"},"a","b")}catch(e){r=!1}return r}n.d(t,{f:()=>i})},4670:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(1478),i=n(9027),s=n(9984);class a extends i.l{constructor(e){super(e),this.adaptor=new s.$,this.adaptor.init(e,this)}}a.extension={type:[r.Ag.WebGPUSystem],name:"renderTarget"}},4679:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(1845);function i(e,t,n,i){const s=r.B;if(0===e.length)return;const a=e[0],o=e[1],l=e[e.length-2],c=e[e.length-1],u=t||Math.abs(a-l)<s&&Math.abs(o-c)<s,d=n,h=e.length/2,p=d.length/2;for(let r=0;r<h;r++)d.push(e[2*r]),d.push(e[2*r+1]);for(let r=0;r<h-1;r++)i.push(p+r,p+r+1);u&&i.push(p+h-1,p)}},4709:(e,t,n)=>{"use strict";n.d(t,{_:()=>a,g:()=>s});var r=n(7051);function i(e,t){return"\n        for (let i = 0; i < ".concat(e*t,"; i++) {\n            data[offset + (((i / ").concat(e,")|0) * 4) + (i % ").concat(e,")] = v[i];\n        }\n    ")}const s={f32:"\n        data[offset] = v;",i32:"\n        dataInt32[offset] = v;","vec2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];","vec3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];","vec4<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];","vec2<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];","vec3<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];","vec4<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];\n        dataInt32[offset + 3] = v[3];","mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 4] = v[2];\n        data[offset + 5] = v[3];","mat3x3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];","mat4x4<f32>":"\n        for (let i = 0; i < 16; i++) {\n            data[offset + i] = v[i];\n        }","mat3x2<f32>":i(3,2),"mat4x2<f32>":i(4,2),"mat2x3<f32>":i(2,3),"mat4x3<f32>":i(4,3),"mat2x4<f32>":i(2,4),"mat3x4<f32>":i(3,4)},a=(0,r.A)((0,r.A)({},s),{},{"mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];\n    "})},4738:(e,t,n)=>{"use strict";n.d(t,{P:()=>p});var r=n(9914),i=n(1478),s=n(6538),a=n(9445),o=n(2590),l=n(8983),c=n(4101),u=n(9121),d=n(6783),h=n(4217);class p{constructor(e){this.managedTextures=[],this._gpuSources=Object.create(null),this._gpuSamplers=Object.create(null),this._bindGroupHash=Object.create(null),this._textureViewHash=Object.create(null),this._uploads={image:u.d,buffer:l.j,video:d.h,compressed:c._},this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuSources"),e.renderableGC.addManagedHash(this,"_gpuSamplers"),e.renderableGC.addManagedHash(this,"_bindGroupHash"),e.renderableGC.addManagedHash(this,"_textureViewHash")}contextChange(e){this._gpu=e}initSource(e){return this._gpuSources[e.uid]?this._gpuSources[e.uid]:this._initSource(e)}_initSource(e){if(e.autoGenerateMipmaps){const t=Math.max(e.pixelWidth,e.pixelHeight);e.mipLevelCount=Math.floor(Math.log2(t))+1}let t=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST;"compressed"!==e.uploadMethodId&&(t|=GPUTextureUsage.RENDER_ATTACHMENT,t|=GPUTextureUsage.COPY_SRC);const n=c.w[e.format]||{blockBytes:4,blockWidth:1,blockHeight:1},r=Math.ceil(e.pixelWidth/n.blockWidth)*n.blockWidth,i=Math.ceil(e.pixelHeight/n.blockHeight)*n.blockHeight,s={label:e.label,size:{width:r,height:i},format:e.format,sampleCount:e.sampleCount,mipLevelCount:e.mipLevelCount,dimension:e.dimension,usage:t},a=this._gpuSources[e.uid]=this._gpu.device.createTexture(s);return this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceResize,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),a}onSourceUpdate(e){const t=this.getGpuSource(e);t&&(this._uploads[e.uploadMethodId]&&this._uploads[e.uploadMethodId].upload(e,t,this._gpu),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e))}onSourceUnload(e){const t=this._gpuSources[e.uid];t&&(this._gpuSources[e.uid]=null,t.destroy())}onUpdateMipmaps(e){this._mipmapGenerator||(this._mipmapGenerator=new h.o(this._gpu.device));const t=this.getGpuSource(e);this._mipmapGenerator.generateMipmap(t)}onSourceDestroy(e){e.off("update",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("destroy",this.onSourceDestroy,this),e.off("resize",this.onSourceResize,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}onSourceResize(e){const t=this._gpuSources[e.uid];t?t.width===e.pixelWidth&&t.height===e.pixelHeight||(this._textureViewHash[e.uid]=null,this._bindGroupHash[e.uid]=null,this.onSourceUnload(e),this.initSource(e)):this.initSource(e)}_initSampler(e){return this._gpuSamplers[e._resourceId]=this._gpu.device.createSampler(e),this._gpuSamplers[e._resourceId]}getGpuSampler(e){return this._gpuSamplers[e._resourceId]||this._initSampler(e)}getGpuSource(e){return this._gpuSources[e.uid]||this.initSource(e)}getTextureBindGroup(e){var t;return null!==(t=this._bindGroupHash[e.uid])&&void 0!==t?t:this._createTextureBindGroup(e)}_createTextureBindGroup(e){const t=e.source;return this._bindGroupHash[e.uid]=new o.T({0:t,1:t.style,2:new s.k({uTextureMatrix:{type:"mat3x3<f32>",value:e.textureMatrix.mapCoord}})}),this._bindGroupHash[e.uid]}getTextureView(e){var t;const n=e.source;return null!==(t=this._textureViewHash[n.uid])&&void 0!==t?t:this._createTextureView(n)}_createTextureView(e){return this._textureViewHash[e.uid]=this.getGpuSource(e).createView(),this._textureViewHash[e.uid]}generateCanvas(e){const t=this._renderer,n=t.gpu.device.createCommandEncoder(),i=r.e.get().createCanvas();i.width=e.source.pixelWidth,i.height=e.source.pixelHeight;const s=i.getContext("webgpu");return s.configure({device:t.gpu.device,usage:GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC,format:r.e.get().getNavigator().gpu.getPreferredCanvasFormat(),alphaMode:"premultiplied"}),n.copyTextureToTexture({texture:t.texture.getGpuSource(e.source),origin:{x:0,y:0}},{texture:s.getCurrentTexture()},{width:i.width,height:i.height}),t.gpu.device.queue.submit([n.finish()]),i}getPixels(e){const t=this.generateCanvas(e),n=a.N.getOptimalCanvasAndContext(t.width,t.height),r=n.context;r.drawImage(t,0,0);const{width:i,height:s}=t,o=r.getImageData(0,0,i,s),l=new Uint8ClampedArray(o.data.buffer);return a.N.returnCanvasAndContext(n),{pixels:l,width:i,height:s}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null;for(const e of Object.keys(this._bindGroupHash)){const t=Number(e),n=this._bindGroupHash[t];null===n||void 0===n||n.destroy(),this._bindGroupHash[t]=null}this._gpu=null,this._mipmapGenerator=null,this._gpuSources=null,this._bindGroupHash=null,this._textureViewHash=null,this._gpuSamplers=null}}p.extension={type:[i.Ag.WebGPUSystem],name:"texture"}},4749:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var r=n(3202);const i=new(n(6373).c);function s(e,t,n,s){const a=i;a.minX=0,a.minY=0,a.maxX=e.width/s|0,a.maxY=e.height/s|0;const o=r.W.getOptimalTexture(a.width,a.height,s,!1);return o.source.uploadMethodId="image",o.source.resource=e,o.source.alphaMode="premultiply-alpha-on-upload",o.frame.width=t/s,o.frame.height=n/s,o.source.emit("update",o.source),o.updateUvs(),o}},4794:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});class r{execute(e,t){const n=e.renderer,r=t.shader||e.defaultShader;r.groups[0]=n.renderPipes.uniformBatch.getUniformBindGroup(e.localUniforms,!0),r.groups[1]=n.texture.getTextureBindGroup(t.texture);const i=e.state,s=e.getBuffers(t);n.encoder.draw({geometry:s.geometry,shader:t.shader||e.defaultShader,state:i,size:6*t.particleChildren.length})}}},4811:(e,t,n)=>{"use strict";n.d(t,{Ek:()=>s,lj:()=>i,t6:()=>a});const r={},i="8.0.0",s="8.3.4";function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(r[t])return;let i=(new Error).stack;"undefined"===typeof i?console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)):(i=i.split("\n").splice(n).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6","".concat(t,"\nDeprecated since v").concat(e)),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ","".concat(t,"\nDeprecated since v").concat(e)),console.warn(i))),r[t]=!0}},4834:(e,t,n)=>{"use strict";n.d(t,{Tp:()=>r,_g:()=>a,sS:()=>s,xl:()=>i});const r="\n    @in aPosition: vec2<f32>;\n    @in aUV: vec2<f32>;\n\n    @out @builtin(position) vPosition: vec4<f32>;\n    @out vUV : vec2<f32>;\n    @out vColor : vec4<f32>;\n\n    {{header}}\n\n    struct VSOutput {\n        {{struct}}\n    };\n\n    @vertex\n    fn main( {{in}} ) -> VSOutput {\n\n        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;\n        var modelMatrix = mat3x3<f32>(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        var position = aPosition;\n        var uv = aUV;\n\n        {{start}}\n\n        vColor = vec4<f32>(1., 1., 1., 1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= globalUniforms.uWorldColorAlpha;\n\n        {{end}}\n\n        {{return}}\n    };\n",i="\n    @in vUV : vec2<f32>;\n    @in vColor : vec4<f32>;\n\n    {{header}}\n\n    @fragment\n    fn main(\n        {{in}}\n      ) -> @location(0) vec4<f32> {\n\n        {{start}}\n\n        var outColor:vec4<f32>;\n\n        {{main}}\n\n        var finalColor:vec4<f32> = outColor * vColor;\n\n        {{end}}\n\n        return finalColor;\n      };\n",s="\n    in vec2 aPosition;\n    in vec2 aUV;\n\n    out vec4 vColor;\n    out vec2 vUV;\n\n    {{header}}\n\n    void main(void){\n\n        mat3 worldTransformMatrix = uWorldTransformMatrix;\n        mat3 modelMatrix = mat3(\n            1.0, 0.0, 0.0,\n            0.0, 1.0, 0.0,\n            0.0, 0.0, 1.0\n          );\n        vec2 position = aPosition;\n        vec2 uv = aUV;\n\n        {{start}}\n\n        vColor = vec4(1.);\n\n        {{main}}\n\n        vUV = uv;\n\n        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;\n\n        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n\n        vColor *= uWorldColorAlpha;\n\n        {{end}}\n    }\n",a="\n\n    in vec4 vColor;\n    in vec2 vUV;\n\n    out vec4 finalColor;\n\n    {{header}}\n\n    void main(void) {\n\n        {{start}}\n\n        vec4 outColor;\n\n        {{main}}\n\n        finalColor = outColor * vColor;\n\n        {{end}}\n    }\n"},4839:(e,t,n)=>{"use strict";n.d(t,{T:()=>m,w:()=>f});var r=n(3986),i=n(7051),s=n(5242),a=n(3276),o=n(4325),l=n(1201);const c=["width","alignment","miterLimit","cap","join","pixelLine"];function u(e){return e instanceof l.m}function d(e){return e instanceof o._}function h(e,t,n){return e.fill=t,e.color=16777215,e.texture=t.texture,e.matrix=t.transform,(0,i.A)((0,i.A)({},n),e)}function p(e,t,n){return t.buildGradient(),e.fill=t,e.color=16777215,e.texture=t.texture,e.matrix=t.transform,e.textureSpace=t.textureSpace,(0,i.A)((0,i.A)({},n),e)}function f(e,t){if(void 0===e||null===e)return null;const n={},r=e;return function(e){return s.Q.isColorLike(e)}(e)?function(e,t,n){const r=s.Q.shared.setValue(null!==t&&void 0!==t?t:0);return e.color=r.toNumber(),e.alpha=1===r.alpha?n.alpha:r.alpha,e.texture=a.g.WHITE,(0,i.A)((0,i.A)({},n),e)}(n,e,t):function(e){return e instanceof a.g}(e)?function(e,t,n){return e.texture=t,(0,i.A)((0,i.A)({},n),e)}(n,e,t):u(e)?h(n,e,t):d(e)?p(n,e,t):r.fill&&u(r.fill)?h(r,r.fill,t):r.fill&&d(r.fill)?p(r,r.fill,t):function(e,t){const n=(0,i.A)((0,i.A)({},t),e),r=s.Q.shared.setValue(n.color);return n.alpha*=r.alpha,n.color=r.toNumber(),n}(r,t)}function m(e,t){const{width:n,alignment:s,miterLimit:a,cap:o,join:l,pixelLine:u}=t,d=f(e,(0,r.A)(t,c));return d?(0,i.A)({width:n,alignment:s,miterLimit:a,cap:o,join:l,pixelLine:u},d):null}},4841:(e,t,n)=>{"use strict";function r(e){const t={};for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}n.d(t,{S:()=>r})},4845:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=n(6021);class i{constructor(e){this.target=r.FT.TEXTURE_2D,this.texture=e,this.width=-1,this.height=-1,this.type=r.Yr.UNSIGNED_BYTE,this.internalFormat=r.bH.RGBA,this.format=r.bH.RGBA,this.samplerType=0}}},4850:(e,t,n)=>{"use strict";n.d(t,{l:()=>u,x:()=>c});var r=n(7051),i=n(279),s=n(6268),a=n(1685),o=n(9164),l=n(6340);class c{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>"".concat(e).concat(this._bundleIdConnector).concat(t),extractAssetIdFromBundle:(e,t)=>t.replace("".concat(e).concat(this._bundleIdConnector),"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){var t,n,r;if(this._bundleIdConnector=null!==(t=e.connector)&&void 0!==t?t:this._bundleIdConnector,this._createBundleAssetId=null!==(n=e.createBundleAssetId)&&void 0!==n?n:this._createBundleAssetId,this._extractAssetIdFromBundle=null!==(r=e.extractAssetIdFromBundle)&&void 0!==r?r:this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if("string"===typeof e)this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(e=>"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))).join("&")}}getAlias(e){const{alias:t,src:n}=e;return(0,a.z)(t||n,e=>"string"===typeof e?e:Array.isArray(e)?e.map(e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.src)&&void 0!==t?t:e}):null!==e&&void 0!==e&&e.src?e.src:e,!0)}addManifest(e){this._manifest&&(0,i.R)("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(e,t){const n=[];let i=t;Array.isArray(t)||(i=Object.entries(t).map(e=>{let[t,n]=e;return"string"===typeof n||Array.isArray(n)?{alias:t,src:n}:(0,r.A)({alias:t},n)})),i.forEach(t=>{const i=t.src,s=t.alias;let a;if("string"===typeof s){const t=this._createBundleAssetId(e,s);n.push(t),a=[s,t]}else{const t=s.map(t=>this._createBundleAssetId(e,t));n.push(...t),a=[...s,...t]}this.add((0,r.A)((0,r.A)({},t),{alias:a,src:i}))}),this._bundles[e]=n}add(e){const t=[];let n;Array.isArray(e)?t.push(...e):t.push(e),n=e=>{this.hasKey(e)&&(0,i.R)("[Resolver] already has key: ".concat(e," overwriting"))};(0,a.z)(t).forEach(e=>{const{src:t}=e;let{data:i,format:s,loadParser:l,parser:c}=e;const u=(0,a.z)(t).map(e=>"string"===typeof e?(0,o.m)(e):Array.isArray(e)?e:[e]),d=this.getAlias(e);Array.isArray(d)?d.forEach(n):n(d);const h=[];u.forEach(e=>{e.forEach(e=>{let t={};if("object"!==typeof e){t.src=e;for(let n=0;n<this._parsers.length;n++){const r=this._parsers[n];if(r.test(e)){t=r.parse(e);break}}}else{var n,a,o,u;if(i=null!==(n=e.data)&&void 0!==n?n:i,s=null!==(a=e.format)&&void 0!==a?a:s,e.loadParser||e.parser)l=null!==(o=e.loadParser)&&void 0!==o?o:l,c=null!==(u=e.parser)&&void 0!==u?u:c;t=(0,r.A)((0,r.A)({},t),e)}if(!d)throw new Error("[Resolver] alias is undefined for this asset: ".concat(t.src));t=this._buildResolvedAsset(t,{aliases:d,data:i,format:s,loadParser:l,parser:c}),h.push(t)})}),d.forEach(e=>{this._assetMap[e]=h})})}resolveBundle(e){const t=(0,l.a)(e);e=(0,a.z)(e);const n={};return e.forEach(e=>{const t=this._bundles[e];if(t){const r=this.resolve(t),i={};for(const t in r){const n=r[t];i[this._extractAssetIdFromBundle(e,t)]=n}n[e]=i}}),t?n[e[0]]:n}resolveUrl(e){const t=this.resolve(e);if("string"!==typeof e){const e={};for(const n in t)e[n]=t[n].src;return e}return t.src}resolve(e){const t=(0,l.a)(e);e=(0,a.z)(e);const n={};return e.forEach(e=>{if(!this._resolverHash[e])if(this._assetMap[e]){let t=this._assetMap[e];const n=this._getPreferredOrder(t);null===n||void 0===n||n.priority.forEach(e=>{n.params[e].forEach(n=>{const r=t.filter(t=>!!t[e]&&t[e]===n);r.length&&(t=r)})}),this._resolverHash[e]=t[0]}else this._resolverHash[e]=this._buildResolvedAsset({alias:[e],src:e},{});n[e]=this._resolverHash[e]}),t?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const n=e[t],r=this._preferredOrder.find(e=>e.params.format.includes(n.format));if(r)return r}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return"".concat(e).concat(t).concat(this._defaultSearchParams)}_buildResolvedAsset(e,t){var n,i;const{aliases:a,data:o,loadParser:l,parser:c,format:d}=t;return(this._basePath||this._rootPath)&&(e.src=s.A.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=null!==(n=null!==a&&void 0!==a?a:e.alias)&&void 0!==n?n:[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data=(0,r.A)((0,r.A)({},o||{}),e.data),e.loadParser=null!==l&&void 0!==l?l:e.loadParser,e.parser=null!==c&&void 0!==c?c:e.parser,e.format=null!==(i=null!==d&&void 0!==d?d:e.format)&&void 0!==i?i:u(e.src),e}}function u(e){return e.split(".").pop().split("?").shift().split("#").shift()}c.RETINA_PREFIX=/@([0-9\.]+)x/},4853:(e,t,n)=>{"use strict";n.d(t,{k:()=>d});var r=n(7051),i=n(3986),s=n(4973),a=n(3276),o=n(3693),l=n(4811),c=n(8674);const u=["texture","anchor","roundPixels","width","height"];class d extends c.l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.g.EMPTY;e instanceof a.g&&(e={texture:e});const{texture:t=a.g.EMPTY,anchor:n,roundPixels:o,width:l,height:c}=e,d=(0,i.A)(e,u);super((0,r.A)({label:"Sprite"},d)),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new s.o({_onUpdate:()=>{this.onViewUpdate()}}),n?this.anchor=n:t.defaultAnchor&&(this.anchor=t.defaultAnchor),this.texture=t,this.allowChildren=!1,this.roundPixels=null!==o&&void 0!==o&&o,void 0!==l&&(this.width=l),void 0!==c&&(this.height=c)}static from(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e instanceof a.g?new d(e):new d(a.g.from(e,t))}set texture(e){e||(e=a.g.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return(0,o.y)(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return(0,l.t6)("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,t=this._texture,n=this._bounds,{width:r,height:i}=t.orig;n.minX=-e._x*r,n.maxX=n.minX+r,n.minY=-e._y*i,n.maxY=n.minY+i}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super.destroy(e);if("boolean"===typeof e?e:null===e||void 0===e?void 0:e.texture){const t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.textureSource;this._texture.destroy(t)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,t){var n;"object"===typeof e?(t=null!==(n=e.height)&&void 0!==n?n:e.width,e=e.width):null!==t&&void 0!==t||(t=e);void 0!==e&&this._setWidth(e,this._texture.orig.width),void 0!==t&&this._setHeight(t,this._texture.orig.height)}}},4854:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});const r={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(i))}};function i(e,t){return e._zIndex-t._zIndex}},4929:(e,t,n)=>{"use strict";function r(e,t){let n;const r=/@in\s+([^;]+);/g;for(;null!==(n=r.exec(e));)t.push(n[1])}function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=[];r(t,i),e.forEach(e=>{e.header&&r(e.header,i)});const s=i;n&&s.sort();const a=s.map((e,t)=>"       @location(".concat(t,") ").concat(e,",")).join("\n");let o=t.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}","\n".concat(a,"\n")),o}n.d(t,{j:()=>i})},4959:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=n(1478),i=n(7358);class s{constructor(e){this._renderTargetStencilState=Object.create(null),this._renderer=e,e.renderTarget.onRenderTargetChange.add(this)}onRenderTargetChange(e){let t=this._renderTargetStencilState[e.uid];t||(t=this._renderTargetStencilState[e.uid]={stencilMode:i.K.DISABLED,stencilReference:0}),this._activeRenderTarget=e,this.setStencilMode(t.stencilMode,t.stencilReference)}setStencilMode(e,t){const n=this._renderTargetStencilState[this._activeRenderTarget.uid];n.stencilMode=e,n.stencilReference=t;const r=this._renderer;r.pipeline.setStencilMode(e),r.encoder.renderPassEncoder.setStencilReference(t)}destroy(){this._renderer.renderTarget.onRenderTargetChange.remove(this),this._renderer=null,this._activeRenderTarget=null,this._renderTargetStencilState=null}}s.extension={type:[r.Ag.WebGPUSystem],name:"stencil"}},4963:(e,t,n)=>{"use strict";n.d(t,{S:()=>p});var r=n(3596),i=n(6220),s=n(454),a=n(4994),o=n(3636),l=n(6538),c=n(3276),u=n(5680);let d,h;class p extends o.M{constructor(){null!==d&&void 0!==d||(d=(0,i.v)({name:"tiling-sprite-shader",bits:[s.Ls,u.R,a.b]})),null!==h&&void 0!==h||(h=(0,i.I)({name:"tiling-sprite-shader",bits:[s.mA,u.c,a.m]}));const e=new l.k({uMapCoord:{value:new r.u,type:"mat3x3<f32>"},uClampFrame:{value:new Float32Array([0,0,1,1]),type:"vec4<f32>"},uClampOffset:{value:new Float32Array([0,0]),type:"vec2<f32>"},uTextureTransform:{value:new r.u,type:"mat3x3<f32>"},uSizeAnchor:{value:new Float32Array([100,100,.5,.5]),type:"vec4<f32>"}});super({glProgram:h,gpuProgram:d,resources:{localUniforms:new l.k({uTransformMatrix:{value:new r.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),tilingUniforms:e,uTexture:c.g.EMPTY.source,uSampler:c.g.EMPTY.source.style}})}updateUniforms(e,t,n,r,i,s){const a=this.resources.tilingUniforms,o=s.width,l=s.height,c=s.textureMatrix,u=a.uniforms.uTextureTransform;u.set(n.a*o/e,n.b*o/t,n.c*l/e,n.d*l/t,n.tx/e,n.ty/t),u.invert(),a.uniforms.uMapCoord=c.mapCoord,a.uniforms.uClampFrame=c.uClampFrame,a.uniforms.uClampOffset=c.uClampOffset,a.uniforms.uTextureTransform=u,a.uniforms.uSizeAnchor[0]=e,a.uniforms.uSizeAnchor[1]=t,a.uniforms.uSizeAnchor[2]=r,a.uniforms.uSizeAnchor[3]=i,s&&(this.resources.uTexture=s.source,this.resources.uSampler=s.source.style)}}},4973:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});class r{constructor(e,t,n){this._x=t||0,this._y=n||0,this._observer=e}clone(e){return new r(null!==e&&void 0!==e?e:this._observer,this._x,this._y)}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this._x===e&&this._y===t||(this._x=e,this._y=t,this._observer._onUpdate(this)),this}copyFrom(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return"[pixi.js/math:ObservablePoint x=".concat(this._x," y=").concat(this._y," scope=").concat(this._observer,"]")}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}},4983:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var r=n(1478);class i{constructor(e){this._renderer=e}contextChange(){this.maxTextures=this._renderer.device.gpu.device.limits.maxSampledTexturesPerShaderStage,this.maxBatchableTextures=this.maxTextures}destroy(){}}i.extension={type:[r.Ag.WebGPUSystem],name:"limits"}},4984:(e,t,n)=>{"use strict";function r(e){if(""===e)return[];"string"===typeof e&&(e=[e]);const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];if(Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got ".concat(r.length,"."));if(0===r[0].length||0===r[1].length)throw new Error("[BitmapFont]: Invalid character delimiter.");const e=r[0].charCodeAt(0),n=r[1].charCodeAt(0);if(n<e)throw new Error("[BitmapFont]: Invalid character range.");for(let r=e,i=n;r<=i;r++)t.push(String.fromCharCode(r))}else t.push(...Array.from(r))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}n.d(t,{D:()=>r})},4985:(e,t,n)=>{"use strict";function r(e,t){t||(t=0);for(let n=t;n<e.length&&e[n];n++)e[n]=null}n.d(t,{a:()=>r})},4988:(e,t,n)=>{"use strict";n.d(t,{U:()=>o});var r=n(9486),i=n(6538),s=n(8517),a=n(8155);function o(e,t){const n=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n        var name = null;\n    "];for(const o in e.uniforms){if(!t[o]){e.uniforms[o]instanceof i.k?e.uniforms[o].ubo?n.push("\n                        renderer.shader.bindUniformBlock(uv.".concat(o,', "').concat(o,'");\n                    ')):n.push("\n                        renderer.shader.updateUniformGroup(uv.".concat(o,");\n                    ")):e.uniforms[o]instanceof r.d&&n.push("\n                        renderer.shader.bindBufferResource(uv.".concat(o,', "').concat(o,'");\n                    '));continue}const l=e.uniformStructures[o];let c=!1;for(let e=0;e<s.$.length;e++){const t=s.$[e];if(l.type===t.type&&t.test(l)){n.push('name = "'.concat(o,'";'),s.$[e].uniform),c=!0;break}}if(!c){const e=(1===l.size?a.v:a.e)[l.type].replace("location",'ud["'.concat(o,'"].location'));n.push('\n            cu = ud["'.concat(o,'"];\n            cv = cu.value;\n            v = uv["').concat(o,'"];\n            ').concat(e,";"))}}return new Function("ud","uv","renderer","syncData",n.join("\n"))}},4994:(e,t,n)=>{"use strict";n.d(t,{b:()=>r,m:()=>i});const r={name:"round-pixels-bit",vertex:{header:"\n            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>\n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}},i={name:"round-pixels-bit",vertex:{header:"\n            vec2 roundPixels(vec2 position, vec2 targetSize)\n            {\n                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n            }\n        "}}},4999:(e,t,n)=>{"use strict";n.d(t,{m:()=>u});var r=n(9914),i=n(8186),s=n(4307);let a=null,o=null;function l(e,t,n){for(let r=0,i=4*n*t;r<t;++r,i+=4)if(0!==e[i+3])return!1;return!0}function c(e,t,n,r,i){const s=4*t;for(let a=r,o=r*s+4*n;a<=i;++a,o+=s)if(0!==e[o+3])return!1;return!0}function u(){var e,t,n;let u=arguments.length<=0?void 0:arguments[0];u.canvas||(u={canvas:arguments.length<=0?void 0:arguments[0],resolution:arguments.length<=1?void 0:arguments[1]});const{canvas:d}=u,h=Math.min(null!==(e=u.resolution)&&void 0!==e?e:1,1),p=null!==(t=u.width)&&void 0!==t?t:d.width,f=null!==(n=u.height)&&void 0!==n?n:d.height;let m=u.output;if(function(e,t){a||(a=r.e.get().createCanvas(256,128),o=a.getContext("2d",{willReadFrequently:!0}),o.globalCompositeOperation="copy",o.globalAlpha=1),(a.width<e||a.height<t)&&(a.width=(0,i.U5)(e),a.height=(0,i.U5)(t))}(p,f),!o)throw new TypeError("Failed to get canvas 2D context");o.drawImage(d,0,0,p,f,0,0,p*h,f*h);const g=o.getImageData(0,0,p,f).data;let v=0,b=0,_=p-1,x=f-1;for(;b<f&&l(g,p,b);)++b;if(b===f)return s.M.EMPTY;for(;l(g,p,x);)--x;for(;c(g,p,v,b,x);)++v;for(;c(g,p,_,b,x);)--_;return++_,++x,o.globalCompositeOperation="source-over",o.strokeRect(v,b,_-v,x-b),o.globalCompositeOperation="copy",null!==m&&void 0!==m||(m=new s.M),m.set(v/h,b/h,(_-v)/h,(x-b)/h),m}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5076:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,f:()=>s});var r=n(3596),i=n(8263);function s(e,t,n){let s,l;return n.clear(),e.parent?t?s=e.parent.worldTransform:(l=i.u.get().identity(),s=o(e,l)):s=r.u.IDENTITY,a(e,n,s,t),l&&i.u.return(l),n.isValid||n.set(0,0,0,0),n}function a(e,t,n,s){if(!e.visible||!e.measurable)return;let o;s?o=e.worldTransform:(e.updateLocalTransform(),o=i.u.get(),o.appendFrom(e.localTransform,n));const l=t,c=!!e.effects.length;if(c&&(t=i.o.get().clear()),e.boundsArea)t.addRect(e.boundsArea,o);else{e.bounds&&(t.matrix=o,t.addBounds(e.bounds));for(let n=0;n<e.children.length;n++)a(e.children[n],t,o,s)}if(c){for(let n=0;n<e.effects.length;n++){var u,d;null===(u=(d=e.effects[n]).addBounds)||void 0===u||u.call(d,t)}l.addBounds(t,r.u.IDENTITY),i.o.return(t)}s||i.u.return(o)}function o(e,t){const n=e.parent;return n&&(o(n,t),n.updateLocalTransform(),t.append(n.localTransform)),t}},5084:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});var r=n(7051),i=n(279),s=n(1070),a=n(7078),o=n(1750),l=n(1067);function c(e,t){if("string"===typeof e){const t=document.createElement("div");t.innerHTML=e.trim(),e=t.querySelector("svg")}const n={context:t,defs:{},path:new s.n};(0,a.M)(e,n);const r=e.children,{fillStyle:i,strokeStyle:o}=(0,l.X)(e,n);for(let s=0;s<r.length;s++){const e=r[s];"defs"!==e.nodeName.toLowerCase()&&u(e,n,i,o)}return t}function u(e,t,n,a){const c=e.children,{fillStyle:d,strokeStyle:h}=(0,l.X)(e,t);d&&n?n=(0,r.A)((0,r.A)({},n),d):d&&(n=d),h&&a?a=(0,r.A)((0,r.A)({},a),h):h&&(a=h);const p=!n&&!a;let f,m,g,v,b,_,x,y,S,T,w,A,E,C,R,M,P;switch(p&&(n={color:0}),e.nodeName.toLowerCase()){case"path":C=e.getAttribute("d"),"evenodd"===e.getAttribute("fill-rule")&&(0,i.R)("SVG Evenodd fill rule not supported, your svg may render incorrectly"),R=new s.n(C,!0),t.context.path(R),n&&t.context.fill(n),a&&t.context.stroke(a);break;case"circle":x=(0,o.I)(e,"cx",0),y=(0,o.I)(e,"cy",0),S=(0,o.I)(e,"r",0),t.context.ellipse(x,y,S,S),n&&t.context.fill(n),a&&t.context.stroke(a);break;case"rect":f=(0,o.I)(e,"x",0),m=(0,o.I)(e,"y",0),M=(0,o.I)(e,"width",0),P=(0,o.I)(e,"height",0),T=(0,o.I)(e,"rx",0),w=(0,o.I)(e,"ry",0),T||w?t.context.roundRect(f,m,M,P,T||w):t.context.rect(f,m,M,P),n&&t.context.fill(n),a&&t.context.stroke(a);break;case"ellipse":x=(0,o.I)(e,"cx",0),y=(0,o.I)(e,"cy",0),T=(0,o.I)(e,"rx",0),w=(0,o.I)(e,"ry",0),t.context.beginPath(),t.context.ellipse(x,y,T,w),n&&t.context.fill(n),a&&t.context.stroke(a);break;case"line":g=(0,o.I)(e,"x1",0),v=(0,o.I)(e,"y1",0),b=(0,o.I)(e,"x2",0),_=(0,o.I)(e,"y2",0),t.context.beginPath(),t.context.moveTo(g,v),t.context.lineTo(b,_),a&&t.context.stroke(a);break;case"polygon":E=e.getAttribute("points"),A=E.match(/\d+/g).map(e=>parseInt(e,10)),t.context.poly(A,!0),n&&t.context.fill(n),a&&t.context.stroke(a);break;case"polyline":E=e.getAttribute("points"),A=E.match(/\d+/g).map(e=>parseInt(e,10)),t.context.poly(A,!1),a&&t.context.stroke(a);break;case"g":case"svg":break;default:(0,i.R)("[SVG parser] <".concat(e.nodeName,"> elements unsupported"))}p&&(n=null);for(let r=0;r<c.length;r++)u(c[r],t,n,a)}},5100:(e,t,n)=>{"use strict";n.d(t,{M:()=>u});var r=n(3027);const i=8,s=1.1920929e-7,a=1,o=.01,l=0,c=0;function u(e,t,n,i,s,o,l,c,u,h){const p=Math.min(.99,Math.max(0,null!==h&&void 0!==h?h:r.GH.defaultOptions.bezierSmoothness));let f=(a-p)/1;return f*=f,function(e,t,n,r,i,s,a,o,l,c){d(e,t,n,r,i,s,a,o,l,c,0),l.push(a,o)}(t,n,i,s,o,l,c,u,e,f),e}function d(e,t,n,r,a,u,h,p,f,m,g){if(g>i)return;const v=Math.PI,b=(e+n)/2,_=(t+r)/2,x=(n+a)/2,y=(r+u)/2,S=(a+h)/2,T=(u+p)/2,w=(b+x)/2,A=(_+y)/2,E=(x+S)/2,C=(y+T)/2,R=(w+E)/2,M=(A+C)/2;if(g>0){let i=h-e,d=p-t;const g=Math.abs((n-h)*d-(r-p)*i),b=Math.abs((a-h)*d-(u-p)*i);let _,x;if(g>s&&b>s){if((g+b)*(g+b)<=m*(i*i+d*d)){if(l<o)return void f.push(R,M);const i=Math.atan2(u-r,a-n);if(_=Math.abs(i-Math.atan2(r-t,n-e)),x=Math.abs(Math.atan2(p-u,h-a)-i),_>=v&&(_=2*v-_),x>=v&&(x=2*v-x),_+x<l)return void f.push(R,M);if(0!==c){if(_>c)return void f.push(n,r);if(x>c)return void f.push(a,u)}}}else if(g>s){if(g*g<=m*(i*i+d*d)){if(l<o)return void f.push(R,M);if(_=Math.abs(Math.atan2(u-r,a-n)-Math.atan2(r-t,n-e)),_>=v&&(_=2*v-_),_<l)return f.push(n,r),void f.push(a,u);if(0!==c&&_>c)return void f.push(n,r)}}else if(b>s){if(b*b<=m*(i*i+d*d)){if(l<o)return void f.push(R,M);if(_=Math.abs(Math.atan2(p-u,h-a)-Math.atan2(u-r,a-n)),_>=v&&(_=2*v-_),_<l)return f.push(n,r),void f.push(a,u);if(0!==c&&_>c)return void f.push(a,u)}}else if(i=R-(e+h)/2,d=M-(t+p)/2,i*i+d*d<=m)return void f.push(R,M)}d(e,t,b,_,w,A,R,M,f,m,g+1),d(R,M,E,C,S,T,h,p,f,m,g+1)}},5113:(e,t,n)=>{"use strict";n.d(t,{K:()=>r,l:()=>i});const r={f32:4,i32:4,"vec2<f32>":8,"vec3<f32>":12,"vec4<f32>":16,"vec2<i32>":8,"vec3<i32>":12,"vec4<i32>":16,"mat2x2<f32>":32,"mat3x3<f32>":48,"mat4x4<f32>":64};function i(e){const t=e.map(e=>({data:e,offset:0,size:0}));let n=0,i=0;for(let s=0;s<t.length;s++){const e=t[s];if(n=r[e.data.type],!n)throw new Error("Unknown type ".concat(e.data.type));e.data.size>1&&(n=Math.max(n,16)*e.data.size);const a=12===n?16:n;e.size=n;const o=i%16;i+=o>0&&16-o<a?(16-o)%16:(n-o%n)%n,e.offset=i,i+=n}return i=16*Math.ceil(i/16),{uboElements:t,size:i}}},5137:(e,t,n)=>{"use strict";function r(e,t){t.clear();const n=t.matrix;for(let r=0;r<e.length;r++){const n=e[r];n.globalDisplayStatus<7||(t.matrix=n.worldTransform,t.addBounds(n.bounds))}return t.matrix=n,t}n.d(t,{L:()=>r})},5157:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(1478);class i{constructor(e){this._renderer=e}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(e,t){this._renderer.renderPipes.batch.break(t),t.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}i.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"customRender"}},5202:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(2604),i=n(2026),s=n(6333);class a extends r.A{constructor(e){var t;let{data:n,size:r}=e;const{usage:s,label:a,shrinkToFit:o}=e;super(),this.uid=(0,i.L)("buffer"),this._resourceType="buffer",this._resourceId=(0,i.L)("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,null!==r&&void 0!==r||(r=null===(t=n)||void 0===t?void 0:t.byteLength);const l=!!n;this.descriptor={size:r,usage:s,mappedAtCreation:l,label:a},this.shrinkToFit=null===o||void 0===o||o}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&s.S.STATIC)}set static(e){e?this.descriptor.usage|=s.S.STATIC:this.descriptor.usage&=~s.S.STATIC}setDataWithSize(e,t,n){if(this._updateID++,this._updateSize=t*e.BYTES_PER_ELEMENT,this._data===e)return void(n&&this.emit("update",this));const r=this._data;this._data=e,this._dataInt32=null,r&&r.length===e.length||!this.shrinkToFit&&r&&e.byteLength<r.byteLength?n&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=(0,i.L)("resource"),this.emit("change",this))}update(e){this._updateSize=null!==e&&void 0!==e?e:this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}},5221:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var r=n(1960),i=n(1845),s=n(882);function a(e,t,n,r,i,s,a,o){let l,c;a?(l=r,c=-n):(l=-r,c=n);const u=e-n*i+l,d=t-r*i+c,h=e+n*s+l,p=t+r*s+c;return o.push(u,d),o.push(h,p),2}function o(e,t,n,r,i,s,a,o){const l=n-e,c=r-t;let u=Math.atan2(l,c),d=Math.atan2(i-e,s-t);o&&u<d?u+=2*Math.PI:!o&&u>d&&(d+=2*Math.PI);let h=u;const p=d-u,f=Math.abs(p),m=Math.sqrt(l*l+c*c),g=1+(15*f*Math.sqrt(m)/Math.PI|0),v=p/g;if(h+=v,o){a.push(e,t),a.push(n,r);for(let n=1,r=h;n<g;n++,r+=v)a.push(e,t),a.push(e+Math.sin(r)*m,t+Math.cos(r)*m);a.push(e,t),a.push(i,s)}else{a.push(n,r),a.push(e,t);for(let n=1,r=h;n<g;n++,r+=v)a.push(e+Math.sin(r)*m,t+Math.cos(r)*m),a.push(e,t);a.push(i,s),a.push(e,t)}return 2*g}function l(e,t,n,l,c,u){const d=i.B;if(0===e.length)return;const h=t;let p=h.alignment;if(.5!==t.alignment){let t=(0,s.v)(e);n&&(t*=-1),p=(p-.5)*t+.5}const f=new r.b(e[0],e[1]),m=new r.b(e[e.length-2],e[e.length-1]),g=l,v=Math.abs(f.x-m.x)<d&&Math.abs(f.y-m.y)<d;if(g){e=e.slice(),v&&(e.pop(),e.pop(),m.set(e[e.length-2],e[e.length-1]));const t=.5*(f.x+m.x),n=.5*(m.y+f.y);e.unshift(t,n),e.push(t,n)}const b=c,_=e.length/2;let x=e.length;const y=b.length/2,S=h.width/2,T=S*S,w=h.miterLimit*h.miterLimit;let A=e[0],E=e[1],C=e[2],R=e[3],M=0,P=0,k=-(E-R),B=A-C,O=0,I=0,F=Math.sqrt(k*k+B*B);k/=F,B/=F,k*=S,B*=S;const G=2*(1-p),N=2*p;g||("round"===h.cap?x+=o(A-k*(G-N)*.5,E-B*(G-N)*.5,A-k*G,E-B*G,A+k*N,E+B*N,b,!0)+2:"square"===h.cap&&(x+=a(A,E,k,B,G,N,!0,b))),b.push(A-k*G,E-B*G),b.push(A+k*N,E+B*N);for(let r=1;r<_-1;++r){A=e[2*(r-1)],E=e[2*(r-1)+1],C=e[2*r],R=e[2*r+1],M=e[2*(r+1)],P=e[2*(r+1)+1],k=-(E-R),B=A-C,F=Math.sqrt(k*k+B*B),k/=F,B/=F,k*=S,B*=S,O=-(R-P),I=C-M,F=Math.sqrt(O*O+I*I),O/=F,I/=F,O*=S,I*=S;const t=C-A,n=E-R,i=C-M,s=P-R,a=t*i+n*s,l=n*i-s*t,c=l<0;if(Math.abs(l)<.001*Math.abs(a)){b.push(C-k*G,R-B*G),b.push(C+k*N,R+B*N),a>=0&&("round"===h.join?x+=o(C,R,C-k*G,R-B*G,C-O*G,R-I*G,b,!1)+4:x+=2,b.push(C-O*N,R-I*N),b.push(C+O*G,R+I*G));continue}const u=(-k+A)*(-B+R)-(-k+C)*(-B+E),d=(-O+M)*(-I+R)-(-O+C)*(-I+P),p=(t*d-i*u)/l,f=(s*u-n*d)/l,m=(p-C)*(p-C)+(f-R)*(f-R),g=C+(p-C)*G,v=R+(f-R)*G,_=C-(p-C)*N,y=R-(f-R)*N,D=c?G:N;m<=Math.min(t*t+n*n,i*i+s*s)+D*D*T?"bevel"===h.join||m/T>w?(c?(b.push(g,v),b.push(C+k*N,R+B*N),b.push(g,v),b.push(C+O*N,R+I*N)):(b.push(C-k*G,R-B*G),b.push(_,y),b.push(C-O*G,R-I*G),b.push(_,y)),x+=2):"round"===h.join?c?(b.push(g,v),b.push(C+k*N,R+B*N),x+=o(C,R,C+k*N,R+B*N,C+O*N,R+I*N,b,!0)+4,b.push(g,v),b.push(C+O*N,R+I*N)):(b.push(C-k*G,R-B*G),b.push(_,y),x+=o(C,R,C-k*G,R-B*G,C-O*G,R-I*G,b,!1)+4,b.push(C-O*G,R-I*G),b.push(_,y)):(b.push(g,v),b.push(_,y)):(b.push(C-k*G,R-B*G),b.push(C+k*N,R+B*N),"round"===h.join?x+=c?o(C,R,C+k*N,R+B*N,C+O*N,R+I*N,b,!0)+2:o(C,R,C-k*G,R-B*G,C-O*G,R-I*G,b,!1)+2:"miter"===h.join&&m/T<=w&&(c?(b.push(_,y),b.push(_,y)):(b.push(g,v),b.push(g,v)),x+=2),b.push(C-O*G,R-I*G),b.push(C+O*N,R+I*N),x+=2)}A=e[2*(_-2)],E=e[2*(_-2)+1],C=e[2*(_-1)],R=e[2*(_-1)+1],k=-(E-R),B=A-C,F=Math.sqrt(k*k+B*B),k/=F,B/=F,k*=S,B*=S,b.push(C-k*G,R-B*G),b.push(C+k*N,R+B*N),g||("round"===h.cap?x+=o(C-k*(G-N)*.5,R-B*(G-N)*.5,C-k*G,R-B*G,C+k*N,R+B*N,b,!1)+2:"square"===h.cap&&(x+=a(C,R,k,B,G,N,!1,b)));const D=i.I*i.I;for(let r=y;r<x+y-2;++r)A=b[2*r],E=b[2*r+1],C=b[2*(r+1)],R=b[2*(r+1)+1],M=b[2*(r+2)],P=b[2*(r+2)+1],Math.abs(A*(R-P)+C*(P-E)+M*(E-R))<D||u.push(r,r+1,r+2)}},5242:(e,t,n)=>{"use strict";n.d(t,{Q:()=>O});var r=n(7051),i={grad:.9,turn:360,rad:360/(2*Math.PI)},s=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},a=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},o=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},l=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},c=function(e){return{r:o(e.r,0,255),g:o(e.g,0,255),b:o(e.b,0,255),a:o(e.a)}},u=function(e){return{r:a(e.r),g:a(e.g),b:a(e.b),a:a(e.a,3)}},d=/^#([0-9a-f]{3,8})$/i,h=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},p=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,s=Math.max(t,n,r),a=s-Math.min(t,n,r),o=a?s===t?(n-r)/a:s===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(o<0?o+6:o),s:s?a/s*100:0,v:s/255*100,a:i}},f=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),a=r*(1-n),o=r*(1-(t-s)*n),l=r*(1-(1-t+s)*n),c=s%6;return{r:255*[r,o,a,a,l,r][c],g:255*[l,r,r,o,a,a][c],b:255*[a,a,l,r,r,o][c],a:i}},m=function(e){return{h:l(e.h),s:o(e.s,0,100),l:o(e.l,0,100),a:o(e.a)}},g=function(e){return{h:a(e.h),s:a(e.s),l:a(e.l),a:a(e.a,3)}},v=function(e){return f((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},b=function(e){return{h:(t=p(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,x=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,S=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,T={string:[[function(e){var t=d.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?a(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?a(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=y.exec(e)||S.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:c({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=_.exec(e)||x.exec(e);if(!t)return null;var n,r,s=m({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(i[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return v(s)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=void 0===i?1:i;return s(t)&&s(n)&&s(r)?c({r:Number(t),g:Number(n),b:Number(r),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,a=void 0===i?1:i;if(!s(t)||!s(n)||!s(r))return null;var o=m({h:Number(t),s:Number(n),l:Number(r),a:Number(a)});return v(o)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,a=void 0===i?1:i;if(!s(t)||!s(n)||!s(r))return null;var c=function(e){return{h:l(e.h),s:o(e.s,0,100),v:o(e.v,0,100),a:o(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(a)});return f(c)},"hsv"]]},w=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},A=function(e){return"string"==typeof e?w(e.trim(),T.string):"object"==typeof e&&null!==e?w(e,T.object):[null,void 0]},E=function(e,t){var n=b(e);return{h:n.h,s:o(n.s+100*t,0,100),l:n.l,a:n.a}},C=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},R=function(e,t){var n=b(e);return{h:n.h,s:n.s,l:o(n.l+100*t,0,100),a:n.a}},M=function(){function e(e){this.parsed=A(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return a(C(this.rgba),2)},e.prototype.isDark=function(){return C(this.rgba)<.5},e.prototype.isLight=function(){return C(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=u(this.rgba)).r,n=e.g,r=e.b,s=(i=e.a)<1?h(a(255*i)):"","#"+h(t)+h(n)+h(r)+s;var e,t,n,r,i,s},e.prototype.toRgb=function(){return u(this.rgba)},e.prototype.toRgbString=function(){return t=(e=u(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return g(b(this.rgba))},e.prototype.toHslString=function(){return t=(e=g(b(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=p(this.rgba),{h:a(e.h),s:a(e.s),v:a(e.v),a:a(e.a,3)};var e},e.prototype.invert=function(){return P({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),P(E(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),P(E(this.rgba,-e))},e.prototype.grayscale=function(){return P(E(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),P(R(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),P(R(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?P({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):a(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=b(this.rgba);return"number"==typeof e?P({h:e,s:t.s,l:t.l,a:t.a}):a(t.h)},e.prototype.isEqual=function(e){return this.toHex()===P(e).toHex()},e}(),P=function(e){return e instanceof M?e:new M(e)},k=[];!function(e){e.forEach(function(e){k.indexOf(e)<0&&(e(M,T),k.push(e))})}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,a,o=r[this.toHex()];if(o)return o;if(null==t?void 0:t.closest){var l=this.toRgb(),c=1/0,u="black";if(!s.length)for(var d in n)s[d]=new e(n[d]).toRgb();for(var h in n){var p=(i=l,a=s[h],Math.pow(i.r-a.r,2)+Math.pow(i.g-a.g,2)+Math.pow(i.b-a.b,2));p<c&&(c=p,u=h)}return u}},t.string.push([function(t){var r=t.toLowerCase(),i="transparent"===r?"#0000":n[r];return i?new e(i).toRgb():null},"name"])}]);const B=class e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16777215;this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(t){if(t instanceof e)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set Color#value to null");null!==this._value&&this._isSourceEqual(this._value,t)||(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return"string"===typeof e||"number"===typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"===typeof e&&null!==e?(0,r.A)({},e):e}_isSourceEqual(e,t){const n=typeof e;if(n!==typeof t)return!1;if("number"===n||"string"===n||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every((e,n)=>e===t[n]);if(null!==e&&null!==t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>e[n]===t[n])}return e===t}toRgba(){const[e,t,n,r]=this._components;return{r:e,g:t,b:n,a:r}}toRgb(){const[e,t,n]=this._components;return{r:e,g:t,b:n}}toRgbaString(){const[e,t,n]=this.toUint8RgbArray();return"rgba(".concat(e,",").concat(t,",").concat(n,",").concat(this.alpha,")")}toUint8RgbArray(e){const[t,n,r]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(255*t),e[1]=Math.round(255*n),e[2]=Math.round(255*r),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[t,n,r,i]=this._components;return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[t,n,r]=this._components;return e[0]=t,e[1]=n,e[2]=r,e}toNumber(){return this._int}toBgrNumber(){const[e,t,n]=this.toUint8RgbArray();return(n<<16)+(t<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(t){const[n,r,i,s]=e._temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=i,this._components[3]*=s,this._refreshInt(),this._value=null,this}premultiply(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;let n=this._int>>16&255,r=this._int>>8&255,i=255&this._int;return t&&(n=n*e+.5|0,r=r*e+.5|0,i=i*e+.5|0),(255*e<<24)+(n<<16)+(r<<8)+i}toHex(){const e=this._int.toString(16);return"#".concat("000000".substring(0,6-e.length)+e)}toHexa(){const e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(t){let n,r,i,s;if(("number"===typeof t||t instanceof Number)&&t>=0&&t<=16777215){n=(t>>16&255)/255,r=(t>>8&255)/255,i=(255&t)/255,s=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,r,i,s=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,r,i,s=255]=t,n/=255,r/=255,i/=255,s/=255;else if("string"===typeof t||"object"===typeof t){if("string"===typeof t){const n=e.HEX_PATTERN.exec(t);n&&(t="#".concat(n[2]))}const a=P(t);a.isValid()&&(({r:n,g:r,b:i,a:s}=a.rgba),n/=255,r/=255,i/=255)}if(void 0===n)throw new Error("Unable to convert color ".concat(t));this._components[0]=n,this._components[1]=r,this._components[2]=i,this._components[3]=s,this._refreshInt()}_refreshInt(){this._clamp(this._components);const[e,t,n]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*n|0)}_clamp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return"number"===typeof e?Math.min(Math.max(e,t),n):(e.forEach((r,i)=>{e[i]=Math.min(Math.max(r,t),n)}),e)}static isColorLike(t){return"number"===typeof t||"string"===typeof t||t instanceof Number||t instanceof e||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||void 0!==t.r&&void 0!==t.g&&void 0!==t.b||void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&void 0!==t.a||void 0!==t.h&&void 0!==t.s&&void 0!==t.l||void 0!==t.h&&void 0!==t.s&&void 0!==t.l&&void 0!==t.a||void 0!==t.h&&void 0!==t.s&&void 0!==t.v||void 0!==t.h&&void 0!==t.s&&void 0!==t.v&&void 0!==t.a}};B.shared=new B,B._temp=new B,B.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let O=B},5270:(e,t,n)=>{"use strict";n.d(t,{E:()=>p});var r=n(5242),i=n(3596),s=n(2568),a=n(1996),o=n(3636),l=n(3276),c=n(879),u=n(958),d=n(6395),h=n(353);class p extends o.M{constructor(){super({glProgram:s.M.from({vertex:d.A,fragment:u.A}),gpuProgram:a.B.from({fragment:{source:h.A,entryPoint:"mainFragment"},vertex:{source:h.A,entryPoint:"mainVertex"}}),resources:{uTexture:l.g.WHITE.source,uSampler:new c.n({}),uniforms:{uTranslationMatrix:{value:new i.u,type:"mat3x3<f32>"},uColor:{value:new r.Q(16777215),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}}})}}},5310:(e,t,n)=>{"use strict";function r(e,t,n,r){const i={width:0,height:0,offsetY:0,scale:t.fontSize/n.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=n.baseLineOffset;let s=i.lines[0],a=null,o=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},c=n.baseMeasurementFontSize/t.fontSize,u=t.letterSpacing*c,d=t.wordWrapWidth*c,h=t.lineHeight?t.lineHeight*c:n.lineHeight,p=t.wordWrap&&t.breakWords,f=e=>{const t=s.width;for(let n=0;n<l.index;n++){const r=e.positions[n];s.chars.push(e.chars[n]),s.charPositions.push(r+t)}s.width+=e.width,o=!1,l.width=0,l.index=0,l.chars.length=0},m=()=>{let e=s.chars.length-1;if(r){let t=s.chars[e];for(;" "===t;)s.width-=n.chars[t].xAdvance,t=s.chars[--e]}i.width=Math.max(i.width,s.width),s={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},o=!0,i.lines.push(s),i.height+=h},g=e=>e-u>d;for(let v=0;v<e.length+1;v++){let r;const i=v===e.length;i||(r=e[v]);const c=n.chars[r]||n.chars[" "];if(/(?:\s)/.test(r)||"\r"===r||"\n"===r||i){if(!o&&t.wordWrap&&g(s.width+l.width)?(m(),f(l),i||s.charPositions.push(0)):(l.start=s.width,f(l),i||s.charPositions.push(0)),"\r"===r||"\n"===r)0!==s.width&&m();else if(!i){const e=c.xAdvance+(c.kerning[a]||0)+u;s.width+=e,s.spaceWidth=e,s.spacesIndex.push(s.charPositions.length),s.chars.push(r)}}else{const e=c.kerning[a]||0,t=c.xAdvance+e+u;p&&g(s.width+l.width+t)&&(f(l),m()),l.positions[l.index++]=l.width+e,l.chars.push(r),l.width+=t}a=r}return m(),"center"===t.align?function(e){for(let t=0;t<e.lines.length;t++){const n=e.lines[t],r=e.width/2-n.width/2;for(let e=0;e<n.charPositions.length;e++)n.charPositions[e]+=r}}(i):"right"===t.align?function(e){for(let t=0;t<e.lines.length;t++){const n=e.lines[t],r=e.width-n.width;for(let e=0;e<n.charPositions.length;e++)n.charPositions[e]+=r}}(i):"justify"===t.align&&function(e){const t=e.width;for(let n=0;n<e.lines.length;n++){const r=e.lines[n];let i=0,s=r.spacesIndex[i++],a=0;const o=r.spacesIndex.length,l=(t-r.width)/o;for(let e=0;e<r.charPositions.length;e++)e===s&&(s=r.spacesIndex[i++],a+=l),r.charPositions[e]+=a}}(i),i}n.d(t,{Z:()=>r})},5345:(e,t,n)=>{"use strict";n.d(t,{c:()=>p});var r=n(7051),i=n(8656),s=n(4811),a=n(279),o=n(7821),l=n(2100),c=n(131),u=n(5310),d=n(4984);let h=0;const p=new class{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(e,t){var n;let s="".concat(t.fontFamily,"-bitmap"),o=!0;if(t._fill.fill&&!t._stroke)s+=t._fill.fill.styleKey,o=!1;else if(t._stroke||t.dropShadow){let e=t.styleKey;e=e.substring(0,e.lastIndexOf("-")),s="".concat(e,"-bitmap"),o=!1}if(!i.l.has(s)){const e=Object.create(t);e.lineHeight=0;const n=new c.u((0,r.A)({style:e,overrideFill:o,overrideSize:!0},this.defaultOptions));h++,h>50&&(0,a.R)("BitmapText","You have dynamically created ".concat(h,' bitmap fonts, this can be inefficient. Try pre installing your font styles using `BitmapFont.install({name:"style1", style})`')),n.once("destroy",()=>{h--,i.l.remove(s)}),i.l.set(s,n)}const l=i.l.get(s);return null===(n=l.ensureCharacters)||void 0===n||n.call(l,e),l}getLayout(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this.getFont(e,t),i=o.P.graphemeSegmenter(e);return(0,u.Z)(i,t,r,n)}measureText(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.getLayout(e,t,n)}install(){var e,t;let n=arguments.length<=0?void 0:arguments[0];var a,o,u,h;"string"===typeof n&&(n={name:n,style:arguments.length<=1?void 0:arguments[1],chars:null===(a=arguments.length<=2?void 0:arguments[2])||void 0===a?void 0:a.chars,resolution:null===(o=arguments.length<=2?void 0:arguments[2])||void 0===o?void 0:o.resolution,padding:null===(u=arguments.length<=2?void 0:arguments[2])||void 0===u?void 0:u.padding,skipKerning:null===(h=arguments.length<=2?void 0:arguments[2])||void 0===h?void 0:h.skipKerning},(0,s.t6)(s.lj,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const p=null===(e=n)||void 0===e?void 0:e.name;if(!p)throw new Error("[BitmapFontManager] Property `name` is required.");n=(0,r.A)((0,r.A)({},this.defaultOptions),n);const f=n.style,m=f instanceof l.x?f:new l.x(f),g=null!==(t=n.dynamicFill)&&void 0!==t?t:this._canUseTintForStyle(m),v=new c.u({style:m,overrideFill:g,skipKerning:n.skipKerning,padding:n.padding,resolution:n.resolution,overrideSize:!1,textureStyle:n.textureStyle}),b=(0,d.D)(n.chars);return v.ensureCharacters(b.join("")),i.l.set("".concat(p,"-bitmap"),v),v.once("destroy",()=>i.l.remove("".concat(p,"-bitmap"))),v}uninstall(e){const t="".concat(e,"-bitmap"),n=i.l.get(t);n&&n.destroy()}_canUseTintForStyle(e){return!e._stroke&&(!e.dropShadow||0===e.dropShadow.color)&&!e._fill.fill&&16777215===e._fill.color}}},5351:(e,t,n)=>{"use strict";n.d(t,{i:()=>b,l:()=>d});var r=n(7051),i=n(2026),s=n(1013),a=n(4811),o=n(7799),l=n(2080),c=n(53),u=n(66);class d{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new u.L,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const h=[];let p=0;function f(){return p>0?h[--p]:new d}function m(e){h[p++]=e}let g=0;const v=class e{constructor(t){this.uid=(0,i.L)("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],(t=(0,r.A)((0,r.A)({},e.defaultOptions),t)).maxTextures||((0,a.t6)("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=(0,c.a)());const{maxTextures:n,attributesInitialSize:o,indicesInitialSize:l}=t;this.attributeBuffer=new s.u(4*o),this.indexBuffer=new Uint16Array(l),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)m(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,t){const n=e._batch.textures.ids[t._source.uid];return!(!n&&0!==n)&&(e._textureId=n,e.texture=t,!0)}updateElement(e){this.dirty=!0;const t=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,t.float32View,t.uint32View,e._attributeStart,e._textureId)}break(e){const t=this._elements;if(!t[this.elementStart])return;let n=f(),r=n.textures;r.clear();const i=t[this.elementStart];let s=(0,l.i)(i.blendMode,i.texture._source),a=i.topology;4*this.attributeSize>this.attributeBuffer.size&&this._resizeAttributeBuffer(4*this.attributeSize),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const o=this.attributeBuffer.float32View,c=this.attributeBuffer.uint32View,u=this.indexBuffer;let d=this._batchIndexSize,h=this._batchIndexStart,p="startBatch";const m=this.maxTextures;for(let v=this.elementStart;v<this.elementSize;++v){const i=t[v];t[v]=null;const b=i.texture._source,_=(0,l.i)(i.blendMode,b),x=s!==_||a!==i.topology;b._batchTick!==g||x?(b._batchTick=g,(r.count>=m||x)&&(this._finishBatch(n,h,d-h,r,s,a,e,p),p="renderBatch",h=d,s=_,a=i.topology,n=f(),r=n.textures,r.clear(),++g),i._textureId=b._textureBindLocation=r.count,r.ids[b.uid]=r.count,r.textures[r.count++]=b,i._batch=n,d+=i.indexSize,i.packAsQuad?(this.packQuadAttributes(i,o,c,i._attributeStart,i._textureId),this.packQuadIndex(u,i._indexStart,i._attributeStart/this.vertexSize)):(this.packAttributes(i,o,c,i._attributeStart,i._textureId),this.packIndex(i,u,i._indexStart,i._attributeStart/this.vertexSize))):(i._textureId=b._textureBindLocation,d+=i.indexSize,i.packAsQuad?(this.packQuadAttributes(i,o,c,i._attributeStart,i._textureId),this.packQuadIndex(u,i._indexStart,i._attributeStart/this.vertexSize)):(this.packAttributes(i,o,c,i._attributeStart,i._textureId),this.packIndex(i,u,i._indexStart,i._attributeStart/this.vertexSize)),i._batch=n)}r.count>0&&(this._finishBatch(n,h,d-h,r,s,a,e,p),h=d,++g),this.elementStart=this.elementSize,this._batchIndexStart=h,this._batchIndexSize=d}_finishBatch(e,t,n,r,i,s,a,o){e.gpuBindGroup=null,e.bindGroup=null,e.action=o,e.batcher=this,e.textures=r,e.blendMode=i,e.topology=s,e.start=t,e.size=n,++g,this.batches[this.batchIndex++]=e,a.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){4*e<=this.attributeBuffer.size||this._resizeAttributeBuffer(4*e)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const t=Math.max(e,2*this.attributeBuffer.size),n=new s.u(t);(0,o.W)(this.attributeBuffer.rawBinaryData,n.rawBinaryData),this.attributeBuffer=n}_resizeIndexBuffer(e){const t=this.indexBuffer;let n=Math.max(e,1.5*t.length);n+=n%2;const r=n>65535?new Uint32Array(n):new Uint16Array(n);if(r.BYTES_PER_ELEMENT!==t.BYTES_PER_ELEMENT)for(let i=0;i<t.length;i++)r[i]=t[i];else(0,o.W)(t.buffer,r.buffer);this.indexBuffer=r}packQuadIndex(e,t,n){e[t]=n+0,e[t+1]=n+1,e[t+2]=n+2,e[t+3]=n+0,e[t+4]=n+2,e[t+5]=n+3}packIndex(e,t,n,r){const i=e.indices,s=e.indexSize,a=e.indexOffset,o=e.attributeOffset;for(let l=0;l<s;l++)t[n++]=r+i[l+a]-o}destroy(){for(let e=0;e<this.batches.length;e++)m(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};v.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let b=v},5368:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var r=n(7051),i=n(1478),s=n(5682),a=n(5813),o=n(6904);const l=class e extends o.v{constructor(t){var n;super(t),this.isReady=!1,this.uploadMethodId="video",t=(0,r.A)((0,r.A)({},e.defaultOptions),t),this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==t.autoPlay,this.alphaMode=null!==(n=t.alphaMode)&&void 0!==n?n:"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==t.autoLoad&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=s.R.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,t=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(t.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await(0,a.C)(),this._load=new Promise((n,r)=>{this.isValid?n(this):(this._resolve=n,this._reject=r,void 0!==t.preloadTimeoutMs&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent("Preload exceeded timeout of ".concat(t.preloadTimeoutMs,"ms")))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(s.R.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(s.R.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(s.R.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};l.extension=i.Ag.TextureSource,l.defaultOptions=(0,r.A)((0,r.A)({},o.v.defaultOptions),{},{autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1}),l.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let c=l},5398:(e,t,n)=>{"use strict";function r(e,t){const n=e.children;for(let i=0;i<n.length;i++){const e=n[i],s=e.uid,a=(65535&e._didViewChangeTick)<<16|65535&e._didContainerChangeTick,o=t.index;t.data[o]===s&&t.data[o+1]===a||(t.data[t.index]=s,t.data[t.index+1]=a,t.didChange=!0),t.index=o+2,e.children.length&&r(e,t)}return t.didChange}n.d(t,{l:()=>r})},5435:(e,t,n)=>{"use strict";n.d(t,{r:()=>u});var r=n(5242),i=n(3596),s=n(3276),a=n(279),o=n(4325),l=n(1201);const c=1e5;function u(e,t,n){let u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var d;if(e.texture===s.g.WHITE&&!e.fill)return r.Q.shared.setValue(e.color).setAlpha(null!==(d=e.alpha)&&void 0!==d?d:1).toHexa();if(!e.fill){const n=t.createPattern(e.texture.source.resource,"repeat"),r=e.matrix.copyTo(i.u.shared);return r.scale(e.texture.frame.width,e.texture.frame.height),n.setTransform(r),n}if(e.fill instanceof l.m){const n=e.fill,r=t.createPattern(n.texture.source.resource,"repeat"),s=n.transform.copyTo(i.u.shared);return s.scale(n.texture.frame.width,n.texture.frame.height),r.setTransform(s),r}if(e.fill instanceof o._){const i=e.fill,s="linear"===i.type,a="local"===i.textureSpace;let o,l=1,d=1;a&&n&&(l=n.width+u,d=n.height+u);let h=!1;if(s){const{start:e,end:n}=i;o=t.createLinearGradient(e.x*l,e.y*d,n.x*l,n.y*d),h=Math.abs(n.x-e.x)<Math.abs(.1*(n.y-e.y))}else{const{center:e,innerRadius:n,outerCenter:r,outerRadius:s}=i;o=t.createRadialGradient(e.x*l,e.y*d,n*l,r.x*l,r.y*d,s*l)}if(h&&a&&n){const e=n.lineHeight/d;for(let t=0;t<n.lines.length;t++){const s=(t*n.lineHeight+u/2)/d;i.colorStops.forEach(t=>{const n=s+t.offset*e;o.addColorStop(Math.floor(n*c)/c,r.Q.shared.setValue(t.color).toHex())})}}else i.colorStops.forEach(e=>{o.addColorStop(e.offset,r.Q.shared.setValue(e.color).toHex())});return o}return(0,a.R)("FillStyle not recognised",e),"red"}},5514:(e,t,n)=>{"use strict";n.d(t,{J:()=>l});var r=n(5202),i=n(6333),s=n(818);const a=new Float32Array(1),o=new Uint32Array(1);class l extends s.V{constructor(){const e=new r.h({data:a,label:"attribute-batch-buffer",usage:i.S.VERTEX|i.S.COPY_DST,shrinkToFit:!1});super({attributes:{aPosition:{buffer:e,format:"float32x2",stride:24,offset:0},aUV:{buffer:e,format:"float32x2",stride:24,offset:8},aColor:{buffer:e,format:"unorm8x4",stride:24,offset:16},aTextureIdAndRound:{buffer:e,format:"uint16x2",stride:24,offset:20}},indexBuffer:new r.h({data:o,label:"index-batch-buffer",usage:i.S.INDEX|i.S.COPY_DST,shrinkToFit:!1})})}}},5567:(e,t,n)=>{"use strict";function r(e,t,n){return new Promise(async r=>{n&&await new Promise(e=>setTimeout(e,100)),e.onload=()=>{r()},e.src="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(t)),e.crossOrigin="anonymous"})}n.d(t,{c:()=>r})},5579:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});class r{constructor(){this.width=-1,this.height=-1,this.msaa=!1,this.msaaRenderBuffer=[]}}},5656:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(1478),i=n(9777),s=n(6445);const a={textureCount:0,blockIndex:0};class o{constructor(e){this._activeProgram=null,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_programDataHash")}contextChange(e){this._gl=e,this._programDataHash=Object.create(null),this._shaderSyncFunctions=Object.create(null),this._activeProgram=null}bind(e,t){if(this._setProgram(e.glProgram),t)return;a.textureCount=0,a.blockIndex=0;let n=this._shaderSyncFunctions[e.glProgram._key];n||(n=this._shaderSyncFunctions[e.glProgram._key]=this._generateShaderSync(e,this)),this._renderer.buffer.nextBindBase(!!e.glProgram.transformFeedbackVaryings),n(this._renderer,e,a)}updateUniformGroup(e){this._renderer.uniformGroup.updateUniformGroup(e,this._activeProgram,a)}bindUniformBlock(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this._renderer.buffer,i=this._getProgramData(this._activeProgram),s=e._bufferResource;s||this._renderer.ubo.updateUniformGroup(e);const a=e.buffer,o=r.updateBuffer(a),l=r.freeLocationForBufferBase(o);if(s){const{offset:t,size:n}=e;0===t&&n===a.data.byteLength?r.bindBufferBase(o,l):r.bindBufferRange(o,l,t)}else r.getLastBindBaseLocation(o)!==l&&r.bindBufferBase(o,l);const c=this._activeProgram._uniformBlockData[t].index;i.uniformBlockBindings[n]!==l&&(i.uniformBlockBindings[n]=l,this._renderer.gl.uniformBlockBinding(i.program,c,l))}_setProgram(e){if(this._activeProgram===e)return;this._activeProgram=e;const t=this._getProgramData(e);this._gl.useProgram(t.program)}_getProgramData(e){return this._programDataHash[e._key]||this._createProgramData(e)}_createProgramData(e){const t=e._key;return this._programDataHash[t]=(0,s.C)(this._gl,e),this._programDataHash[t]}destroy(){for(const e of Object.keys(this._programDataHash)){this._programDataHash[e].destroy(),this._programDataHash[e]=null}this._programDataHash=null}_generateShaderSync(e,t){return(0,i.$)(e,t)}resetState(){this._activeProgram=null}}o.extension={type:[r.Ag.WebGLSystem],name:"shader"}},5680:(e,t,n)=>{"use strict";n.d(t,{R:()=>r,c:()=>i});const r={name:"tiling-bit",vertex:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;\n\n            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;\n        "},fragment:{header:"\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        ",main:"\n\n            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);\n            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;\n            var unclamped = coord;\n            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);\n\n            var bias = 0.;\n\n            if(unclamped.x == coord.x && unclamped.y == coord.y)\n            {\n                bias = -32.;\n            }\n\n            outColor = textureSampleBias(uTexture, uSampler, coord, bias);\n        "}},i={name:"tiling-bit",vertex:{header:"\n            uniform mat3 uTextureTransform;\n            uniform vec4 uSizeAnchor;\n\n        ",main:"\n            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;\n        "},fragment:{header:"\n            uniform sampler2D uTexture;\n            uniform mat3 uMapCoord;\n            uniform vec4 uClampFrame;\n            uniform vec2 uClampOffset;\n        ",main:"\n\n        vec2 coord = vUV + ceil(uClampOffset - vUV);\n        coord = (uMapCoord * vec3(coord, 1.0)).xy;\n        vec2 unclamped = coord;\n        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0\n\n        "}}},5681:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(3772),i=n(4811);const s={allowChildren:!0,removeChildren(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;const n=null!==t&&void 0!==t?t:this.children.length,i=n-e,s=[];if(i>0&&i<=n){for(let r=n-1;r>=e;r--){const e=this.children[r];e&&(s.push(e),e.parent=null)}(0,r.d)(this.children,e,n);const t=this.renderGroup||this.parentRenderGroup;t&&t.removeChildren(s);for(let e=0;e<s.length;++e){var a;const t=s[e];null===(a=t.parentRenderLayer)||void 0===a||a.detach(t),this.emit("childRemoved",t,this,e),s[e].emit("removed",this)}return s.length>0&&this._didViewChangeTick++,s}if(0===i&&0===this.children.length)return s;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(e){const t=this.getChildAt(e);return this.removeChild(t)},getChildAt(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index (".concat(e,") does not exist."));return this.children[e]},setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error("The index ".concat(t," supplied is out of bounds ").concat(this.children.length));this.getChildIndex(e),this.addChildAt(e,t)},getChildIndex(e){const t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(e,t){this.allowChildren||(0,i.t6)(i.lj,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(t<0||t>n.length)throw new Error("".concat(e,"addChildAt: The index ").concat(t," supplied is out of bounds ").concat(n.length));if(e.parent){const n=e.parent.children.indexOf(e);if(e.parent===this&&n===t)return e;-1!==n&&e.parent.children.splice(n,1)}t===n.length?n.push(e):n.splice(t,0,e),e.parent=this,e.didChange=!0,e._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(e),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",e,this,t),e.emit("added",this),e},swapChildren(e,t){if(e===t)return;const n=this.getChildIndex(e),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=e;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)},reparentChild(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(e,t){if(e.parent===this)return this.setChildIndex(e,t),e;const n=e.worldTransform.clone();e.removeFromParent(),this.addChildAt(e,t);const r=this.worldTransform.clone();return r.invert(),n.prepend(r),e.setFromMatrix(n),e},replaceChild(e,t){e.updateLocalTransform(),this.addChildAt(t,this.getChildIndex(e)),t.setFromMatrix(e.localTransform),t.updateLocalTransform(),this.removeChild(e)}}},5682:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(6493),i=n(6978);const s=class e{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new i.X(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.d.NORMAL;return this._addListener(new i.X(e,t,n))}addOnce(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.d.NORMAL;return this._addListener(new i.X(e,t,n,!0))}_addListener(e){let t=this._head.next,n=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}else e.connect(n);return this._startIfPossible(),this}remove(e,t){let n=this._head.next;for(;n;)n=n.match(e,t)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(){let t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();if(n>this.lastTime){if(t=this.elapsedMS=n-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const e=n-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=n-e%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*e.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=n}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,e.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!e._shared){const t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}static get system(){if(!e._system){const t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}};s.targetFPMS=.06;let a=s},5732:(e,t,n)=>{"use strict";n.d(t,{q:()=>f});var r=n(7051),i=n(1478),s=n(279),a=n(818),o=n(3636),l=n(576),c=n(6904),u=n(3276),d=n(2568);const h=new a.V({attributes:{aPosition:[-1,-1,3,-1,-1,3]}}),p=class e{constructor(e){this.useBackBuffer=!1,this._useBackBufferThisRender=!1,this._renderer=e}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{useBackBuffer:n,antialias:i}=(0,r.A)((0,r.A)({},e.defaultOptions),t);this.useBackBuffer=n,this._antialias=i,this._renderer.context.supports.msaa||((0,s.R)("antialiasing, is not supported on when using the back buffer"),this._antialias=!1),this._state=l.U.for2d();const a=new d.M({vertex:"\n                attribute vec2 aPosition;\n                out vec2 vUv;\n\n                void main() {\n                    gl_Position = vec4(aPosition, 0.0, 1.0);\n\n                    vUv = (aPosition + 1.0) / 2.0;\n\n                    // flip dem UVs\n                    vUv.y = 1.0 - vUv.y;\n                }",fragment:"\n                in vec2 vUv;\n                out vec4 finalColor;\n\n                uniform sampler2D uTexture;\n\n                void main() {\n                    finalColor = texture(uTexture, vUv);\n                }",name:"big-triangle"});this._bigTriangleShader=new o.M({glProgram:a,resources:{uTexture:u.g.WHITE.source}})}renderStart(e){const t=this._renderer.renderTarget.getRenderTarget(e.target);if(this._useBackBufferThisRender=this.useBackBuffer&&!!t.isRoot,this._useBackBufferThisRender){const t=this._renderer.renderTarget.getRenderTarget(e.target);this._targetTexture=t.colorTexture,e.target=this._getBackBufferTexture(t.colorTexture)}}renderEnd(){this._presentBackBuffer()}_presentBackBuffer(){const e=this._renderer;e.renderTarget.finishRenderPass(),this._useBackBufferThisRender&&(e.renderTarget.bind(this._targetTexture,!1),this._bigTriangleShader.resources.uTexture=this._backBufferTexture.source,e.encoder.draw({geometry:h,shader:this._bigTriangleShader,state:this._state}))}_getBackBufferTexture(e){return this._backBufferTexture=this._backBufferTexture||new u.g({source:new c.v({width:e.width,height:e.height,resolution:e._resolution,antialias:this._antialias})}),this._backBufferTexture.source.resize(e.width,e.height,e._resolution),this._backBufferTexture}destroy(){this._backBufferTexture&&(this._backBufferTexture.destroy(),this._backBufferTexture=null)}};p.extension={type:[i.Ag.WebGLSystem],name:"backBuffer",priority:1},p.defaultOptions={useBackBuffer:!1};let f=p},5738:(e,t,n)=>{"use strict";function r(e){const t=e.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement&&document.body.contains(t)}n.d(t,{A:()=>r})},5739:(e,t,n)=>{var r=n(8923),i=n(3699),s=n(248),a=n(1095),o=i.DOMImplementation,l=r.NAMESPACE,c=a.ParseError,u=a.XMLReader;function d(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function h(e){this.options=e||{locator:{}}}function p(){this.cdata=!1}function f(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function m(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function g(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function v(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}h.prototype.parseFromString=function(e,t){var n=this.options,r=new u,i=n.domBuilder||new p,a=n.errorHandler,o=n.locator,c=n.xmlns||{},h=/\/x?html?$/.test(t),f=h?s.HTML_ENTITIES:s.XML_ENTITIES;o&&i.setDocumentLocator(o),r.errorHandler=function(e,t,n){if(!e){if(t instanceof p)return t;e=t}var r={},i=e instanceof Function;function s(t){var s=e[t];!s&&i&&(s=2==e.length?function(n){e(t,n)}:e),r[t]=s&&function(e){s("[xmldom "+t+"]\t"+e+m(n))}||function(){}}return n=n||{},s("warning"),s("error"),s("fatalError"),r}(a,i,o),r.domBuilder=n.domBuilder||i,h&&(c[""]=l.HTML),c.xml=c.xml||l.XML;var g=n.normalizeLineEndings||d;return e&&"string"===typeof e?r.parse(g(e),c,f):r.errorHandler.error("invalid doc source"),i.doc},p.prototype={startDocument:function(){this.doc=(new o).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,s=i.createElementNS(e,n||t),a=r.length;v(this,s),this.currentElement=s,this.locator&&f(this.locator,s);for(var o=0;o<a;o++){e=r.getURI(o);var l=r.getValue(o),c=(n=r.getQName(o),i.createAttributeNS(e,n));this.locator&&f(r.getLocator(o),c),c.value=c.nodeValue=l,s.setAttributeNode(c)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&f(this.locator,n),v(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=g.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&f(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=g.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&f(this.locator,r),v(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&f(this.locator,i),v(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]\t"+e,m(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,m(this.locator))},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){p.prototype[e]=function(){return null}}),t.DOMParser=h},5750:(e,t,n)=>{"use strict";n.d(t,{n:()=>i});var r=n(9914);function i(){const{userAgent:e}=r.e.get().getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}},5759:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var r=n(1478),i=n(9027),s=n(1538);class a extends i.l{constructor(e){super(e),this.adaptor=new s.q,this.adaptor.init(e,this)}}a.extension={type:[r.Ag.WebGLSystem],name:"renderTarget"}},5813:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var r=n(9914);let i;async function s(){return null!==i&&void 0!==i||(i=(async e=>{const t=r.e.get().createCanvas(1,1).getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const n=await new Promise(e=>{const t=document.createElement("video");t.onloadeddata=()=>e(t),t.onerror=()=>e(null),t.autoplay=!1,t.crossOrigin="anonymous",t.preload="auto",t.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",t.load()});if(!n)return"premultiply-alpha-on-upload";const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);const a=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,a),t.deleteFramebuffer(s),t.deleteTexture(i),null===(e=t.getExtension("WEBGL_lose_context"))||void 0===e||e.loseContext(),a[0]<=a[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),i}},5852:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(7051),i=n(1478),s=n(6904);class a extends s.v{constructor(e){const t=e.resource||new Float32Array(e.width*e.height*4);let n=e.format;n||(n=t instanceof Float32Array?"rgba32float":t instanceof Int32Array||t instanceof Uint32Array?"rgba32uint":t instanceof Int16Array||t instanceof Uint16Array?"rgba16uint":(Int8Array,"bgra8unorm")),super((0,r.A)((0,r.A)({},e),{},{resource:t,format:n})),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}a.extension=i.Ag.TextureSource},5937:(e,t,n)=>{"use strict";n.d(t,{q:()=>a});var r=n(9914),i=n(1478),s=n(6904);class a extends s.v{constructor(e){e.resource||(e.resource=r.e.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width="".concat(this.width,"px"),this.resource.style.height="".concat(this.height,"px")),this.resource.width===this.pixelWidth&&this.resource.height===this.pixelHeight||(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.width,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.height,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._resolution;const r=super.resize(e,t,n);return r&&this.resizeCanvas(),r}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}a.extension=i.Ag.TextureSource},6001:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(1411);function i(e,t,n,i,s,a,o){const l=(0,r.h)(e,t,2);if(!l)return;for(let r=0;r<l.length;r+=3)a[o++]=l[r]+s,a[o++]=l[r+1]+s,a[o++]=l[r+2]+s;let c=s*i;for(let r=0;r<e.length;r+=2)n[c]=e[r],n[c+1]=e[r+1],c+=i}},6021:(e,t,n)=>{"use strict";n.d(t,{FT:()=>i,I7:()=>s,Yr:()=>a,bH:()=>r});var r=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(r||{}),i=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(i||{}),s=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(s||{}),a=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(a||{})},6220:(e,t,n)=>{"use strict";n.d(t,{I:()=>u,v:()=>c});var r=n(7051),i=n(2568),s=n(1996),a=n(2147),o=n(4834),l=n(3629);function c(e){let{bits:t,name:n}=e;const r=(0,a.h)({template:{fragment:o.xl,vertex:o.Tp},bits:[l.EU,...t]});return s.B.from({name:n,vertex:{source:r.vertex,entryPoint:"main"},fragment:{source:r.fragment,entryPoint:"main"}})}function u(e){let{bits:t,name:n}=e;return new i.M((0,r.A)({name:n},(0,a.Q)({template:{vertex:o.sS,fragment:o._g},bits:[l.jv,...t]})))}},6225:(e,t,n)=>{"use strict";function r(e,t){if(16777215===e||!t)return t;if(16777215===t||!e)return e;return(((e>>16&255)*(t>>16&255)/255|0)<<16)+(((e>>8&255)*(t>>8&255)/255|0)<<8)+((255&e)*(255&t)/255|0)}n.d(t,{u:()=>r})},6258:(e,t,n)=>{"use strict";function r(e,t){if(!t.ACTIVE_UNIFORM_BLOCKS)return{};const n={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORM_BLOCKS);for(let i=0;i<r;i++){const r=t.getActiveUniformBlockName(e,i),s=t.getUniformBlockIndex(e,r),a=t.getActiveUniformBlockParameter(e,i,t.UNIFORM_BLOCK_DATA_SIZE);n[r]={name:r,index:s,size:a}}return n}n.d(t,{X:()=>r})},6268:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(9914);function i(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received ".concat(JSON.stringify(e)))}function s(e){return e.split("?")[0].split("#")[0]}const a={toPosix(e){return t="\\",n="/",e.replace(new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),n);var t,n},isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl:e=>/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e),isBlobUrl:e=>e.startsWith("blob:"),hasProtocol(e){return/^[^/:]+:/.test(this.toPosix(e))},getProtocol(e){i(e),e=this.toPosix(e);const t=/^file:\/\/\//.exec(e);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(e);return n?n[0]:""},toAbsolute(e,t,n){if(i(e),this.isDataUrl(e)||this.isBlobUrl(e))return e;const o=s(this.toPosix(null!==t&&void 0!==t?t:r.e.get().getBaseUrl())),l=s(this.toPosix(null!==n&&void 0!==n?n:this.rootname(o)));if((e=this.toPosix(e)).startsWith("/"))return a.join(l,e.slice(1));return this.isAbsolute(e)?e:this.join(o,e)},normalize(e){if(i(e),0===e.length)return".";if(this.isDataUrl(e)||this.isBlobUrl(e))return e;let t="";const n=(e=this.toPosix(e)).startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const r=e.endsWith("/");return(e=function(e,t){let n="",r=0,i=-1,s=0,a=-1;for(let o=0;o<=e.length;++o){if(o<e.length)a=e.charCodeAt(o);else{if(47===a)break;a=47}if(47===a){if(i===o-1||1===s);else if(i!==o-1&&2===s){if(n.length<2||2!==r||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){const e=n.lastIndexOf("/");if(e!==n.length-1){-1===e?(n="",r=0):(n=n.slice(0,e),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(2===n.length||1===n.length){n="",r=0,i=o,s=0;continue}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/".concat(e.slice(i+1,o)):n=e.slice(i+1,o),r=o-i-1;i=o,s=0}else 46===a&&-1!==s?++s:s=-1}return n}(e,!1)).length>0&&r&&(e+="/"),n?"/".concat(e):t+e},isAbsolute(e){return i(e),e=this.toPosix(e),!!this.hasProtocol(e)||e.startsWith("/")},join(){if(0===arguments.length)return".";let e;for(let n=0;n<arguments.length;++n){const r=n<0||arguments.length<=n?void 0:arguments[n];if(i(r),r.length>0)if(void 0===e)e=r;else{var t;const i=null!==(t=n-1<0||arguments.length<=n-1?void 0:arguments[n-1])&&void 0!==t?t:"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+="/../".concat(r):e+="/".concat(r)}}return void 0===e?".":this.normalize(e)},dirname(e){if(i(e),0===e.length)return".";let t=(e=this.toPosix(e)).charCodeAt(0);const n=47===t;let r=-1,s=!0;const a=this.getProtocol(e),o=e;for(let i=(e=e.slice(a.length)).length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!s){r=i;break}}else s=!1;return-1===r?n?"/":this.isUrl(o)?a+e:a:n&&1===r?"//":a+e.slice(0,r)},rootname(e){i(e);let t="";if(t=(e=this.toPosix(e)).startsWith("/")?"/":this.getProtocol(e),this.isUrl(e)){const n=e.indexOf("/",t.length);t=-1!==n?e.slice(0,n):e,t.endsWith("/")||(t+="/")}return t},basename(e,t){i(e),t&&i(t),e=s(this.toPosix(e));let n,r=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let i=t.length-1,s=-1;for(n=e.length-1;n>=0;--n){const l=e.charCodeAt(n);if(47===l){if(!o){r=n+1;break}}else-1===s&&(o=!1,s=n+1),i>=0&&(l===t.charCodeAt(i)?-1===--i&&(a=n):(i=-1,a=s))}return r===a?a=s:-1===a&&(a=e.length),e.slice(r,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){r=n+1;break}}else-1===a&&(o=!1,a=n+1);return-1===a?"":e.slice(r,a)},extname(e){i(e);let t=-1,n=0,r=-1,a=!0,o=0;for(let i=(e=s(this.toPosix(e))).length-1;i>=0;--i){const s=e.charCodeAt(i);if(47!==s)-1===r&&(a=!1,r=i+1),46===s?-1===t?t=i:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){n=i+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)},parse(e){i(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;let n=(e=s(this.toPosix(e))).charCodeAt(0);const r=this.isAbsolute(e);let a;t.root=this.rootname(e),a=r||this.hasProtocol(e)?1:0;let o=-1,l=0,c=-1,u=!0,d=e.length-1,h=0;for(;d>=a;--d)if(n=e.charCodeAt(d),47!==n)-1===c&&(u=!1,c=d+1),46===n?-1===o?o=d:1!==h&&(h=1):-1!==o&&(h=-1);else if(!u){l=d+1;break}return-1===o||-1===c||0===h||1===h&&o===c-1&&o===l+1?-1!==c&&(t.base=t.name=0===l&&r?e.slice(1,c):e.slice(l,c)):(0===l&&r?(t.name=e.slice(1,o),t.base=e.slice(1,c)):(t.name=e.slice(l,o),t.base=e.slice(l,c)),t.ext=e.slice(o,c)),t.dir=this.dirname(e),t},sep:"/",delimiter:":",joinExtensions:[".html"]}},6282:(e,t,n)=>{"use strict";n.d(t,{u:()=>g});var r=n(1478),i=n(3596),s=n(2590),a=n(818),o=n(6538),l=n(3276),c=n(3202),u=n(6650),d=n(6373),h=n(5137),p=n(279);const f=new a.V({attributes:{aPosition:{buffer:new Float32Array([0,0,1,0,1,1,0,1]),format:"float32x2",stride:8,offset:0}},indexBuffer:new Uint32Array([0,1,2,0,2,3])});class m{constructor(){this.skip=!1,this.inputTexture=null,this.backTexture=null,this.filters=null,this.bounds=new d.c,this.container=null,this.blendRequired=!1,this.outputRenderSurface=null,this.globalFrame={x:0,y:0,width:0,height:0}}}class g{constructor(e){this._filterStackIndex=0,this._filterStack=[],this._filterGlobalUniforms=new o.k({uInputSize:{value:new Float32Array(4),type:"vec4<f32>"},uInputPixel:{value:new Float32Array(4),type:"vec4<f32>"},uInputClamp:{value:new Float32Array(4),type:"vec4<f32>"},uOutputFrame:{value:new Float32Array(4),type:"vec4<f32>"},uGlobalFrame:{value:new Float32Array(4),type:"vec4<f32>"},uOutputTexture:{value:new Float32Array(4),type:"vec4<f32>"}}),this._globalFilterBindGroup=new s.T({}),this.renderer=e}get activeBackTexture(){var e;return null===(e=this._activeFilterData)||void 0===e?void 0:e.backTexture}push(e){const t=this.renderer,n=e.filterEffect.filters,r=this._pushFilterData();r.skip=!1,r.filters=n,r.container=e.container,r.outputRenderSurface=t.renderTarget.renderSurface;const i=t.renderTarget.renderTarget.colorTexture.source,s=i.resolution,a=i.antialias;if(0===n.length)return void(r.skip=!0);const o=r.bounds;if(this._calculateFilterArea(e,o),this._calculateFilterBounds(r,t.renderTarget.rootViewPort,a,s,1),r.skip)return;const l=this._getPreviousFilterData(),c=this._findFilterResolution(s);let u=0,d=0;l&&(u=l.bounds.minX,d=l.bounds.minY),this._calculateGlobalFrame(r,u,d,c,i.width,i.height),this._setupFilterTextures(r,o,t,l)}generateFilteredTexture(e){let{texture:t,filters:n}=e;const r=this._pushFilterData();this._activeFilterData=r,r.skip=!1,r.filters=n;const i=t.source,s=i.resolution,a=i.antialias;if(0===n.length)return r.skip=!0,t;const o=r.bounds;if(o.addRect(t.frame),this._calculateFilterBounds(r,o.rectangle,a,s,0),r.skip)return t;const u=s;this._calculateGlobalFrame(r,0,0,u,i.width,i.height),r.outputRenderSurface=c.W.getOptimalTexture(o.width,o.height,r.resolution,r.antialias),r.backTexture=l.g.EMPTY,r.inputTexture=t;this.renderer.renderTarget.finishRenderPass(),this._applyFiltersToTexture(r,!0);const d=r.outputRenderSurface;return d.source.alphaMode="premultiplied-alpha",d}pop(){const e=this.renderer,t=this._popFilterData();t.skip||(e.globalUniforms.pop(),e.renderTarget.finishRenderPass(),this._activeFilterData=t,this._applyFiltersToTexture(t,!1),t.blendRequired&&c.W.returnTexture(t.backTexture),c.W.returnTexture(t.inputTexture))}getBackTexture(e,t,n){const r=e.colorTexture.source._resolution,i=c.W.getOptimalTexture(t.width,t.height,r,!1);let s=t.minX,a=t.minY;n&&(s-=n.minX,a-=n.minY),s=Math.floor(s*r),a=Math.floor(a*r);const o=Math.ceil(t.width*r),l=Math.ceil(t.height*r);return this.renderer.renderTarget.copyToTexture(e,i,{x:s,y:a},{width:o,height:l},{x:0,y:0}),i}applyFilter(e,t,n,r){const i=this.renderer,s=this._activeFilterData,a=s.outputRenderSurface===n,o=i.renderTarget.rootRenderTarget.colorTexture.source._resolution,l=this._findFilterResolution(o);let c=0,u=0;if(a){const e=this._findPreviousFilterOffset();c=e.x,u=e.y}this._updateFilterUniforms(t,n,s,c,u,l,a,r),this._setupBindGroupsAndRender(e,t,i)}calculateSpriteMatrix(e,t){const n=this._activeFilterData,r=e.set(n.inputTexture._source.width,0,0,n.inputTexture._source.height,n.bounds.minX,n.bounds.minY),s=t.worldTransform.copyTo(i.u.shared),a=t.renderGroup||t.parentRenderGroup;return a&&a.cacheToLocalTransform&&s.prepend(a.cacheToLocalTransform),s.invert(),r.prepend(s),r.scale(1/t.texture.orig.width,1/t.texture.orig.height),r.translate(t.anchor.x,t.anchor.y),r}destroy(){}_setupBindGroupsAndRender(e,t,n){if(n.renderPipes.uniformBatch){const e=n.renderPipes.uniformBatch.getUboResource(this._filterGlobalUniforms);this._globalFilterBindGroup.setResource(e,0)}else this._globalFilterBindGroup.setResource(this._filterGlobalUniforms,0);this._globalFilterBindGroup.setResource(t.source,1),this._globalFilterBindGroup.setResource(t.source.style,2),e.groups[0]=this._globalFilterBindGroup,n.encoder.draw({geometry:f,shader:e,state:e._state,topology:"triangle-list"}),n.type===u.W.WEBGL&&n.renderTarget.finishRenderPass()}_setupFilterTextures(e,t,n,r){if(e.backTexture=l.g.EMPTY,e.blendRequired){n.renderTarget.finishRenderPass();const i=n.renderTarget.getRenderTarget(e.outputRenderSurface);e.backTexture=this.getBackTexture(i,t,null===r||void 0===r?void 0:r.bounds)}e.inputTexture=c.W.getOptimalTexture(t.width,t.height,e.resolution,e.antialias),n.renderTarget.bind(e.inputTexture,!0),n.globalUniforms.push({offset:t})}_calculateGlobalFrame(e,t,n,r,i,s){const a=e.globalFrame;a.x=t*r,a.y=n*r,a.width=i*r,a.height=s*r}_updateFilterUniforms(e,t,n,r,i,s,a,o){const c=this._filterGlobalUniforms.uniforms,u=c.uOutputFrame,d=c.uInputSize,h=c.uInputPixel,p=c.uInputClamp,f=c.uGlobalFrame,m=c.uOutputTexture;a?(u[0]=n.bounds.minX-r,u[1]=n.bounds.minY-i):(u[0]=0,u[1]=0),u[2]=e.frame.width,u[3]=e.frame.height,d[0]=e.source.width,d[1]=e.source.height,d[2]=1/d[0],d[3]=1/d[1],h[0]=e.source.pixelWidth,h[1]=e.source.pixelHeight,h[2]=1/h[0],h[3]=1/h[1],p[0]=.5*h[2],p[1]=.5*h[3],p[2]=e.frame.width*d[2]-.5*h[2],p[3]=e.frame.height*d[3]-.5*h[3];const g=this.renderer.renderTarget.rootRenderTarget.colorTexture;f[0]=r*s,f[1]=i*s,f[2]=g.source.width*s,f[3]=g.source.height*s,t instanceof l.g&&(t.source.resource=null);const v=this.renderer.renderTarget.getRenderTarget(t);this.renderer.renderTarget.bind(t,!!o),t instanceof l.g?(m[0]=t.frame.width,m[1]=t.frame.height):(m[0]=v.width,m[1]=v.height),m[2]=v.isRoot?-1:1,this._filterGlobalUniforms.update()}_findFilterResolution(e){let t=this._filterStackIndex-1;for(;t>0&&this._filterStack[t].skip;)--t;return t>0&&this._filterStack[t].inputTexture?this._filterStack[t].inputTexture.source._resolution:e}_findPreviousFilterOffset(){let e=0,t=0,n=this._filterStackIndex;for(;n>0;){n--;const r=this._filterStack[n];if(!r.skip){e=r.bounds.minX,t=r.bounds.minY;break}}return{x:e,y:t}}_calculateFilterArea(e,t){if(e.renderables?(0,h.L)(e.renderables,t):e.filterEffect.filterArea?(t.clear(),t.addRect(e.filterEffect.filterArea),t.applyMatrix(e.container.worldTransform)):e.container.getFastGlobalBounds(!0,t),e.container){const n=(e.container.renderGroup||e.container.parentRenderGroup).cacheToLocalTransform;n&&t.applyMatrix(n)}}_applyFiltersToTexture(e,t){const n=e.inputTexture,r=e.bounds,i=e.filters;if(this._globalFilterBindGroup.setResource(n.source.style,2),this._globalFilterBindGroup.setResource(e.backTexture.source,3),1===i.length)i[0].apply(this,n,e.outputRenderSurface,t);else{let n=e.inputTexture;const s=c.W.getOptimalTexture(r.width,r.height,n.source._resolution,!1);let a=s,o=0;for(o=0;o<i.length-1;++o){i[o].apply(this,n,a,!0);const e=n;n=a,a=e}i[o].apply(this,n,e.outputRenderSurface,t),c.W.returnTexture(s)}}_calculateFilterBounds(e,t,n,r,i){const s=this.renderer,a=e.bounds,o=e.filters;let l=1/0,c=0,u=!0,d=!1,h=!1,f=!0;for(let v=0;v<o.length;v++){var m,g;const e=o[v];l=Math.min(l,"inherit"===e.resolution?r:e.resolution),c+=e.padding,"off"===e.antialias?u=!1:"inherit"===e.antialias&&u&&(u=n),e.clipToViewport||(f=!1);if(!!!(e.compatibleRenderers&s.type)){h=!1;break}if(e.blendRequired&&null!==(m=null===(g=s.backBuffer)||void 0===g?void 0:g.useBackBuffer)&&void 0!==m&&!m){(0,p.R)("Blend filter requires backBuffer on WebGL renderer to be enabled. Set `useBackBuffer: true` in the renderer options."),h=!1;break}h=e.enabled||h,d||(d=e.blendRequired)}h?(f&&a.fitBounds(0,t.width/r,0,t.height/r),a.scale(l).ceil().scale(1/l).pad((0|c)*i),a.isPositive?(e.antialias=u,e.resolution=l,e.blendRequired=d):e.skip=!0):e.skip=!0}_popFilterData(){return this._filterStackIndex--,this._filterStack[this._filterStackIndex]}_getPreviousFilterData(){let e,t=this._filterStackIndex-1;for(;t>1&&(t--,e=this._filterStack[t],e.skip););return e}_pushFilterData(){let e=this._filterStack[this._filterStackIndex];return e||(e=this._filterStack[this._filterStackIndex]=new m),this._filterStackIndex++,e}}g.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem],name:"filter"}},6325:(e,t,n)=>{"use strict";n.d(t,{T:()=>c});var r=n(3027);const i=8,s=1.1920929e-7,a=1,o=.01,l=0;function c(e,t,n,i,s,o,l,c){const d=Math.min(.99,Math.max(0,null!==c&&void 0!==c?c:r.GH.defaultOptions.bezierSmoothness));let h=(a-d)/1;return h*=h,function(e,t,n,r,i,s,a,o){u(a,e,t,n,r,i,s,o,0),a.push(i,s)}(t,n,i,s,o,l,e,h),e}function u(e,t,n,r,a,c,d,h,p){if(p>i)return;const f=Math.PI,m=(t+r)/2,g=(n+a)/2,v=(r+c)/2,b=(a+d)/2,_=(m+v)/2,x=(g+b)/2;let y=c-t,S=d-n;const T=Math.abs((r-c)*S-(a-d)*y);if(T>s){if(T*T<=h*(y*y+S*S)){if(l<o)return void e.push(_,x);let i=Math.abs(Math.atan2(d-a,c-r)-Math.atan2(a-n,r-t));if(i>=f&&(i=2*f-i),i<l)return void e.push(_,x)}}else if(y=_-(t+c)/2,S=x-(n+d)/2,y*y+S*S<=h)return void e.push(_,x);u(e,t,n,m,g,_,x,h,p+1),u(e,_,x,v,b,c,d,h,p+1)}},6333:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=(e=>(e[e.MAP_READ=1]="MAP_READ",e[e.MAP_WRITE=2]="MAP_WRITE",e[e.COPY_SRC=4]="COPY_SRC",e[e.COPY_DST=8]="COPY_DST",e[e.INDEX=16]="INDEX",e[e.VERTEX=32]="VERTEX",e[e.UNIFORM=64]="UNIFORM",e[e.STORAGE=128]="STORAGE",e[e.INDIRECT=256]="INDIRECT",e[e.QUERY_RESOLVE=512]="QUERY_RESOLVE",e[e.STATIC=1024]="STATIC",e))(r||{})},6340:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});const r=e=>!Array.isArray(e)},6373:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(3596),i=n(4307);const s=new r.u;class a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1/0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1/0;this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=s,this.minX=e,this.minY=t,this.maxX=n,this.maxY=r}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new i.M);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=s,this}set(e,t,n,r){this.minX=e,this.minY=t,this.maxX=n,this.maxY=r}addFrame(e,t,n,r,i){i||(i=this.matrix);const s=i.a,a=i.b,o=i.c,l=i.d,c=i.tx,u=i.ty;let d=this.minX,h=this.minY,p=this.maxX,f=this.maxY,m=s*e+o*t+c,g=a*e+l*t+u;m<d&&(d=m),g<h&&(h=g),m>p&&(p=m),g>f&&(f=g),m=s*n+o*t+c,g=a*n+l*t+u,m<d&&(d=m),g<h&&(h=g),m>p&&(p=m),g>f&&(f=g),m=s*e+o*r+c,g=a*e+l*r+u,m<d&&(d=m),g<h&&(h=g),m>p&&(p=m),g>f&&(f=g),m=s*n+o*r+c,g=a*n+l*r+u,m<d&&(d=m),g<h&&(h=g),m>p&&(p=m),g>f&&(f=g),this.minX=d,this.minY=h,this.maxX=p,this.maxY=f}addRect(e,t){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,t)}addBounds(e,t){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,t)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const t=this.minX,n=this.minY,r=this.maxX,i=this.maxY,{a:s,b:a,c:o,d:l,tx:c,ty:u}=e;let d=s*t+o*n+c,h=a*t+l*n+u;this.minX=d,this.minY=h,this.maxX=d,this.maxY=h,d=s*r+o*n+c,h=a*r+l*n+u,this.minX=d<this.minX?d:this.minX,this.minY=h<this.minY?h:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=h>this.maxY?h:this.maxY,d=s*t+o*i+c,h=a*t+l*i+u,this.minX=d<this.minX?d:this.minX,this.minY=h<this.minY?h:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=h>this.maxY?h:this.maxY,d=s*r+o*i+c,h=a*r+l*i+u,this.minX=d<this.minX?d:this.minX,this.minY=h<this.minY?h:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=h>this.maxY?h:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,t,n,r){return this.minX<e&&(this.minX=e),this.maxX>t&&(this.maxX=t),this.minY<n&&(this.minY=n),this.maxY>r&&(this.maxY=r),this}pad(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new a(this.minX,this.minY,this.maxX,this.maxY)}scale(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.minX*=e,this.minY*=t,this.maxX*=e,this.maxY*=t,this}get x(){return this.minX}set x(e){const t=this.maxX-this.minX;this.minX=e,this.maxX=e+t}get y(){return this.minY}set y(e){const t=this.maxY-this.minY;this.minY=e,this.maxY=e+t}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,t,n,r){let i=this.minX,s=this.minY,a=this.maxX,o=this.maxY;r||(r=this.matrix);const l=r.a,c=r.b,u=r.c,d=r.d,h=r.tx,p=r.ty;for(let f=t;f<n;f+=2){const t=e[f],n=e[f+1],r=l*t+u*n+h,m=c*t+d*n+p;i=r<i?r:i,s=m<s?m:s,a=r>a?r:a,o=m>o?m:o}this.minX=i,this.minY=s,this.maxX=a,this.maxY=o}containsPoint(e,t){return this.minX<=e&&this.minY<=t&&this.maxX>=e&&this.maxY>=t}toString(){return"[pixi.js:Bounds minX=".concat(this.minX," minY=").concat(this.minY," maxX=").concat(this.maxX," maxY=").concat(this.maxY," width=").concat(this.width," height=").concat(this.height,"]")}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}},6379:(e,t,n)=>{"use strict";function r(e,t,n,r,i){const{domElement:s,styleElement:a,svgRoot:o}=i;s.innerHTML="<style>".concat(t.cssStyle,"</style><div style='padding:0;'>").concat(e,"</div>"),s.setAttribute("style","transform: scale(".concat(n,");transform-origin: top left; display: inline-block")),a.textContent=r;const{width:l,height:c}=i.image;return o.setAttribute("width",l.toString()),o.setAttribute("height",c.toString()),(new XMLSerializer).serializeToString(o)}n.d(t,{e:()=>r})},6395:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r="attribute vec2 aVertex;\nattribute vec2 aUV;\nattribute vec4 aColor;\n\nattribute vec2 aPosition;\nattribute float aRotation;\n\nuniform mat3 uTranslationMatrix;\nuniform float uRound;\nuniform vec2 uResolution;\nuniform vec4 uColor;\n\nvarying vec2 vUV;\nvarying vec4 vColor;\n\nvec2 roundPixels(vec2 position, vec2 targetSize)\n{       \n    return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;\n}\n\nvoid main(void){\n    float cosRotation = cos(aRotation);\n    float sinRotation = sin(aRotation);\n    float x = aVertex.x * cosRotation - aVertex.y * sinRotation;\n    float y = aVertex.x * sinRotation + aVertex.y * cosRotation;\n\n    vec2 v = vec2(x, y);\n    v = v + aPosition;\n\n    gl_Position = vec4((uTranslationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    if(uRound == 1.0)\n    {\n        gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n    }\n\n    vUV = aUV;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a) * uColor;\n}\n"},6445:(e,t,n)=>{"use strict";n.d(t,{C:()=>d});var r=n(279),i=n(3224),s=n(446),a=n(7976),o=n(249),l=n(6258),c=n(7533),u=n(7170);function d(e,t){const n=(0,s.R)(e,e.VERTEX_SHADER,t.vertex),d=(0,s.R)(e,e.FRAGMENT_SHADER,t.fragment),h=e.createProgram();e.attachShader(h,n),e.attachShader(h,d);const p=t.transformFeedbackVaryings;p&&("function"!==typeof e.transformFeedbackVaryings?(0,r.R)("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(h,p.names,"separate"===p.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(h),e.getProgramParameter(h,e.LINK_STATUS)||(0,u.$)(e,h,n,d),t._attributeData=(0,o.A)(h,e,!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertex)),t._uniformData=(0,c.L)(h,e),t._uniformBlockData=(0,l.X)(h,e),e.deleteShader(n),e.deleteShader(d);const f={};for(const r in t._uniformData){const n=t._uniformData[r];f[r]={location:e.getUniformLocation(h,r),value:(0,a.J)(n.type,n.size)}}return new i.W(h,f)}},6481:(e,t,n)=>{"use strict";n.d(t,{J:()=>u});var r=n(1478),i=n(3596),s=n(1960),a=n(9385),o=n(2590),l=n(6650),c=n(6538);class u{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind(e){let{size:t,projectionMatrix:n,worldTransformMatrix:r,worldColor:l,offset:c}=e;const u=this._renderer.renderTarget.renderTarget,d=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:u,worldTransformMatrix:new i.u,worldColor:4294967295,offset:new s.b},h={projectionMatrix:n||this._renderer.renderTarget.projectionMatrix,resolution:t||u.size,worldTransformMatrix:r||d.worldTransformMatrix,worldColor:l||d.worldColor,offset:c||d.offset,bindGroup:null},p=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(p);const f=p.uniforms;let m;f.uProjectionMatrix=h.projectionMatrix,f.uResolution=h.resolution,f.uWorldTransformMatrix.copyFrom(h.worldTransformMatrix),f.uWorldTransformMatrix.tx-=h.offset.x,f.uWorldTransformMatrix.ty-=h.offset.y,(0,a.V)(h.worldColor,f.uWorldColorAlpha,0),p.update(),this._renderer.renderPipes.uniformBatch?m=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(p,!1):(m=this._bindGroupPool.pop()||new o.T,this._activeBindGroups.push(m),m.setResource(p,0)),h.bindGroup=m,this._currentGlobalUniformData=h}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===l.W.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new c.k({uProjectionMatrix:{value:new i.u,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new i.u,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null}}u.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem,r.Ag.CanvasSystem],name:"globalUniforms"}},6490:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(7051),i=n(1478),s=n(279),a=n(2559),o=n(7358),l=n(801),c=n(6717);const u={"point-list":0,"line-list":1,"line-strip":2,"triangle-list":3,"triangle-strip":4};class d{constructor(e){this._moduleCache=Object.create(null),this._bufferLayoutsCache=Object.create(null),this._bindingNamesCache=Object.create(null),this._pipeCache=Object.create(null),this._pipeStateCaches=Object.create(null),this._colorMask=15,this._multisampleCount=1,this._renderer=e}contextChange(e){this._gpu=e,this.setStencilMode(o.K.DISABLED),this._updatePipeHash()}setMultisampleCount(e){this._multisampleCount!==e&&(this._multisampleCount=e,this._updatePipeHash())}setRenderTarget(e){this._multisampleCount=e.msaaSamples,this._depthStencilAttachment=e.descriptor.depthStencilAttachment?1:0,this._updatePipeHash()}setColorMask(e){this._colorMask!==e&&(this._colorMask=e,this._updatePipeHash())}setStencilMode(e){this._stencilMode!==e&&(this._stencilMode=e,this._stencilState=c.g[e],this._updatePipeHash())}setPipeline(e,t,n,r){const i=this.getPipeline(e,t,n);r.setPipeline(i)}getPipeline(e,t,n,r){e._layoutKey||((0,a.q)(e,t.attributeData),this._generateBufferKey(e)),r||(r=e.topology);const i=function(e,t,n,r,i){return e<<24|t<<16|n<<10|r<<5|i}(e._layoutKey,t._layoutKey,n.data,n._blendModeId,u[r]);return this._pipeCache[i]||(this._pipeCache[i]=this._createPipeline(e,t,n,r)),this._pipeCache[i]}_createPipeline(e,t,n,i){const s=this._gpu.device,a=this._createVertexBufferLayouts(e,t),l=this._renderer.state.getColorTargets(n);l[0].writeMask=this._stencilMode===o.K.RENDERING_MASK_ADD?0:this._colorMask;const c=this._renderer.shader.getProgramData(t).pipeline,u={vertex:{module:this._getModule(t.vertex.source),entryPoint:t.vertex.entryPoint,buffers:a},fragment:{module:this._getModule(t.fragment.source),entryPoint:t.fragment.entryPoint,targets:l},primitive:{topology:i,cullMode:n.cullMode},layout:c,multisample:{count:this._multisampleCount},label:"PIXI Pipeline"};this._depthStencilAttachment&&(u.depthStencil=(0,r.A)((0,r.A)({},this._stencilState),{},{format:"depth24plus-stencil8",depthWriteEnabled:n.depthTest,depthCompare:n.depthTest?"less":"always"}));return s.createRenderPipeline(u)}_getModule(e){return this._moduleCache[e]||this._createModule(e)}_createModule(e){const t=this._gpu.device;return this._moduleCache[e]=t.createShaderModule({code:e}),this._moduleCache[e]}_generateBufferKey(e){const t=[];let n=0;const r=Object.keys(e.attributes).sort();for(let s=0;s<r.length;s++){const i=e.attributes[r[s]];t[n++]=i.offset,t[n++]=i.format,t[n++]=i.stride,t[n++]=i.instance}const i=t.join("|");return e._layoutKey=(0,l.X)(i,"geometry"),e._layoutKey}_generateAttributeLocationsKey(e){const t=[];let n=0;const r=Object.keys(e.attributeData).sort();for(let s=0;s<r.length;s++){const i=e.attributeData[r[s]];t[n++]=i.location}const i=t.join("|");return e._attributeLocationsKey=(0,l.X)(i,"programAttributes"),e._attributeLocationsKey}getBufferNamesToBind(e,t){const n=e._layoutKey<<16|t._attributeLocationsKey;if(this._bindingNamesCache[n])return this._bindingNamesCache[n];const r=this._createVertexBufferLayouts(e,t),i=Object.create(null),s=t.attributeData;for(let a=0;a<r.length;a++){const e=Object.values(r[a].attributes)[0].shaderLocation;for(const t in s)if(s[t].location===e){i[a]=t;break}}return this._bindingNamesCache[n]=i,i}_createVertexBufferLayouts(e,t){t._attributeLocationsKey||this._generateAttributeLocationsKey(t);const n=e._layoutKey<<16|t._attributeLocationsKey;if(this._bufferLayoutsCache[n])return this._bufferLayoutsCache[n];const r=[];return e.buffers.forEach(n=>{const i={arrayStride:0,stepMode:"vertex",attributes:[]},a=i.attributes;for(const r in t.attributeData){var o;const l=e.attributes[r];1!==(null!==(o=l.divisor)&&void 0!==o?o:1)&&(0,s.R)("Attribute ".concat(r," has an invalid divisor value of '").concat(l.divisor,"'. WebGPU only supports a divisor value of 1")),l.buffer===n&&(i.arrayStride=l.stride,i.stepMode=l.instance?"instance":"vertex",a.push({shaderLocation:t.attributeData[r].location,offset:l.offset,format:l.format}))}a.length&&r.push(i)}),this._bufferLayoutsCache[n]=r,r}_updatePipeHash(){const e=(t=this._stencilMode,n=this._multisampleCount,r=this._colorMask,i=this._depthStencilAttachment,r<<6|t<<3|i<<1|n);var t,n,r,i;this._pipeStateCaches[e]||(this._pipeStateCaches[e]=Object.create(null)),this._pipeCache=this._pipeStateCaches[e]}destroy(){this._renderer=null,this._bufferLayoutsCache=null}}d.extension={type:[i.Ag.WebGPUSystem],name:"pipeline"}},6493:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});var r=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(r||{})},6511:(e,t,n)=>{"use strict";n.d(t,{a:()=>u});var r=n(7051),i=n(4586),s=n(8671),a=n(1478),o=n(9471),l=n(3772);const c=class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.F;this._mobileInfo=t,this.debug=!1,this._activateOnTab=!0,this._deactivateOnMouseMove=!0,this._isActive=!1,this._isMobileAccessibility=!1,this._div=null,this._pool=[],this._renderId=0,this._children=[],this._androidUpdateCount=0,this._androidUpdateFrequency=500,this._hookDiv=null,(t.tablet||t.phone)&&this._createTouchHook(),this._renderer=e}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}get hookDiv(){return this._hookDiv}_createTouchHook(){const e=document.createElement("button");e.style.width="".concat(1,"px"),e.style.height="".concat(1,"px"),e.style.position="absolute",e.style.top="".concat(-1e3,"px"),e.style.left="".concat(-1e3,"px"),e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this._activate(),this._destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}_destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}_activate(){if(this._isActive)return;this._isActive=!0,this._div||(this._div=document.createElement("div"),this._div.style.position="absolute",this._div.style.top="".concat(0,"px"),this._div.style.left="".concat(0,"px"),this._div.style.pointerEvents="none",this._div.style.zIndex=2..toString(),this._canvasObserver=new i.B({domElement:this._div,renderer:this._renderer})),this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._deactivateOnMouseMove&&(this._onMouseMove=this._onMouseMove.bind(this),globalThis.document.addEventListener("mousemove",this._onMouseMove,!0));const e=this._renderer.view.canvas;if(e.parentNode)this._canvasObserver.ensureAttached(),this._initAccessibilitySetup();else{const t=new MutationObserver(()=>{e.parentNode&&(t.disconnect(),this._canvasObserver.ensureAttached(),this._initAccessibilitySetup())});t.observe(document.body,{childList:!0,subtree:!0})}}_initAccessibilitySetup(){this._renderer.runners.postrender.add(this),this._renderer.lastObjectRendered&&this._updateAccessibleObjects(this._renderer.lastObjectRendered)}_deactivate(){if(this._isActive&&!this._isMobileAccessibility){this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),this._activateOnTab&&globalThis.addEventListener("keydown",this._onKeyDown,!1),this._renderer.runners.postrender.remove(this);for(const e of this._children)e._accessibleDiv&&e._accessibleDiv.parentNode&&(e._accessibleDiv.parentNode.removeChild(e._accessibleDiv),e._accessibleDiv=null),e._accessibleActive=!1;this._pool.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this._div&&this._div.parentNode&&this._div.parentNode.removeChild(this._div),this._pool=[],this._children=[]}}_updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&(e._accessibleActive||this._addChild(e),e._renderId=this._renderId);const t=e.children;if(t)for(let n=0;n<t.length;n++)this._updateAccessibleObjects(t[n])}init(t){const n=e.defaultOptions,i={accessibilityOptions:(0,r.A)((0,r.A)({},n),(null===t||void 0===t?void 0:t.accessibilityOptions)||{})};this.debug=i.accessibilityOptions.debug,this._activateOnTab=i.accessibilityOptions.activateOnTab,this._deactivateOnMouseMove=i.accessibilityOptions.deactivateOnMouseMove,i.accessibilityOptions.enabledByDefault?this._activate():this._activateOnTab&&(this._onKeyDown=this._onKeyDown.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)),this._renderer.runners.postrender.remove(this)}postrender(){const e=performance.now();if(this._mobileInfo.android.device&&e<this._androidUpdateCount)return;if(this._androidUpdateCount=e+this._androidUpdateFrequency,!this._renderer.renderingToScreen||!this._renderer.view.canvas)return;const t=new Set;if(this._renderer.lastObjectRendered){this._updateAccessibleObjects(this._renderer.lastObjectRendered);for(const e of this._children)e._renderId===this._renderId&&t.add(this._children.indexOf(e))}for(let n=this._children.length-1;n>=0;n--){const e=this._children[n];t.has(n)||(e._accessibleDiv&&e._accessibleDiv.parentNode&&(e._accessibleDiv.parentNode.removeChild(e._accessibleDiv),this._pool.push(e._accessibleDiv),e._accessibleDiv=null),e._accessibleActive=!1,(0,l.d)(this._children,n,1))}this._renderer.renderingToScreen&&this._canvasObserver.ensureAttached();for(let n=0;n<this._children.length;n++){const e=this._children[n];if(!e._accessibleActive||!e._accessibleDiv)continue;const t=e._accessibleDiv,r=e.hitArea||e.getBounds().rectangle;if(e.hitArea){const n=e.worldTransform;t.style.left="".concat(n.tx+r.x*n.a,"px"),t.style.top="".concat(n.ty+r.y*n.d,"px"),t.style.width="".concat(r.width*n.a,"px"),t.style.height="".concat(r.height*n.d,"px")}else this._capHitArea(r),t.style.left="".concat(r.x,"px"),t.style.top="".concat(r.y,"px"),t.style.width="".concat(r.width,"px"),t.style.height="".concat(r.height,"px")}this._renderId++}_updateDebugHTML(e){e.innerHTML="type: ".concat(e.type,"</br> title : ").concat(e.title,"</br> tabIndex: ").concat(e.tabIndex)}_capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:t,height:n}=this._renderer;e.x+e.width>t&&(e.width=t-e.x),e.y+e.height>n&&(e.height=n-e.y)}_addChild(e){let t=this._pool.pop();t||("button"===e.accessibleType?t=document.createElement("button"):(t=document.createElement(e.accessibleType),t.style.cssText="\n                        color: transparent;\n                        pointer-events: none;\n                        padding: 0;\n                        margin: 0;\n                        border: 0;\n                        outline: 0;\n                        background: transparent;\n                        box-sizing: border-box;\n                        user-select: none;\n                        -webkit-user-select: none;\n                        -moz-user-select: none;\n                        -ms-user-select: none;\n                    ",e.accessibleText&&(t.innerText=e.accessibleText)),t.style.width="".concat(100,"px"),t.style.height="".concat(100,"px"),t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="container ".concat(e.tabIndex)),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this._updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.container=e,this._children.push(e),this._div.appendChild(e._accessibleDiv),e.interactive&&(e._accessibleDiv.tabIndex=e.tabIndex)}_dispatchEvent(e,t){const{container:n}=e.target,r=this._renderer.events.rootBoundary,i=Object.assign(new s.N(r),{target:n});r.rootTarget=this._renderer.lastObjectRendered,t.forEach(e=>r.dispatchEvent(i,e))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){9===e.keyCode&&this._activateOnTab&&this._activate()}_onMouseMove(e){0===e.movementX&&0===e.movementY||this._deactivate()}destroy(){var e;this._deactivate(),this._destroyTouchHook(),null===(e=this._canvasObserver)||void 0===e||e.destroy(),this._canvasObserver=null,this._div=null,this._pool=null,this._children=null,this._renderer=null,this._activateOnTab&&globalThis.removeEventListener("keydown",this._onKeyDown)}setAccessibilityEnabled(e){e?this._activate():this._deactivate()}};c.extension={type:[a.Ag.WebGLSystem,a.Ag.WebGPUSystem],name:"accessibility"},c.defaultOptions={enabledByDefault:!1,debug:!1,activateOnTab:!0,deactivateOnMouseMove:!0};let u=c},6515:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=n(1478),i=n(9194),s=n(5113),a=n(6663);class o extends i.W{constructor(){super({createUboElements:s.l,generateUboSync:a.N})}}o.extension={type:[r.Ag.WebGLSystem],name:"ubo"}},6538:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var r=n(7051),i=n(2026),s=n(801),a=n(3702),o=n(9705);const l=class e{constructor(t,n){this._touched=0,this.uid=(0,i.L)("uniform"),this._resourceType="uniformGroup",this._resourceId=(0,i.L)("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n=(0,r.A)((0,r.A)({},e.defaultOptions),n),this.uniformStructures=t;const l={};for(const e in t){var c,u;const n=t[e];if(n.name=e,n.size=null!==(c=n.size)&&void 0!==c?c:1,!a._[n.type])throw new Error("Uniform type ".concat(n.type," is not supported. Supported uniform types are: ").concat(a.q.join(", ")));null!==(u=n.value)&&void 0!==u||(n.value=(0,o.p)(n.type,n.size)),l[e]=n.value}this.uniforms=l,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=(0,s.X)(Object.keys(l).map(e=>"".concat(e,"-").concat(t[e].type)).join("-"),"uniform-group")}update(){this._dirtyId++}};l.defaultOptions={ubo:!1,isStatic:!1};let c=l},6574:(e,t,n)=>{"use strict";var r=n(1478),i=n(8984);r.XO.add(i.N)},6595:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(3693);function i(e,t){const{texture:n,bounds:i}=e,s=t._style._getFinalPadding();(0,r.y)(i,t._anchor,n);const a=t._anchor._x*s*2,o=t._anchor._y*s*2;i.minX-=s-a,i.minY-=s-o,i.maxX-=s-a,i.maxY-=s-o}},6650:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=(e=>(e[e.WEBGL=1]="WEBGL",e[e.WEBGPU=2]="WEBGPU",e[e.BOTH=3]="BOTH",e))(r||{})},6663:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(7526),i=n(4709),s=n(7059);function a(e){return(0,r.E)(e,"uboStd40",s.D,i.g)}},6717:(e,t,n)=>{"use strict";n.d(t,{g:()=>i});var r=n(7358);const i=[];i[r.K.NONE]=void 0,i[r.K.DISABLED]={stencilWriteMask:0,stencilReadMask:0},i[r.K.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}},i[r.K.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}},i[r.K.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}},i[r.K.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"keep"},stencilBack:{compare:"not-equal",passOp:"keep"}}},6783:(e,t,n)=>{"use strict";n.d(t,{h:()=>i});var r=n(9121);const i={type:"video",upload(e,t,n){r.d.upload(e,t,n)}}},6850:(e,t,n)=>{"use strict";function r(e,t){return t?"#version 300 es\n".concat(e):e}n.d(t,{W:()=>r})},6857:(e,t,n)=>{"use strict";n.d(t,{u:()=>s});const r=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function i(e){let t="";for(let n=0;n<e;++n)n>0&&(t+="\nelse "),n<e-1&&(t+="if(test == ".concat(n,".0){}"));return t}function s(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const s=r.replace(/%forloop%/gi,i(e));if(t.shaderSource(n,s),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS))break;e=e/2|0}}finally{t.deleteShader(n)}return e}},6876:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s,a){let o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=0;n*=t,i*=s;const c=o.a,u=o.b,d=o.c,h=o.d,p=o.tx,f=o.ty;for(;l<a;){const a=e[n],o=e[n+1];r[i]=c*a+d*o+p,r[i+1]=u*a+h*o+f,i+=s,n+=t,l++}}function i(e,t,n,r){let i=0;for(t*=n;i<r;)e[t]=0,e[t+1]=0,t+=n,i++}n.d(t,{D:()=>i,X:()=>r})},6887:(e,t,n)=>{"use strict";n.d(t,{TO:()=>r,Td:()=>s,bO:()=>i});const r=2*Math.PI,i=180/Math.PI,s=Math.PI/180},6899:(e,t,n)=>{var r=n(3699);r.DOMImplementation,r.XMLSerializer,t.DOMParser=n(5739).DOMParser},6904:(e,t,n)=>{"use strict";n.d(t,{v:()=>u});var r=n(7051),i=n(2604),s=n(8186),a=n(4841),o=n(2026),l=n(879);const c=class e extends i.A{constructor(){var t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i,s;(super(),this.options=n,this.uid=(0,o.L)("textureSource"),this._resourceType="textureSource",this._resourceId=(0,o.L)("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,n=(0,r.A)((0,r.A)({},e.defaultOptions),n),this.label=null!==(t=n.label)&&void 0!==t?t:"",this.resource=n.resource,this.autoGarbageCollect=n.autoGarbageCollect,this._resolution=n.resolution,n.width)?this.pixelWidth=n.width*this._resolution:this.pixelWidth=this.resource&&null!==(i=this.resourceWidth)&&void 0!==i?i:1;n.height?this.pixelHeight=n.height*this._resolution:this.pixelHeight=this.resource&&null!==(s=this.resourceHeight)&&void 0!==s?s:1;this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=n.format,this.dimension=n.dimensions,this.mipLevelCount=n.mipLevelCount,this.autoGenerateMipmaps=n.autoGenerateMipmaps,this.sampleCount=n.sampleCount,this.antialias=n.antialias,this.alphaMode=n.alphaMode,this.style=new l.n((0,a.S)(n)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){var t,n;this.style!==e&&(null===(t=this._style)||void 0===t||t.off("change",this._onStyleChange,this),this._style=e,null===(n=this._style)||void 0===n||n.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=(0,o.L)("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,t,n){n||(n=this._resolution),e||(e=this.width),t||(t=this.height);const r=Math.round(e*n),i=Math.round(t*n);return this.width=r/n,this.height=i/n,this._resolution=n,(this.pixelWidth!==r||this.pixelHeight!==i)&&(this._refreshPOT(),this.pixelWidth=r,this.pixelHeight=i,this.emit("resize",this),this._resourceId=(0,o.L)("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=(0,s.f3)(this.pixelWidth)&&(0,s.f3)(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};c.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let u=c},6922:(e,t,n)=>{"use strict";n.d(t,{V:()=>i,f:()=>r});const r={i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},f16:{align:2,size:2},"vec2<i32>":{align:8,size:8},"vec2<u32>":{align:8,size:8},"vec2<f32>":{align:8,size:8},"vec2<f16>":{align:4,size:4},"vec3<i32>":{align:16,size:12},"vec3<u32>":{align:16,size:12},"vec3<f32>":{align:16,size:12},"vec3<f16>":{align:8,size:6},"vec4<i32>":{align:16,size:16},"vec4<u32>":{align:16,size:16},"vec4<f32>":{align:16,size:16},"vec4<f16>":{align:8,size:8},"mat2x2<f32>":{align:8,size:16},"mat2x2<f16>":{align:4,size:8},"mat3x2<f32>":{align:8,size:24},"mat3x2<f16>":{align:4,size:12},"mat4x2<f32>":{align:8,size:32},"mat4x2<f16>":{align:4,size:16},"mat2x3<f32>":{align:16,size:32},"mat2x3<f16>":{align:8,size:16},"mat3x3<f32>":{align:16,size:48},"mat3x3<f16>":{align:8,size:24},"mat4x3<f32>":{align:16,size:64},"mat4x3<f16>":{align:8,size:32},"mat2x4<f32>":{align:16,size:32},"mat2x4<f16>":{align:8,size:16},"mat3x4<f32>":{align:16,size:48},"mat3x4<f16>":{align:8,size:24},"mat4x4<f32>":{align:16,size:64},"mat4x4<f16>":{align:8,size:32}};function i(e){const t=e.map(e=>({data:e,offset:0,size:0}));let n=0;for(let i=0;i<t.length;i++){const e=t[i];let s=r[e.data.type].size;const a=r[e.data.type].align;if(!r[e.data.type])throw new Error("[Pixi.js] WebGPU UniformBuffer: Unknown type ".concat(e.data.type));e.data.size>1&&(s=Math.max(s,a)*e.data.size),n=Math.ceil(n/a)*a,e.size=s,e.offset=n,n+=s}return n=16*Math.ceil(n/16),{uboElements:t,size:n}}},6933:(e,t,n)=>{"use strict";n.d(t,{T1:()=>c,e9:()=>u,s8:()=>l});var r=n(7385),i=n(4985),s=n(1686);const a=new r.mc,o=r.fR|r.ig|r.u;function l(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c(e);const n=e.childrenToUpdate,r=e.updateTick++;for(const s in n){const t=Number(s),a=n[s],o=a.list,l=a.index;for(let n=0;n<l;n++){const i=o[n];i.parentRenderGroup===e&&i.relativeRenderGroupDepth===t&&u(i,r,0)}(0,i.a)(o,l),a.index=0}if(t)for(let i=0;i<e.renderGroupChildren.length;i++)l(e.renderGroupChildren[i],t)}function c(e){const t=e.root;let n;if(e.renderGroupParent){const r=e.renderGroupParent;e.worldTransform.appendFrom(t.relativeGroupTransform,r.worldTransform),e.worldColor=(0,s.j)(t.groupColor,r.worldColor),n=t.groupAlpha*r.worldAlpha}else e.worldTransform.copyFrom(t.localTransform),e.worldColor=t.localColor,n=t.localAlpha;n=n<0?0:n>1?1:n,e.worldAlpha=n,e.worldColorAlpha=e.worldColor+(255*n<<24)}function u(e,t,n){if(t===e.updateTick)return;e.updateTick=t,e.didChange=!1;const r=e.localTransform;e.updateLocalTransform();const i=e.parent;if(i&&!i.renderGroup?(n|=e._updateFlags,e.relativeGroupTransform.appendFrom(r,i.relativeGroupTransform),n&o&&d(e,i,n)):(n=e._updateFlags,e.relativeGroupTransform.copyFrom(r),n&o&&d(e,a,n)),!e.renderGroup){const r=e.children,i=r.length;for(let e=0;e<i;e++)u(r[e],t,n);const s=e.parentRenderGroup,a=e;a.renderPipeId&&!s.structureDidChange&&s.updateRenderable(a)}}function d(e,t,n){if(n&r.ig){e.groupColor=(0,s.j)(e.localColor,t.groupColor);let n=e.localAlpha*t.groupAlpha;n=n<0?0:n>1?1:n,e.groupAlpha=n,e.groupColorAlpha=e.groupColor+(255*n<<24)}n&r.u&&(e.groupBlendMode="inherit"===e.localBlendMode?t.groupBlendMode:e.localBlendMode),n&r.fR&&(e.globalDisplayStatus=e.localDisplayStatus&t.globalDisplayStatus),e._updateFlags=0}},6938:(e,t,n)=>{"use strict";var r=n(1478),i=n(8700),s=n(8140),a=n(7740),o=n(5852),l=n(5937),c=n(3682),u=n(5368);n(9258);r.XO.add(i.Z,s.W,a.r,u.$,c.b,l.q,o.P)},6978:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});class r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=t,this.priority=n,this._once=r}match(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fn===e&&this._context===t}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const t=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}},7015:(e,t,n)=>{"use strict";function r(e,t){return t?e.replace("#version 300 es",""):e}n.d(t,{h:()=>r})},7044:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});const r={},i={};function s(e,t){let{name:n="pixi-program"}=t,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n=n.replace(/\s+/g,"-"),n+=s?"-fragment":"-vertex";const a=s?r:i;if(a[n]?(a[n]++,n+="-".concat(a[n])):a[n]=1,-1!==e.indexOf("#define SHADER_NAME"))return e;const o="#define SHADER_NAME ".concat(n);return"".concat(o,"\n").concat(e)}},7051:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(9526);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},7054:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});var r=n(1478),i=n(576),s=n(3662);class a{constructor(){this.defaultState=new i.U,this.defaultState.blend=!0}contextChange(e){this.gpu=e}getColorTargets(e){return[{format:"bgra8unorm",writeMask:0,blend:s.X[e.blendMode]||s.X.normal}]}destroy(){this.gpu=null}}a.extension={type:[r.Ag.WebGPUSystem],name:"state"}},7059:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(5113);function i(e,t){const n=Math.max(r.K[e.data.type]/16,1),i=e.data.value.length/e.data.size,s=(4-i%4)%4,a=e.data.type.indexOf("i32")>=0?"dataInt32":"data";return"\n        v = uv.".concat(e.data.name,";\n        offset += ").concat(t,";\n\n        arrayOffset = offset;\n\n        t = 0;\n\n        for(var i=0; i < ").concat(e.data.size*n,"; i++)\n        {\n            for(var j = 0; j < ").concat(i,"; j++)\n            {\n                ").concat(a,"[arrayOffset++] = v[t++];\n            }\n            ").concat(0!==s?"arrayOffset += ".concat(s,";"):"","\n        }\n    ")}},7070:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(4811),i=n(2512),s=n(4307);class a{constructor(){this.type="polygon";for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=Array.isArray(t[0])?t[0]:t;if("number"!==typeof r[0]){const e=[];for(let t=0,n=r.length;t<n;t++)e.push(r[t].x,r[t].y);r=e}this.points=r,this.closePath=!0}isClockwise(){let e=0;const t=this.points,n=t.length;for(let r=0;r<n;r+=2){const i=t[r],s=t[r+1];e+=(t[(r+2)%n]-i)*(t[(r+3)%n]+s)}return e<0}containsPolygon(e){const t=this.getBounds(undefined),n=e.getBounds(undefined);if(!t.containsRect(n))return!1;const r=e.points;for(let i=0;i<r.length;i+=2){const e=r[i],t=r[i+1];if(!this.contains(e,t))return!1}return!0}clone(){const e=this.points.slice(),t=new a(e);return t.closePath=this.closePath,t}contains(e,t){let n=!1;const r=this.points.length/2;for(let i=0,s=r-1;i<r;s=i++){const r=this.points[2*i],a=this.points[2*i+1],o=this.points[2*s],l=this.points[2*s+1];a>t!==l>t&&e<(t-a)/(l-a)*(o-r)+r&&(n=!n)}return n}strokeContains(e,t,n){const r=n*n,s=r*(1-(arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5)),a=r-s,{points:o}=this,l=o.length-(this.closePath?0:2);for(let c=0;c<l;c+=2){const n=o[c],r=o[c+1],l=o[(c+2)%o.length],u=o[(c+3)%o.length];if((0,i.z)(e,t,n,r,l,u)<=(Math.sign((l-n)*(t-r)-(u-r)*(e-n))<0?a:s))return!0}return!1}getBounds(e){e||(e=new s.M);const t=this.points;let n=1/0,r=-1/0,i=1/0,a=-1/0;for(let s=0,o=t.length;s<o;s+=2){const e=t[s],o=t[s+1];n=e<n?e:n,r=e>r?e:r,i=o<i?o:i,a=o>a?o:a}return e.x=n,e.width=r-n,e.y=i,e.height=a-i,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return"[pixi.js/math:PolygoncloseStroke=".concat(this.closePath,"points=").concat(this.points.reduce((e,t)=>"".concat(e,", ").concat(t),""),"]")}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return(0,r.t6)("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return(0,r.t6)("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}},7078:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var r=n(5242),i=n(279),s=n(4325),a=n(1750);function o(e,t){const n=e.querySelectorAll("defs");for(let r=0;r<n.length;r++){const e=n[r];for(let n=0;n<e.children.length;n++){const r=e.children[n];switch(r.nodeName.toLowerCase()){case"lineargradient":t.defs[r.id]=l(r);break;case"radialgradient":t.defs[r.id]=c(r)}}}}function l(e){const t=(0,a.I)(e,"x1",0),n=(0,a.I)(e,"y1",0),i=(0,a.I)(e,"x2",1),o=(0,a.I)(e,"y2",0),l=e.getAttribute("gradientUnits")||"objectBoundingBox",c=new s._(t,n,i,o,"objectBoundingBox"===l?"local":"global");for(let s=0;s<e.children.length;s++){const t=e.children[s],n=(0,a.I)(t,"offset",0),i=r.Q.shared.setValue(t.getAttribute("stop-color")).toNumber();c.addColorStop(n,i)}return c}function c(e){return(0,i.R)("[SVG Parser] Radial gradients are not yet supported"),new s._(0,0,1,0)}},7170:(e,t,n)=>{"use strict";function r(e,t){const n=e.getShaderSource(t).split("\n").map((e,t)=>"".concat(t,": ").concat(e)),r=e.getShaderInfoLog(t),i=r.split("\n"),s={},a=i.map(e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(e=>!(!e||s[e])&&(s[e]=!0,!0)),o=[""];a.forEach(e=>{n[e-1]="%c".concat(n[e-1],"%c"),o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=n.join("\n");o[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...o),console.groupEnd()}function i(e,t,n,i){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(n,e.COMPILE_STATUS)||r(e,n),e.getShaderParameter(i,e.COMPILE_STATUS)||r(e,i),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}n.d(t,{$:()=>i})},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function y(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,O(S);else{var t=r(u);null!==t&&I(y,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,b(E),E=-1),f=!0;var s=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!M());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&I(y,d.startTime-n),l=!1}return l}finally{h=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var T,w=!1,A=null,E=-1,C=5,R=-1;function M(){return!(t.unstable_now()-R<C)}function P(){if(null!==A){var e=t.unstable_now();R=e;var n=!0;try{n=A(!0,e)}finally{n?T():(w=!1,A=null)}}else w=!1}if("function"===typeof _)T=function(){_(P)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,B=k.port2;k.port1.onmessage=P,T=function(){B.postMessage(null)}}else T=function(){v(P,0)};function O(e){A=e,w||(w=!0,T())}function I(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(E),E=-1):g=!0,I(y,s-a))):(e.sortIndex=o,n(c,e),m||f||(m=!0,O(S))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7301:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(9914),i=n(1478);class s{constructor(e){this._renderer=e}async init(e){return this._initPromise||(this._initPromise=(e.gpu?Promise.resolve(e.gpu):this._createDeviceAndAdaptor(e)).then(e=>{this.gpu=e,this._renderer.runners.contextChange.emit(this.gpu)})),this._initPromise}contextChange(e){this._renderer.gpu=e}async _createDeviceAndAdaptor(e){const t=await r.e.get().getNavigator().gpu.requestAdapter({powerPreference:e.powerPreference,forceFallbackAdapter:e.forceFallbackAdapter}),n=["texture-compression-bc","texture-compression-astc","texture-compression-etc2"].filter(e=>t.features.has(e)),i=await t.requestDevice({requiredFeatures:n});return{adapter:t,device:i}}destroy(){this.gpu=null,this._renderer=null}}s.extension={type:[i.Ag.WebGPUSystem],name:"device"},s.defaultOptions={powerPreference:void 0,forceFallbackAdapter:!1}},7338:(e,t,n)=>{"use strict";function r(e,t){const n=t.fontFamily,r=[],i={},s=e.match(/font-family:([^;"\s]+)/g);function a(e){i[e]||(r.push(e),i[e]=!0)}if(Array.isArray(n))for(let o=0;o<n.length;o++)a(n[o]);else a(n);s&&s.forEach(e=>{a(e.split(":")[1].trim())});for(const o in t.tagStyles){a(t.tagStyles[o].fontFamily)}return r}n.d(t,{F:()=>r})},7349:(e,t,n)=>{"use strict";n.d(t,{L:()=>i});var r=n(1478);class i{constructor(e){this._renderer=e}push(e,t,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",canBundle:!1,action:"pushFilter",container:t,filterEffect:e})}pop(e,t,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}execute(e){"pushFilter"===e.action?this._renderer.filter.push(e):"popFilter"===e.action&&this._renderer.filter.pop()}destroy(){this._renderer=null}}i.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"filter"}},7358:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,Q:()=>r});const r={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var i=(e=>(e[e.DISABLED=0]="DISABLED",e[e.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",e[e.MASK_ACTIVE=2]="MASK_ACTIVE",e[e.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",e[e.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",e[e.NONE=5]="NONE",e))(i||{})},7381:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,_:()=>r});const r={name:"msdf-bit",fragment:{header:"\n            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {\n\n                // MSDF\n                var median = msdfColor.r + msdfColor.g + msdfColor.b -\n                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n\n                // SDF\n                median = min(median, msdfColor.a);\n\n                var screenPxDistance = distance * (median - 0.5);\n                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));\n                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);\n                var coverage: f32 = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n\n            }\n        "}},i={name:"msdf-bit",fragment:{header:"\n            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {\n\n                // MSDF\n                float median = msdfColor.r + msdfColor.g + msdfColor.b -\n                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n\n                // SDF\n                median = min(median, msdfColor.a);\n\n                float screenPxDistance = distance * (median - 0.5);\n                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));\n                float gamma = mix(1.0, 1.0 / 2.2, luma);\n                float coverage = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n            }\n        "}}},7385:(e,t,n)=>{"use strict";n.d(t,{fR:()=>O,ig:()=>k,mc:()=>F,ne:()=>I,u:()=>B});var r=n(2604),i=n(5242),s=n(3375),a=n(1478),o=n(3596),l=n(6887),c=n(4973),u=n(2026),d=n(4811),h=n(279),p=n(9769),f=n(119),m=n(5681),g=n(9921),v=n(3226),b=n(4445),_=n(616),x=n(3499),y=n(1364),S=n(9447),T=n(4854),w=n(9667),A=n(1329),E=n(9787);const C=new c.o(null),R=new c.o(null),M=new c.o(null,1,1),P=new c.o(null),k=1,B=2,O=4,I=8;class F extends r.A{constructor(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.uid=(0,u.L)("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new o.u,this.relativeGroupTransform=new o.u,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new c.o(this,0,0),this._scale=M,this._pivot=R,this._origin=P,this._skew=C,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],(0,E.s)(this,n,{children:!0,parent:!0,effects:!0}),null===(e=n.children)||void 0===e||e.forEach(e=>this.addChild(e)),null===(t=n.parent)||void 0===t||t.addChild(this)}static mixin(e){(0,d.t6)("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),a.XO.mixin(F,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=4095&e}get _didChangeId(){return 4095&this._didContainerChangeTick|(4095&this._didViewChangeTick)<<12}addChild(){if(this.allowChildren||(0,d.t6)(d.lj,"addChild: Only Containers will be allowed to add children in v8.0.0"),arguments.length>1){for(let e=0;e<arguments.length;e++)this.addChild(e<0||arguments.length<=e?void 0:arguments[e]);return arguments.length<=0?void 0:arguments[0]}const e=arguments.length<=0?void 0:arguments[0],t=this.renderGroup||this.parentRenderGroup;return e.parent===this?(this.children.splice(this.children.indexOf(e),1),this.children.push(e),t&&(t.structureDidChange=!0),e):(e.parent&&e.parent.removeChild(e),this.children.push(e),this.sortableChildren&&(this.sortDirty=!0),e.parent=this,e.didChange=!0,e._updateFlags=15,t&&t.addChild(e),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this),this._didViewChangeTick++,0!==e._zIndex&&e.depthOfChildModified(),e)}removeChild(){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.removeChild(e<0||arguments.length<=e?void 0:arguments[e]);return arguments.length<=0?void 0:arguments[0]}const e=arguments.length<=0?void 0:arguments[0],t=this.children.indexOf(e);return t>-1&&(this._didViewChangeTick++,this.children.splice(t,1),this.renderGroup?this.renderGroup.removeChild(e):this.parentRenderGroup&&this.parentRenderGroup.removeChild(e),e.parentRenderLayer&&e.parentRenderLayer.detach(e),e.parent=null,this.emit("childRemoved",e,this,t),e.emit("removed",this)),e}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,this.didChange||(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;null===e||void 0===e||e.removeChild(this),this.renderGroup=p.Z.get(A.m,this),this.groupTransform=o.u.IDENTITY,null===e||void 0===e||e.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;null===e||void 0===e||e.removeChild(this),p.Z.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,null===e||void 0===e||e.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&0===this.effects.length}get worldTransform(){return this._worldTransform||(this._worldTransform=new o.u),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*l.bO}set angle(e){this.rotation=e*l.Td}get pivot(){return this._pivot===R&&(this._pivot=new c.o(this,0,0)),this._pivot}set pivot(e){this._pivot===R&&(this._pivot=new c.o(this,0,0),this._origin!==P&&(0,h.R)("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),"number"===typeof e?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===C&&(this._skew=new c.o(this,0,0)),this._skew}set skew(e){this._skew===C&&(this._skew=new c.o(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===M&&(this._scale=new c.o(this,1,1)),this._scale}set scale(e){this._scale===M&&(this._scale=new c.o(this,0,0)),"string"===typeof e&&(e=parseFloat(e)),"number"===typeof e?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===P&&(this._origin=new c.o(this,0,0)),this._origin}set origin(e){this._origin===P&&(this._origin=new c.o(this,0,0),this._pivot!==R&&(0,h.R)("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),"number"===typeof e?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const t=this.getLocalBounds().width;this._setWidth(e,t)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const t=this.getLocalBounds().height;this._setHeight(e,t)}getSize(e){e||(e={});const t=this.getLocalBounds();return e.width=Math.abs(this.scale.x*t.width),e.height=Math.abs(this.scale.y*t.height),e}setSize(e,t){const n=this.getLocalBounds();var r;"object"===typeof e?(t=null!==(r=e.height)&&void 0!==r?r:e.width,e=e.width):null!==t&&void 0!==t||(t=e);void 0!==e&&this._setWidth(e,n.width),void 0!==t&&this._setHeight(t,n.height)}_updateSkew(){const e=this._rotation,t=this._skew;this._cx=Math.cos(e+t._y),this._sx=Math.sin(e+t._y),this._cy=-Math.sin(e-t._x),this._sy=Math.cos(e-t._x)}updateTransform(e){return this.position.set("number"===typeof e.x?e.x:this.position.x,"number"===typeof e.y?e.y:this.position.y),this.scale.set("number"===typeof e.scaleX?e.scaleX||1:this.scale.x,"number"===typeof e.scaleY?e.scaleY||1:this.scale.y),this.rotation="number"===typeof e.rotation?e.rotation:this.rotation,this.skew.set("number"===typeof e.skewX?e.skewX:this.skew.x,"number"===typeof e.skewY?e.skewY:this.skew.y),this.pivot.set("number"===typeof e.pivotX?e.pivotX:this.pivot.x,"number"===typeof e.pivotY?e.pivotY:this.pivot.y),this.origin.set("number"===typeof e.originX?e.originX:this.origin.x,"number"===typeof e.originY?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const t=this.localTransform,n=this._scale,r=this._pivot,i=this._origin,s=this._position,a=n._x,o=n._y,l=r._x,c=r._y,u=-i._x,d=-i._y;t.a=this._cx*a,t.b=this._sx*a,t.c=this._cy*o,t.d=this._sy*o,t.tx=s._x-(l*t.a+c*t.c)+(u*t.a+d*t.c)-u,t.ty=s._y-(l*t.b+c*t.d)+(u*t.b+d*t.d)-d}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=k,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const t=i.Q.shared.setValue(null!==e&&void 0!==e?e:16777215).toBgrNumber();t!==this.localColor&&(this.localColor=t,this._updateFlags|=k,this._onUpdate())}get tint(){return(0,x.D)(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=B,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(2&this.localDisplayStatus)}set visible(e){const t=e?2:0;(2&this.localDisplayStatus)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=O,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(4&this.localDisplayStatus)}set culled(e){const t=e?0:4;(4&this.localDisplayStatus)!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=O,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(1&this.localDisplayStatus)}set renderable(e){const t=e?1:0;(1&this.localDisplayStatus)!==t&&(this._updateFlags|=O,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return 7===this.localDisplayStatus&&this.groupAlpha>0}destroy(){var e;let t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.destroyed)return;this.destroyed=!0,this.children.length&&(t=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners();if(("boolean"===typeof n?n:null===n||void 0===n?void 0:n.children)&&t)for(let r=0;r<t.length;++r)t[r].destroy(n);null===(e=this.renderGroup)||void 0===e||e.destroy(),this.renderGroup=null}}a.XO.mixin(F,m.l,_.Y,w.P,S.D,y.i,v.m,b.t,T.I,s.E,f.b,x.R,g.J)},7393:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});const r={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function i(e){var t;return null!==(t=r[e])&&void 0!==t?t:r.float32}},7422:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=(e=>(e[e.NONE=0]="NONE",e[e.COLOR=16384]="COLOR",e[e.STENCIL=1024]="STENCIL",e[e.DEPTH=256]="DEPTH",e[e.COLOR_DEPTH=16640]="COLOR_DEPTH",e[e.COLOR_STENCIL=17408]="COLOR_STENCIL",e[e.DEPTH_STENCIL=1280]="DEPTH_STENCIL",e[e.ALL=17664]="ALL",e))(r||{})},7452:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var r=n(87);let i;function s(){if(!i){i="mediump";const e=(0,r.W)();if(e&&e.getShaderPrecisionFormat){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);i=t.precision?"highp":"mediump"}}return i}},7523:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(1478),i=n(6717),s=n(7358);class a{constructor(e){this._stencilCache={enabled:!1,stencilReference:0,stencilMode:s.K.NONE},this._renderTargetStencilState=Object.create(null),e.renderTarget.onRenderTargetChange.add(this)}contextChange(e){this._gl=e,this._comparisonFuncMapping={always:e.ALWAYS,never:e.NEVER,equal:e.EQUAL,"not-equal":e.NOTEQUAL,less:e.LESS,"less-equal":e.LEQUAL,greater:e.GREATER,"greater-equal":e.GEQUAL},this._stencilOpsMapping={keep:e.KEEP,zero:e.ZERO,replace:e.REPLACE,invert:e.INVERT,"increment-clamp":e.INCR,"decrement-clamp":e.DECR,"increment-wrap":e.INCR_WRAP,"decrement-wrap":e.DECR_WRAP},this.resetState()}onRenderTargetChange(e){if(this._activeRenderTarget===e)return;this._activeRenderTarget=e;let t=this._renderTargetStencilState[e.uid];t||(t=this._renderTargetStencilState[e.uid]={stencilMode:s.K.DISABLED,stencilReference:0}),this.setStencilMode(t.stencilMode,t.stencilReference)}resetState(){this._stencilCache.enabled=!1,this._stencilCache.stencilMode=s.K.NONE,this._stencilCache.stencilReference=0}setStencilMode(e,t){const n=this._renderTargetStencilState[this._activeRenderTarget.uid],r=this._gl,a=i.g[e],o=this._stencilCache;n.stencilMode=e,n.stencilReference=t,e!==s.K.DISABLED?(this._stencilCache.enabled||(this._stencilCache.enabled=!0,r.enable(r.STENCIL_TEST)),e===o.stencilMode&&o.stencilReference===t||(o.stencilMode=e,o.stencilReference=t,r.stencilFunc(this._comparisonFuncMapping[a.stencilBack.compare],t,255),r.stencilOp(r.KEEP,r.KEEP,this._stencilOpsMapping[a.stencilBack.passOp]))):this._stencilCache.enabled&&(this._stencilCache.enabled=!1,r.disable(r.STENCIL_TEST))}}a.extension={type:[r.Ag.WebGLSystem],name:"stencil"}},7526:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(8517);function i(e,t,n,i){const s=["\n        var v = null;\n        var v2 = null;\n        var t = 0;\n        var index = 0;\n        var name = null;\n        var arrayOffset = null;\n    "];let a=0;for(let l=0;l<e.length;l++){const o=e[l],c=o.data.name;let u=!1,d=0;for(let e=0;e<r.$.length;e++){if(r.$[e].test(o.data)){d=o.offset/4,s.push('name = "'.concat(c,'";'),"offset += ".concat(d-a,";"),r.$[e][t]||r.$[e].ubo),u=!0;break}}if(!u)if(o.data.size>1)d=o.offset/4,s.push(n(o,d-a));else{const e=i[o.data.type];d=o.offset/4,s.push("\n                    v = uv.".concat(c,";\n                    offset += ").concat(d-a,";\n                    ").concat(e,";\n                "))}a=d}const o=s.join("\n");return new Function("uv","data","dataInt32","offset",o)}},7533:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var r=n(7976),i=n(1447);function s(e,t){const n={},s=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let a=0;a<s;a++){const s=t.getActiveUniform(e,a),o=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),c=(0,i.H)(t,s.type);n[o]={name:o,index:a,type:c,size:s.size,isArray:l,value:(0,r.J)(c,s.size)}}return n}},7539:(e,t,n)=>{"use strict";n.d(t,{k:()=>p});var r=n(1478),i=n(3596),s=n(6220),a=n(3144),o=n(1193),l=n(454),c=n(4994),u=n(9963),d=n(3636),h=n(6538);class p{contextChange(e){const t=new h.k({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new i.u,type:"mat3x3<f32>"},uRound:{value:0,type:"f32"}}),n=e.limits.maxBatchableTextures,r=(0,s.I)({name:"graphics",bits:[a.a,(0,o.P)(n),l.mA,c.m]});this.shader=new d.M({glProgram:r,resources:{localUniforms:t,batchSamplers:(0,u.n)(n)}})}execute(e,t){const n=t.context,r=n.customShader||this.shader,i=e.renderer,s=i.graphicsContext,{batcher:a,instructions:o}=s.getContextRenderData(n);r.groups[0]=i.globalUniforms.bindGroup,i.state.set(e.state),i.shader.bind(r),i.geometry.bind(a.geometry,r.glProgram);const l=o.instructions;for(let c=0;c<o.instructionSize;c++){const e=l[c];if(e.size){for(let t=0;t<e.textures.count;t++)i.texture.bind(e.textures.textures[t],t);i.geometry.draw(e.topology,e.size,e.start)}}}destroy(){this.shader.destroy(!0),this.shader=null}}p.extension={type:[r.Ag.WebGLPipesAdaptor],name:"graphics"}},7572:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(9514);const i={id:"video",upload(e,t,n,i){e.isValid?r.a.upload(e,t,n,i):n.texImage2D(t.target,0,t.internalFormat,1,1,0,t.format,t.type,null)}}},7574:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});class r{constructor(e){this.items=[],this._name=e}emit(e,t,n,r,i,s,a,o){const{name:l,items:c}=this;for(let u=0,d=c.length;u<d;u++)c[u][l](e,t,n,r,i,s,a,o);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return-1!==t&&this.items.splice(t,1),this}contains(e){return-1!==this.items.indexOf(e)}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}},7616:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(9914);async function i(e){const t=await r.e.get().fetch(e),n=await t.blob(),i=new FileReader;return await new Promise((e,t)=>{i.onloadend=()=>e(i.result),i.onerror=t,i.readAsDataURL(n)})}},7625:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var r=n(1478),i=n(3202),s=n(879),a=n(4811),o=n(2100),l=n(4749),c=n(2077);class u{constructor(e){this._renderer=e}getTexture(e,t,n,r){var i;"string"===typeof e&&((0,a.t6)("8.0.0","CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments"),e={text:e,style:n,resolution:t}),e.style instanceof o.x||(e.style=new o.x(e.style)),e.textureStyle instanceof s.n||(e.textureStyle=new s.n(e.textureStyle)),"string"!==typeof e.text&&(e.text=e.text.toString());const{text:u,style:d,textureStyle:h}=e,p=null!==(i=e.resolution)&&void 0!==i?i:this._renderer.resolution,{frame:f,canvasAndContext:m}=c.v.getCanvasAndContext({text:u,style:d,resolution:p}),g=(0,l.M)(m.canvas,f.width,f.height,p);if(h&&(g.source.style=h),d.trim&&(f.pad(d.padding),g.frame.copyFrom(f),g.frame.scale(1/p),g.updateUvs()),d.filters){const e=this._applyFilters(g,d.filters);return this.returnTexture(g),c.v.returnCanvasAndContext(m),e}return this._renderer.texture.initSource(g._source),c.v.returnCanvasAndContext(m),g}returnTexture(e){const t=e.source;t.resource=null,t.uploadMethodId="unknown",t.alphaMode="no-premultiply-alpha",i.W.returnTexture(e,!0)}renderTextToCanvas(){(0,a.t6)("8.10.0","CanvasTextSystem.renderTextToCanvas: no longer supported, use CanvasTextSystem.getTexture instead")}_applyFilters(e,t){const n=this._renderer.renderTarget.renderTarget,r=this._renderer.filter.generateFilteredTexture({texture:e,filters:t});return this._renderer.renderTarget.bind(n,!1),r}destroy(){this._renderer=null}}u.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem,r.Ag.CanvasSystem],name:"canvasText"}},7686:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var r=n(1478),i=n(4988);class s{constructor(e){this._cache={},this._uniformGroupSyncHash={},this._renderer=e,this.gl=null,this._cache={}}contextChange(e){this.gl=e}updateUniformGroup(e,t,n){const r=this._renderer.shader._getProgramData(t);if(!e.isStatic||e._dirtyId!==r.uniformDirtyGroups[e.uid]){r.uniformDirtyGroups[e.uid]=e._dirtyId;this._getUniformSyncFunction(e,t)(r.uniformData,e.uniforms,this._renderer,n)}}_getUniformSyncFunction(e,t){var n;return(null===(n=this._uniformGroupSyncHash[e._signature])||void 0===n?void 0:n[t._key])||this._createUniformSyncFunction(e,t)}_createUniformSyncFunction(e,t){const n=this._uniformGroupSyncHash[e._signature]||(this._uniformGroupSyncHash[e._signature]={}),r=this._getSignature(e,t._uniformData,"u");return this._cache[r]||(this._cache[r]=this._generateUniformsSync(e,t._uniformData)),n[t._key]=this._cache[r],n[t._key]}_generateUniformsSync(e,t){return(0,i.U)(e,t)}_getSignature(e,t,n){const r=e.uniforms,i=["".concat(n,"-")];for(const s in r)i.push(s),t[s]&&i.push(t[s].type);return i.join("-")}destroy(){this._renderer=null,this._cache=null}}s.extension={type:[r.Ag.WebGLSystem],name:"uniformGroup"}},7736:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(6904),i=n(3276);class s extends i.g{static create(e){return new s({source:new r.v(e)})}resize(e,t,n){return this.source.resize(e,t,n),this}}},7740:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(1478),i=n(7385),s=n(4397),a=n(8244);class o{constructor(e){this.priority=0,this.pipe="stencilMask",null!==e&&void 0!==e&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,t){(0,s.d)(this.mask,e,t)}addLocalBounds(e,t){(0,a.U)(this.mask,e,t)}containsPoint(e,t){return t(this.mask,e)}destroy(){this.reset()}static test(e){return e instanceof i.mc}}o.extension=r.Ag.MaskEffect},7799:(e,t,n)=>{"use strict";function r(e,t){const n=e.byteLength/8|0,r=new Float64Array(e,0,n);new Float64Array(t,0,n).set(r);const i=e.byteLength-8*n;if(i>0){const r=new Uint8Array(e,8*n,i);new Uint8Array(t,8*n,i).set(r)}}n.d(t,{W:()=>r})},7810:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var r=n(3596),i=n(8693);function s(e,t){const n=e.texture,s=n.frame.width,a=n.frame.height;let o=0,l=0;e.applyAnchorToTexture&&(o=e.anchor.x,l=e.anchor.y),t[0]=t[6]=-o,t[2]=t[4]=1-o,t[1]=t[3]=-l,t[5]=t[7]=1-l;const c=r.u.shared;c.copyFrom(e._tileTransform.matrix),c.tx/=e.width,c.ty/=e.height,c.invert(),c.scale(e.width/s,e.height/a),(0,i.Y)(t,2,0,c)}},7821:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(9914),i=n(1915);const s={willReadFrequently:!0},a=class e{static get experimentalLetterSpacingSupported(){let t=e._experimentalLetterSpacingSupported;if(void 0===t){const n=r.e.get().getCanvasRenderingContext2D().prototype;t=e._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(e,t,n,r,i,s,a,o,l){this.text=e,this.style=t,this.width=n,this.height=r,this.lines=i,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=o,this.fontProperties=l}static measureText(){var t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._canvas,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.wordWrap;const o=(0,i.Z)(r),l=e.measureFont(o);0===l.fontSize&&(l.fontSize=r.fontSize,l.ascent=r.fontSize);const c=e.__context;c.font=o;const u=(a?e._wordWrap(n,r,s):n).split(/(?:\r\n|\r|\n)/),d=new Array(u.length);let h=0;for(let i=0;i<u.length;i++){const t=e._measureText(u[i],r.letterSpacing,c);d[i]=t,h=Math.max(h,t)}const p=(null===(t=r._stroke)||void 0===t?void 0:t.width)||0;let f=h+p;r.dropShadow&&(f+=r.dropShadow.distance);const m=r.lineHeight||l.fontSize;let g=Math.max(m,l.fontSize+p)+(u.length-1)*(m+r.leading);r.dropShadow&&(g+=r.dropShadow.distance);return new e(n,r,f,g,u,d,m+r.leading,h,l)}static _measureText(t,n,r){let i=!1;e.experimentalLetterSpacingSupported&&(e.experimentalLetterSpacing?(r.letterSpacing="".concat(n,"px"),r.textLetterSpacing="".concat(n,"px"),i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const s=r.measureText(t);let a=s.width;const o=-s.actualBoundingBoxLeft;let l=s.actualBoundingBoxRight-o;if(a>0)if(i)a-=n,l-=n;else{const r=(e.graphemeSegmenter(t).length-1)*n;a+=r,l+=r}return Math.max(a,l)}static _wordWrap(t,n){const r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._canvas).getContext("2d",s);let i=0,a="",o="";const l=Object.create(null),{letterSpacing:c,whiteSpace:u}=n,d=e._collapseSpaces(u),h=e._collapseNewlines(u);let p=!d;const f=n.wordWrapWidth+c,m=e._tokenize(t);for(let s=0;s<m.length;s++){let t=m[s];if(e._isNewline(t)){if(!h){o+=e._addLine(a),p=!d,a="",i=0;continue}t=" "}if(d){const n=e.isBreakingSpace(t),r=e.isBreakingSpace(a[a.length-1]);if(n&&r)continue}const u=e._getFromCache(t,c,l,r);if(u>f)if(""!==a&&(o+=e._addLine(a),a="",i=0),e.canBreakWords(t,n.breakWords)){const s=e.wordWrapSplit(t);for(let u=0;u<s.length;u++){let d=s[u],h=d,m=1;for(;s[u+m];){const r=s[u+m];if(e.canBreakChars(h,r,t,u,n.breakWords))break;d+=r,h=r,m++}u+=m-1;const g=e._getFromCache(d,c,l,r);g+i>f&&(o+=e._addLine(a),p=!1,a="",i=0),a+=d,i+=g}}else{a.length>0&&(o+=e._addLine(a),a="",i=0);const n=s===m.length-1;o+=e._addLine(t,!n),p=!1,a="",i=0}else u+i>f&&(p=!1,o+=e._addLine(a),a="",i=0),(a.length>0||!e.isBreakingSpace(t)||p)&&(a+=t,i+=u)}return o+=e._addLine(a,!1),o}static _addLine(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=e._trimRight(t),t=n?"".concat(t,"\n"):t}static _getFromCache(t,n,r,i){let s=r[t];return"number"!==typeof s&&(s=e._measureText(t,n,i)+n,r[t]=s),s}static _collapseSpaces(e){return"normal"===e||"pre-line"===e}static _collapseNewlines(e){return"normal"===e}static _trimRight(t){if("string"!==typeof t)return"";for(let n=t.length-1;n>=0;n--){const r=t[n];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static _isNewline(t){return"string"===typeof t&&e._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return"string"===typeof t&&e._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const n=[];let r="";if("string"!==typeof t)return n;for(let i=0;i<t.length;i++){const s=t[i],a=t[i+1];e.isBreakingSpace(s,a)||e._isNewline(s)?(""!==r&&(n.push(r),r=""),"\r"===s&&"\n"===a?(n.push("\r\n"),i++):n.push(s)):r+=s}return""!==r&&n.push(r),n}static canBreakWords(e,t){return t}static canBreakChars(e,t,n,r,i){return!0}static wordWrapSplit(t){return e.graphemeSegmenter(t)}static measureFont(t){if(e._fonts[t])return e._fonts[t];const n=e._context;n.font=t;const r=n.measureText(e.METRICS_STRING+e.BASELINE_SYMBOL),i={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return e._fonts[t]=i,i}static clearMetrics(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?delete e._fonts[t]:e._fonts={}}static get _canvas(){if(!e.__canvas){let n;try{const t=new OffscreenCanvas(0,0),i=t.getContext("2d",s);if(null!==i&&void 0!==i&&i.measureText)return e.__canvas=t,t;n=r.e.get().createCanvas()}catch(t){n=r.e.get().createCanvas()}n.width=n.height=10,e.__canvas=n}return e.__canvas}static get _context(){return e.__context||(e.__context=e._canvas.getContext("2d",s)),e.__context}};a.METRICS_STRING="|\xc9q\xc5",a.BASELINE_SYMBOL="M",a.BASELINE_MULTIPLIER=1.4,a.HEIGHT_MULTIPLIER=2,a.graphemeSegmenter=(()=>{if("function"===typeof(null===Intl||void 0===Intl?void 0:Intl.Segmenter)){const e=new Intl.Segmenter;return t=>{const n=e.segment(t),r=[];let i=0;for(const e of n)r[i++]=e.segment;return r}}return e=>[...e]})(),a.experimentalLetterSpacing=!1,a._fonts={},a._newlines=[10,13],a._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let o=a},7867:(e,t,n)=>{"use strict";function r(e,t,n){const r=(e,t)=>{const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);return{len:i,nx:n/i,ny:r/i}},i=(t,n)=>{0===t?e.moveTo(n.x,n.y):e.lineTo(n.x,n.y)};let s=t[t.length-1];for(let o=0;o<t.length;o++){var a;const l=t[o%t.length],c=null!==(a=l.radius)&&void 0!==a?a:n;if(c<=0){i(o,l),s=l;continue}const u=t[(o+1)%t.length],d=r(l,s),h=r(l,u);if(d.len<1e-4||h.len<1e-4){i(o,l),s=l;continue}let p=Math.asin(d.nx*h.ny-d.ny*h.nx),f=1,m=!1;d.nx*h.nx-d.ny*-h.ny<0?p<0?p=Math.PI+p:(p=Math.PI-p,f=-1,m=!0):p>0&&(f=-1,m=!0);const g=p/2;let v,b=Math.abs(Math.cos(g)*c/Math.sin(g));b>Math.min(d.len/2,h.len/2)?(b=Math.min(d.len/2,h.len/2),v=Math.abs(b*Math.sin(g)/Math.cos(g))):v=c;const _=l.x+h.nx*b+-h.ny*v*f,x=l.y+h.ny*b+h.nx*v*f,y=Math.atan2(d.ny,d.nx)+Math.PI/2*f,S=Math.atan2(h.ny,h.nx)-Math.PI/2*f;0===o&&e.moveTo(_+Math.cos(y)*v,x+Math.sin(y)*v),e.arc(_,x,v,y,S,m),s=l}}function i(e,t,n,r){const i=(e,t)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),s=(e,t,n)=>({x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}),a=t.length;for(let l=0;l<a;l++){var o;const c=t[(l+1)%a],u=null!==(o=c.radius)&&void 0!==o?o:n;if(u<=0){0===l?e.moveTo(c.x,c.y):e.lineTo(c.x,c.y);continue}const d=t[l],h=t[(l+2)%a],p=i(d,c);let f;if(p<1e-4)f=c;else{f=s(c,d,Math.min(p/2,u)/p)}const m=i(h,c);let g;if(m<1e-4)g=c;else{g=s(c,h,Math.min(m/2,u)/m)}0===l?e.moveTo(f.x,f.y):e.lineTo(f.x,f.y),e.quadraticCurveTo(c.x,c.y,g.x,g.y,r)}}n.d(t,{X:()=>r,q:()=>i})},7927:(e,t,n)=>{"use strict";n.d(t,{E:()=>l,S:()=>c});var r=n(1478),i=n(576),s=n(9769),a=n(9385),o=n(9211);class l{constructor(){this.batches=[],this.batched=!1}destroy(){this.batches.forEach(e=>{s.Z.return(e)}),this.batches.length=0}}class c{constructor(e,t){this.state=i.U.for2d(),this.renderer=e,this._adaptor=t,this.renderer.runners.contextChange.add(this)}contextChange(){this._adaptor.contextChange(this.renderer)}validateRenderable(e){const t=e.context,n=!!e._gpuData,r=this.renderer.graphicsContext.updateGpuContext(t);return!(!r.isBatchable&&n===r.isBatchable)}addRenderable(e,t){const n=this.renderer.graphicsContext.updateGpuContext(e.context);e.didViewUpdate&&this._rebuild(e),n.isBatchable?this._addToBatcher(e,t):(this.renderer.renderPipes.batch.break(t),t.add(e))}updateRenderable(e){const t=this._getGpuDataForRenderable(e).batches;for(let n=0;n<t.length;n++){const e=t[n];e._batcher.updateElement(e)}}execute(e){if(!e.isRenderable)return;const t=this.renderer,n=e.context;if(!t.graphicsContext.getGpuContext(n).batches.length)return;const r=n.customShader||this._adaptor.shader;this.state.blendMode=e.groupBlendMode;const i=r.resources.localUniforms.uniforms;i.uTransformMatrix=e.groupTransform,i.uRound=t._roundPixels|e._roundPixels,(0,a.V)(e.groupColorAlpha,i.uColor,0),this._adaptor.execute(this,e)}_rebuild(e){const t=this._getGpuDataForRenderable(e),n=this.renderer.graphicsContext.updateGpuContext(e.context);t.destroy(),n.isBatchable&&this._updateBatchesForRenderable(e,t)}_addToBatcher(e,t){const n=this.renderer.renderPipes.batch,r=this._getGpuDataForRenderable(e).batches;for(let i=0;i<r.length;i++){const e=r[i];n.addToBatch(e,t)}}_getGpuDataForRenderable(e){return e._gpuData[this.renderer.uid]||this._initGpuDataForRenderable(e)}_initGpuDataForRenderable(e){const t=new l;return e._gpuData[this.renderer.uid]=t,t}_updateBatchesForRenderable(e,t){const n=e.context,r=this.renderer.graphicsContext.getGpuContext(n),i=this.renderer._roundPixels|e._roundPixels;t.batches=r.batches.map(t=>{const n=s.Z.get(o.G);return t.copyTo(n),n.renderable=e,n.roundPixels=i,n})}destroy(){this.renderer=null,this._adaptor.destroy(),this._adaptor=null,this.state=null}}c.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"graphics"}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7960:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});const r=(e,t)=>{const n=t.split("?")[1];return n&&(e+="?".concat(n)),e}},7962:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(7051),i=n(9914);function s(e,t){let n={},s=e.RGBA;return e instanceof i.e.get().getWebGLRenderingContext()?t.srgb&&(n={"rgba8unorm-srgb":t.srgb.SRGB8_ALPHA8_EXT,"bgra8unorm-srgb":t.srgb.SRGB8_ALPHA8_EXT}):(n={"rgba8unorm-srgb":e.SRGB8_ALPHA8,"bgra8unorm-srgb":e.SRGB8_ALPHA8},s=e.RGBA8),(0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)((0,r.A)({r8unorm:e.R8,r8snorm:e.R8_SNORM,r8uint:e.R8UI,r8sint:e.R8I,r16uint:e.R16UI,r16sint:e.R16I,r16float:e.R16F,rg8unorm:e.RG8,rg8snorm:e.RG8_SNORM,rg8uint:e.RG8UI,rg8sint:e.RG8I,r32uint:e.R32UI,r32sint:e.R32I,r32float:e.R32F,rg16uint:e.RG16UI,rg16sint:e.RG16I,rg16float:e.RG16F,rgba8unorm:e.RGBA},n),{},{rgba8snorm:e.RGBA8_SNORM,rgba8uint:e.RGBA8UI,rgba8sint:e.RGBA8I,bgra8unorm:s,rgb9e5ufloat:e.RGB9_E5,rgb10a2unorm:e.RGB10_A2,rg11b10ufloat:e.R11F_G11F_B10F,rg32uint:e.RG32UI,rg32sint:e.RG32I,rg32float:e.RG32F,rgba16uint:e.RGBA16UI,rgba16sint:e.RGBA16I,rgba16float:e.RGBA16F,rgba32uint:e.RGBA32UI,rgba32sint:e.RGBA32I,rgba32float:e.RGBA32F,stencil8:e.STENCIL_INDEX8,depth16unorm:e.DEPTH_COMPONENT16,depth24plus:e.DEPTH_COMPONENT24,"depth24plus-stencil8":e.DEPTH24_STENCIL8,depth32float:e.DEPTH_COMPONENT32F,"depth32float-stencil8":e.DEPTH32F_STENCIL8},t.s3tc?{"bc1-rgba-unorm":t.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,"bc2-rgba-unorm":t.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,"bc3-rgba-unorm":t.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT}:{}),t.s3tc_sRGB?{"bc1-rgba-unorm-srgb":t.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,"bc2-rgba-unorm-srgb":t.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,"bc3-rgba-unorm-srgb":t.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}:{}),t.rgtc?{"bc4-r-unorm":t.rgtc.COMPRESSED_RED_RGTC1_EXT,"bc4-r-snorm":t.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,"bc5-rg-unorm":t.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,"bc5-rg-snorm":t.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}:{}),t.bptc?{"bc6h-rgb-float":t.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,"bc6h-rgb-ufloat":t.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,"bc7-rgba-unorm":t.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,"bc7-rgba-unorm-srgb":t.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT}:{}),t.etc?{"etc2-rgb8unorm":t.etc.COMPRESSED_RGB8_ETC2,"etc2-rgb8unorm-srgb":t.etc.COMPRESSED_SRGB8_ETC2,"etc2-rgb8a1unorm":t.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgb8a1unorm-srgb":t.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,"etc2-rgba8unorm":t.etc.COMPRESSED_RGBA8_ETC2_EAC,"etc2-rgba8unorm-srgb":t.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,"eac-r11unorm":t.etc.COMPRESSED_R11_EAC,"eac-rg11unorm":t.etc.COMPRESSED_SIGNED_RG11_EAC}:{}),t.astc?{"astc-4x4-unorm":t.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,"astc-4x4-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,"astc-5x4-unorm":t.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,"astc-5x4-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,"astc-5x5-unorm":t.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,"astc-5x5-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,"astc-6x5-unorm":t.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,"astc-6x5-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,"astc-6x6-unorm":t.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,"astc-6x6-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,"astc-8x5-unorm":t.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,"astc-8x5-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,"astc-8x6-unorm":t.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,"astc-8x6-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,"astc-8x8-unorm":t.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,"astc-8x8-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,"astc-10x5-unorm":t.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,"astc-10x5-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,"astc-10x6-unorm":t.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,"astc-10x6-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,"astc-10x8-unorm":t.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,"astc-10x8-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,"astc-10x10-unorm":t.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,"astc-10x10-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,"astc-12x10-unorm":t.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,"astc-12x10-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,"astc-12x12-unorm":t.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,"astc-12x12-unorm-srgb":t.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR}:{})}},7976:(e,t,n)=>{"use strict";function r(e){const t=new Array(e);for(let n=0;n<t.length;n++)t[n]=!1;return t}function i(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return r(2*t);case"bvec3":return r(3*t);case"bvec4":return r(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}n.d(t,{J:()=>i})},8017:(e,t,n)=>{"use strict";n.d(t,{Q:()=>b});var r=n(1478),i=n(9445),s=n(3202),a=n(6650),o=n(5750),l=n(279),c=n(9769),u=n(4749),d=n(2794),h=n(7338),p=n(1062),f=n(6379),m=n(3994),g=n(5567),v=n(8792);class b{constructor(e){this._renderer=e,this._createCanvas=e.type===a.W.WEBGPU}getTexture(e){return this.getTexturePromise(e)}getTexturePromise(e){return this._buildTexturePromise(e)}async _buildTexturePromise(e){const{text:t,style:n,resolution:r,textureStyle:s}=e,a=c.Z.get(d.p),l=(0,h.F)(t,n),b=await(0,p.Z)(l),_=(0,v.r)(t,n,b,a),x=Math.ceil(Math.ceil(Math.max(1,_.width)+2*n.padding)*r),y=Math.ceil(Math.ceil(Math.max(1,_.height)+2*n.padding)*r),S=a.image;S.width=2+(0|x),S.height=2+(0|y);const T=(0,f.e)(t,n,r,b,a);await(0,g.c)(S,T,(0,o.n)()&&l.length>0);const w=S;let A;this._createCanvas&&(A=(0,m.J)(S,r));const E=(0,u.M)(A?A.canvas:w,S.width-2,S.height-2,r);return s&&(E.source.style=s),this._createCanvas&&(this._renderer.texture.initSource(E.source),i.N.returnCanvasAndContext(A)),c.Z.return(a),E}returnTexturePromise(e){e.then(e=>{this._cleanUp(e)}).catch(()=>{(0,l.R)("HTMLTextSystem: Failed to clean texture")})}_cleanUp(e){s.W.returnTexture(e,!0),e.source.resource=null,e.source.uploadMethodId="unknown"}destroy(){this._renderer=null}}b.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem,r.Ag.CanvasSystem],name:"htmlText"}},8021:(e,t,n)=>{"use strict";function r(e,t,n){const r=n?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if("precision"!==e.substring(0,9)){let i=n?t.requestedFragmentPrecision:t.requestedVertexPrecision;return"highp"===i&&"highp"!==r&&(i="mediump"),"precision ".concat(i," float;\n").concat(e)}return"highp"!==r&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}n.d(t,{V:()=>r})},8039:(e,t,n)=>{"use strict";n.d(t,{$S:()=>s,RH:()=>i,nZ:()=>a});var r=n(7051);const i={extension:{type:n(1478).Ag.ShapeBuilder,name:"circle"},build(e,t){let n,r,i,s,a,o;if("circle"===e.type){const t=e;if(a=o=t.radius,a<=0)return!1;n=t.x,r=t.y,i=s=0}else if("ellipse"===e.type){const t=e;if(a=t.halfWidth,o=t.halfHeight,a<=0||o<=0)return!1;n=t.x,r=t.y,i=s=0}else{const t=e,l=t.width/2,c=t.height/2;n=t.x+l,r=t.y+c,a=o=Math.max(0,Math.min(t.radius,Math.min(l,c))),i=l-a,s=c-o}if(i<0||s<0)return!1;const l=Math.ceil(2.3*Math.sqrt(a+o)),c=8*l+(i?4:0)+(s?4:0);if(0===c)return!1;if(0===l)return t[0]=t[6]=n+i,t[1]=t[3]=r+s,t[2]=t[4]=n-i,t[5]=t[7]=r-s,!0;let u=0,d=4*l+(i?2:0)+2,h=d,p=c,f=i+a,m=s,g=n+f,v=n-f,b=r+m;if(t[u++]=g,t[u++]=b,t[--d]=b,t[--d]=v,s){const e=r-m;t[h++]=v,t[h++]=e,t[--p]=e,t[--p]=g}for(let x=1;x<l;x++){const e=Math.PI/2*(x/l),c=i+Math.cos(e)*a,f=s+Math.sin(e)*o,m=n+c,g=n-c,v=r+f,b=r-f;t[u++]=m,t[u++]=v,t[--d]=v,t[--d]=g,t[h++]=g,t[h++]=b,t[--p]=b,t[--p]=m}f=i,m=s+o,g=n+f,v=n-f,b=r+m;const _=r-m;return t[u++]=g,t[u++]=b,t[--p]=_,t[--p]=g,i&&(t[u++]=v,t[u++]=b,t[--p]=_,t[--p]=v),!0},triangulate(e,t,n,r,i,s){if(0===e.length)return;let a=0,o=0;for(let u=0;u<e.length;u+=2)a+=e[u],o+=e[u+1];a/=e.length/2,o/=e.length/2;let l=r;t[l*n]=a,t[l*n+1]=o;const c=l++;for(let u=0;u<e.length;u+=2)t[l*n]=e[u],t[l*n+1]=e[u+1],u>0&&(i[s++]=l,i[s++]=c,i[s++]=l-1),l++;i[s++]=c+1,i[s++]=c,i[s++]=l-1}},s=(0,r.A)((0,r.A)({},i),{},{extension:(0,r.A)((0,r.A)({},i.extension),{},{name:"ellipse"})}),a=(0,r.A)((0,r.A)({},i),{},{extension:(0,r.A)((0,r.A)({},i.extension),{},{name:"roundedRectangle"})})},8046:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});const r={extension:{type:n(1478).Ag.ShapeBuilder,name:"rectangle"},build(e,t){const n=e,r=n.x,i=n.y,s=n.width,a=n.height;return s>0&&a>0&&(t[0]=r,t[1]=i,t[2]=r+s,t[3]=i,t[4]=r+s,t[5]=i+a,t[6]=r,t[7]=i+a,!0)},triangulate(e,t,n,r,i,s){let a=0;t[(r*=n)+a]=e[0],t[r+a+1]=e[1],a+=n,t[r+a]=e[2],t[r+a+1]=e[3],a+=n,t[r+a]=e[6],t[r+a+1]=e[7],a+=n,t[r+a]=e[4],t[r+a+1]=e[5],a+=n;const o=r/n;i[s++]=o,i[s++]=o+1,i[s++]=o+2,i[s++]=o+1,i[s++]=o+3,i[s++]=o+2}}},8052:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var r=n(4314),i=n(8671);const s={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,get interactive(){return"dynamic"===this.eventMode||"static"===this.eventMode},set interactive(e){this.eventMode=e?"static":"passive"},_internalEventMode:void 0,get eventMode(){var e;return null!==(e=this._internalEventMode)&&void 0!==e?e:r.C.defaultEventMode},set eventMode(e){this._internalEventMode=e},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(e,t,n){const r="boolean"===typeof n&&n||"object"===typeof n&&n.capture,i="object"===typeof n?n.signal:void 0,s="object"===typeof n&&!0===n.once,a="function"===typeof t?void 0:t;e=r?"".concat(e,"capture"):e;const o="function"===typeof t?t:t.handleEvent,l=this;i&&i.addEventListener("abort",()=>{l.off(e,o,a)}),s?l.once(e,o,a):l.on(e,o,a)},removeEventListener(e,t,n){const r="function"===typeof t?void 0:t;e="boolean"===typeof n&&n||"object"===typeof n&&n.capture?"".concat(e,"capture"):e,t="function"===typeof t?t:t.handleEvent,this.off(e,t,r)},dispatchEvent(e){if(!(e instanceof i.N))throw new Error("Container cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}}},8073:(e,t,n)=>{"use strict";n.d(t,{r:()=>l});var r=n(1478),i=n(7393),s=n(2559),a=n(2646);const o={"point-list":0,"line-list":1,"line-strip":3,"triangle-list":4,"triangle-strip":5};class l{constructor(e){this._geometryVaoHash=Object.create(null),this._renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this._renderer.renderableGC.addManagedHash(this,"_geometryVaoHash")}contextChange(){const e=this.gl=this._renderer.gl;if(!this._renderer.context.supports.vertexArrayObject)throw new Error("[PixiJS] Vertex Array Objects are not supported on this device");const t=this._renderer.context.extensions.vertexArrayObject;t&&(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e));const n=this._renderer.context.extensions.vertexAttribDivisorANGLE;n&&(e.drawArraysInstanced=(e,t,r,i)=>{n.drawArraysInstancedANGLE(e,t,r,i)},e.drawElementsInstanced=(e,t,r,i,s)=>{n.drawElementsInstancedANGLE(e,t,r,i,s)},e.vertexAttribDivisor=(e,t)=>n.vertexAttribDivisorANGLE(e,t)),this._activeGeometry=null,this._activeVao=null,this._geometryVaoHash=Object.create(null)}bind(e,t){const n=this.gl;this._activeGeometry=e;const r=this.getVao(e,t);this._activeVao!==r&&(this._activeVao=r,n.bindVertexArray(r)),this.updateBuffers()}resetState(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this._renderer.buffer;for(let n=0;n<e.buffers.length;n++){const r=e.buffers[n];t.updateBuffer(r)}}checkCompatibility(e,t){const n=e.attributes,r=t._attributeData;for(const i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'.concat(i,'" attribute'))}getSignature(e,t){const n=e.attributes,r=t._attributeData,i=["g",e.uid];for(const s in n)r[s]&&i.push(s,r[s].location);return i.join("-")}getVao(e,t){var n;return(null===(n=this._geometryVaoHash[e.uid])||void 0===n?void 0:n[t._key])||this.initGeometryVao(e,t)}initGeometryVao(e,t){const n=this._renderer.gl,r=this._renderer.buffer;this._renderer.shader._getProgramData(t),this.checkCompatibility(e,t);const i=this.getSignature(e,t);this._geometryVaoHash[e.uid]||(this._geometryVaoHash[e.uid]=Object.create(null),e.on("destroy",this.onGeometryDestroy,this));const a=this._geometryVaoHash[e.uid];let o=a[i];if(o)return a[t._key]=o,o;(0,s.q)(e,t._attributeData);const l=e.buffers;o=n.createVertexArray(),n.bindVertexArray(o);for(let s=0;s<l.length;s++){const e=l[s];r.bind(e)}return this.activateVao(e,t),a[t._key]=o,a[i]=o,n.bindVertexArray(null),o}onGeometryDestroy(e,t){const n=this._geometryVaoHash[e.uid],r=this.gl;if(n){if(t)for(const e in n)this._activeVao!==n[e]&&this.unbind(),r.deleteVertexArray(n[e]);this._geometryVaoHash[e.uid]=null}}destroyAll(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.gl;for(const n in this._geometryVaoHash){if(e)for(const e in this._geometryVaoHash[n]){const r=this._geometryVaoHash[n];this._activeVao!==r&&this.unbind(),t.deleteVertexArray(r[e])}this._geometryVaoHash[n]=null}}activateVao(e,t){const n=this._renderer.gl,r=this._renderer.buffer,s=e.attributes;e.indexBuffer&&r.bind(e.indexBuffer);let o=null;for(const u in s){const e=s[u],d=e.buffer,h=r.getGlBuffer(d),p=t._attributeData[u];if(p){var l;o!==h&&(r.bind(d),o=h);const t=p.location;n.enableVertexAttribArray(t);const s=(0,i.m)(e.format),u=(0,a.L)(e.format);if("int"===(null===(l=p.format)||void 0===l?void 0:l.substring(1,4))?n.vertexAttribIPointer(t,s.size,u,e.stride,e.offset):n.vertexAttribPointer(t,s.size,u,s.normalised,e.stride,e.offset),e.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");{var c;const r=null!==(c=e.divisor)&&void 0!==c?c:1;n.vertexAttribDivisor(t,r)}}}}}draw(e,t,n,r){const{gl:i}=this._renderer,s=this._activeGeometry,a=o[e||s.topology];if(null!==r&&void 0!==r||(r=s.instanceCount),s.indexBuffer){const e=s.indexBuffer.data.BYTES_PER_ELEMENT,o=2===e?i.UNSIGNED_SHORT:i.UNSIGNED_INT;r>1?i.drawElementsInstanced(a,t||s.indexBuffer.data.length,o,(n||0)*e,r):i.drawElements(a,t||s.indexBuffer.data.length,o,(n||0)*e)}else r>1?i.drawArraysInstanced(a,n||0,t||s.getSize(),r):i.drawArrays(a,n||0,t||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this._renderer=null,this.gl=null,this._activeVao=null,this._activeGeometry=null}}l.extension={type:[r.Ag.WebGLSystem],name:"geometry"}},8140:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(1478);class i{constructor(e){this.priority=0,this.pipe="colorMask",null!==e&&void 0!==e&&e.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return"number"===typeof e}}i.extension=r.Ag.MaskEffect},8152:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});class r{constructor(e,t){this._pool=[],this._count=0,this._index=0,this._classType=e,t&&this.prepopulate(t)}prepopulate(e){for(let t=0;t<e;t++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){var t,n;let r;return r=this._index>0?this._pool[--this._index]:new this._classType,null===(t=(n=r).init)||void 0===t||t.call(n,e),r}return(e){var t;null===(t=e.reset)||void 0===t||t.call(e),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}},8155:(e,t,n)=>{"use strict";n.d(t,{e:()=>i,v:()=>r});const r={f32:"if (cv !== v) {\n            cu.value = v;\n            gl.uniform1f(location, v);\n        }","vec2<f32>":"if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2f(location, v[0], v[1]);\n        }","vec3<f32>":"if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3f(location, v[0], v[1], v[2]);\n        }","vec4<f32>":"if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n        }",i32:"if (cv !== v) {\n            cu.value = v;\n            gl.uniform1i(location, v);\n        }","vec2<i32>":"if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2i(location, v[0], v[1]);\n        }","vec3<i32>":"if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3i(location, v[0], v[1], v[2]);\n        }","vec4<i32>":"if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n        }",u32:"if (cv !== v) {\n            cu.value = v;\n            gl.uniform1ui(location, v);\n        }","vec2<u32>":"if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2ui(location, v[0], v[1]);\n        }","vec3<u32>":"if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3ui(location, v[0], v[1], v[2]);\n        }","vec4<u32>":"if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n        }",bool:"if (cv !== v) {\n            cu.value = v;\n            gl.uniform1i(location, v);\n        }","vec2<bool>":"if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2i(location, v[0], v[1]);\n        }","vec3<bool>":"if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3i(location, v[0], v[1], v[2]);\n        }","vec4<bool>":"if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n        }","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);"},i={f32:"gl.uniform1fv(location, v);","vec2<f32>":"gl.uniform2fv(location, v);","vec3<f32>":"gl.uniform3fv(location, v);","vec4<f32>":"gl.uniform4fv(location, v);","mat2x2<f32>":"gl.uniformMatrix2fv(location, false, v);","mat3x3<f32>":"gl.uniformMatrix3fv(location, false, v);","mat4x4<f32>":"gl.uniformMatrix4fv(location, false, v);",i32:"gl.uniform1iv(location, v);","vec2<i32>":"gl.uniform2iv(location, v);","vec3<i32>":"gl.uniform3iv(location, v);","vec4<i32>":"gl.uniform4iv(location, v);",u32:"gl.uniform1iv(location, v);","vec2<u32>":"gl.uniform2iv(location, v);","vec3<u32>":"gl.uniform3iv(location, v);","vec4<u32>":"gl.uniform4iv(location, v);",bool:"gl.uniform1iv(location, v);","vec2<bool>":"gl.uniform2iv(location, v);","vec3<bool>":"gl.uniform3iv(location, v);","vec4<bool>":"gl.uniform4iv(location, v);"}},8176:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var r=n(1478),i=n(7422),s=n(7358);class a{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,t,n){var r,i;const s=e,a=this._renderer;a.renderPipes.batch.break(n),a.renderPipes.blendMode.setBlendMode(s.mask,"none",n),n.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const o=s.mask;o.includeInBuild=!0,this._maskHash.has(s)||this._maskHash.set(s,{instructionsStart:0,instructionsLength:0});const l=this._maskHash.get(s);l.instructionsStart=n.instructionSize,o.collectRenderables(n,a,null),o.includeInBuild=!1,a.renderPipes.batch.break(n),n.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const c=n.instructionSize-l.instructionsStart-1;l.instructionsLength=c;const u=a.renderTarget.renderTarget.uid;null!==(r=(i=this._maskStackHash)[u])&&void 0!==r||(i[u]=0)}pop(e,t,n){const r=e,i=this._renderer;i.renderPipes.batch.break(n),i.renderPipes.blendMode.setBlendMode(r.mask,"none",n),n.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:t._maskOptions.inverse,canBundle:!1});const s=this._maskHash.get(e);for(let a=0;a<s.instructionsLength;a++)n.instructions[n.instructionSize++]=n.instructions[s.instructionsStart++];n.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var t,n;const r=this._renderer,a=r.renderTarget.renderTarget.uid;let o=null!==(t=(n=this._maskStackHash)[a])&&void 0!==t?t:n[a]=0;"pushMaskBegin"===e.action?(r.renderTarget.ensureDepthStencil(),r.stencil.setStencilMode(s.K.RENDERING_MASK_ADD,o),o++,r.colorMask.setMask(0)):"pushMaskEnd"===e.action?(e.inverse?r.stencil.setStencilMode(s.K.INVERSE_MASK_ACTIVE,o):r.stencil.setStencilMode(s.K.MASK_ACTIVE,o),r.colorMask.setMask(15)):"popMaskBegin"===e.action?(r.colorMask.setMask(0),0!==o?r.stencil.setStencilMode(s.K.RENDERING_MASK_REMOVE,o):(r.renderTarget.clear(null,i.u.STENCIL),r.stencil.setStencilMode(s.K.DISABLED,o)),o--):"popMaskEnd"===e.action&&(e.inverse?r.stencil.setStencilMode(s.K.INVERSE_MASK_ACTIVE,o):r.stencil.setStencilMode(s.K.MASK_ACTIVE,o),r.colorMask.setMask(15)),this._maskStackHash[a]=o}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}a.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"stencilMask"}},8186:(e,t,n)=>{"use strict";function r(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function i(e){return!(e&e-1)&&!!e}function s(e){let t=(e>65535?1:0)<<4,n=((e>>>=t)>255?1:0)<<3;return t|=n,n=((e>>>=n)>15?1:0)<<2,t|=n,n=((e>>>=n)>3?1:0)<<1,t|=n,t|(e>>>=n)>>1}n.d(t,{U5:()=>r,f3:()=>i,p6:()=>s})},8215:(e,t,n)=>{"use strict";function r(e,t){const{list:n,index:r}=e.childrenRenderablesToUpdate;let i=!1;for(let s=0;s<r;s++){const e=n[s];if(i=t[e.renderPipeId].validateRenderable(e),i)break}return e.structureDidChange=i,i}n.d(t,{G:()=>r})},8244:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var r=n(1232),i=n(8263),s=n(279);function a(e,t,n){const s=i.o.get();e.measurable=!0;const a=i.u.get().identity(),l=o(e,n,a);(0,r.n)(e,s,l),e.measurable=!1,t.addBoundsMask(s),i.u.return(a),i.o.return(s)}function o(e,t,n){return e?(e!==t&&(o(e.parent,t,n),e.updateLocalTransform(),n.append(e.localTransform)),n):((0,s.R)("Mask bounds, renderable is not inside the root container"),n)}},8263:(e,t,n)=>{"use strict";n.d(t,{o:()=>o,u:()=>a});var r=n(3596),i=n(8152),s=n(6373);const a=new i.b(r.u),o=new i.b(s.c)},8306:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var r=n(2604),i=n(4811);class s extends r.A{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return(0,i.t6)(i.lj,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return(0,i.t6)(i.lj,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return(0,i.t6)(i.lj,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return(0,i.t6)(i.lj,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return(0,i.t6)(i.lj,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.emit("destroy",this),this.removeAllListeners();for(const n in this.chars){var t;null===(t=this.chars[n].texture)||void 0===t||t.destroy()}this.chars=null,e&&(this.pages.forEach(e=>e.texture.destroy(!0)),this.pages=null)}}},8342:(e,t,n)=>{"use strict";n.d(t,{M:()=>l});var r=n(7051),i=n(1478),s=n(4479);let a=0;const o=class e{constructor(e){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=e}init(t){t=(0,r.A)((0,r.A)({},e.defaultOptions),t),this.maxUnusedTime=t.renderableGCMaxUnusedTime,this._frequency=t.renderableGCFrequency,this.enabled=t.renderableGCActive}get enabled(){return!!this._handler}set enabled(e){this.enabled!==e&&(e?(this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(const e of this._managedHashes)e.context[e.hash]=(0,s.s)(e.context[e.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(const e of this._managedArrays)(0,s.t)(e.context[e.hash])},this._frequency)):(this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)))}addManagedHash(e,t){this._managedHashes.push({context:e,hash:t})}addManagedArray(e,t){this._managedArrays.push({context:e,hash:t})}prerender(e){let{container:t}=e;this._now=performance.now(),t.renderGroup.gcTick=a++,this._updateInstructionGCTick(t.renderGroup,t.renderGroup.gcTick)}addRenderable(e){this.enabled&&(-1===e._lastUsed&&(this._managedRenderables.push(e),e.once("destroyed",this._removeRenderable,this)),e._lastUsed=this._now)}run(){const e=this._now,t=this._managedRenderables,n=this._renderer.renderPipes;let r=0;for(let l=0;l<t.length;l++){var i,s,a,o;const c=t[l];if(null===c){r++;continue}const u=null!==(i=c.renderGroup)&&void 0!==i?i:c.parentRenderGroup,d=null!==(s=null===u||void 0===u||null===(a=u.instructionSet)||void 0===a?void 0:a.gcTick)&&void 0!==s?s:-1;if((null!==(o=null===u||void 0===u?void 0:u.gcTick)&&void 0!==o?o:0)===d&&(c._lastUsed=e),e-c._lastUsed>this.maxUnusedTime){if(!c.destroyed){const e=n;u&&(u.structureDidChange=!0),e[c.renderPipeId].destroyRenderable(c)}c._lastUsed=-1,r++,c.off("destroyed",this._removeRenderable,this)}else t[l-r]=c}t.length-=r}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(e){const t=this._managedRenderables.indexOf(e);t>=0&&(e.off("destroyed",this._removeRenderable,this),this._managedRenderables[t]=null)}_updateInstructionGCTick(e,t){e.instructionSet.gcTick=t;for(const n of e.renderGroupChildren)this._updateInstructionGCTick(n,t)}};o.extension={type:[i.Ag.WebGLSystem,i.Ag.WebGPUSystem],name:"renderableGC",priority:0},o.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let l=o},8380:(e,t,n)=>{"use strict";n.d(t,{j:()=>i});var r=n(4307);class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.type="circle",this.x=e,this.y=t,this.radius=n}clone(){return new i(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const n=this.radius*this.radius;let r=this.x-e,i=this.y-t;return r*=r,i*=i,r+i<=n}strokeContains(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(0===this.radius)return!1;const i=this.x-e,s=this.y-t,a=this.radius,o=(1-r)*n,l=Math.sqrt(i*i+s*s);return l<=a+o&&l>a-(n-o)}getBounds(e){return e||(e=new r.M),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=2*this.radius,e.height=2*this.radius,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return"[pixi.js/math:Circle x=".concat(this.x," y=").concat(this.y," radius=").concat(this.radius,"]")}}},8381:(e,t,n)=>{"use strict";n.d(t,{a:()=>c});var r=n(1478),i=n(3596),s=n(9769),a=n(1669),o=n(2300);const l=new i.u;class c{constructor(e){this._renderer=e}addRenderGroup(e,t){e.isCachedAsTexture?this._addRenderableCacheAsTexture(e,t):this._addRenderableDirect(e,t)}execute(e){e.isRenderable&&(e.isCachedAsTexture?this._executeCacheAsTexture(e):this._executeDirect(e))}destroy(){this._renderer=null}_addRenderableDirect(e,t){this._renderer.renderPipes.batch.break(t),e._batchableRenderGroup&&(s.Z.return(e._batchableRenderGroup),e._batchableRenderGroup=null),t.add(e)}_addRenderableCacheAsTexture(e,t){var n;const r=null!==(n=e._batchableRenderGroup)&&void 0!==n?n:e._batchableRenderGroup=s.Z.get(a.K);r.renderable=e.root,r.transform=e.root.relativeGroupTransform,r.texture=e.texture,r.bounds=e._textureBounds,t.add(e),this._renderer.renderPipes.batch.addToBatch(r,t)}_executeCacheAsTexture(e){if(e.textureNeedsUpdate){e.textureNeedsUpdate=!1;const t=l.identity().translate(-e._textureBounds.x,-e._textureBounds.y);this._renderer.renderTarget.push(e.texture,!0,null,e.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:t,worldColor:4294967295}),(0,o.j)(e,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),e._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(e){this._renderer.globalUniforms.push({worldTransformMatrix:e.inverseParentTextureTransform,worldColor:e.worldColorAlpha}),(0,o.j)(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}c.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"renderGroup"}},8402:(e,t,n)=>{"use strict";n.d(t,{M:()=>s,d:()=>a});var r=n(1478),i=n(1274);class s{static init(){var e;null===(e=globalThis.__PIXI_APP_INIT__)||void 0===e||e.call(globalThis,this,i.xv)}static destroy(){}}s.extension=r.Ag.Application;class a{constructor(e){this._renderer=e}init(){var e;null===(e=globalThis.__PIXI_RENDERER_INIT__)||void 0===e||e.call(globalThis,this._renderer,i.xv)}destroy(){this._renderer=null}}a.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem],name:"initHook",priority:-10}},8403:(e,t,n)=>{"use strict";n.d(t,{h:()=>u});var r=n(7051),i=n(9914),s=n(1478),a=n(7385),o=n(3276);const l={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},c=class e{constructor(e){this._renderer=e}_normalizeOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof a.mc||e instanceof o.g?(0,r.A)({target:e},t):(0,r.A)((0,r.A)({},t),e)}async image(e){const t=i.e.get().createImage();return t.src=await this.base64(e),t}async base64(t){t=this._normalizeOptions(t,e.defaultImageOptions);const{format:n,quality:r}=t,i=this.canvas(t);if(void 0!==i.toBlob)return new Promise((e,t)=>{i.toBlob(n=>{if(!n)return void t(new Error("ICanvas.toBlob failed!"));const r=new FileReader;r.onload=()=>e(r.result),r.onerror=t,r.readAsDataURL(n)},l[n],r)});if(void 0!==i.toDataURL)return i.toDataURL(l[n],r);if(void 0!==i.convertToBlob){const e=await i.convertToBlob({type:l[n],quality:r});return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){const t=(e=this._normalizeOptions(e)).target,n=this._renderer;if(t instanceof o.g)return n.texture.generateCanvas(t);const r=n.textureGenerator.generateTexture(e),i=n.texture.generateCanvas(r);return r.destroy(!0),i}pixels(e){const t=(e=this._normalizeOptions(e)).target,n=this._renderer,r=t instanceof o.g?t:n.textureGenerator.generateTexture(e),i=n.texture.getPixels(r);return t instanceof a.mc&&r.destroy(!0),i}texture(e){return(e=this._normalizeOptions(e)).target instanceof o.g?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){var t;e=this._normalizeOptions(e);const n=this.canvas(e),r=document.createElement("a");r.download=null!==(t=e.filename)&&void 0!==t?t:"image.png",r.href=n.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}log(e){var t;const n=null!==(t=e.width)&&void 0!==t?t:200;e=this._normalizeOptions(e);const r=this.canvas(e),i=r.toDataURL();console.log("[Pixi Texture] ".concat(r.width,"px ").concat(r.height,"px"));const s=["font-size: 1px;","padding: ".concat(n,"px ",300,"px;"),"background: url(".concat(i,") no-repeat;"),"background-size: contain;"].join(" ");console.log("%c ",s)}destroy(){this._renderer=null}};c.extension={type:[s.Ag.WebGLSystem,s.Ag.WebGPUSystem],name:"extract"},c.defaultImageOptions={format:"png",quality:1};let u=c},8474:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var r=n(1478),i=n(7799);class s{constructor(e){this._gpuBuffers=Object.create(null),this._managedBuffers=[],e.renderableGC.addManagedHash(this,"_gpuBuffers")}contextChange(e){this._gpu=e}getGPUBuffer(e){return this._gpuBuffers[e.uid]||this.createGPUBuffer(e)}updateBuffer(e){const t=this._gpuBuffers[e.uid]||this.createGPUBuffer(e),n=e.data;return e._updateID&&n&&(e._updateID=0,this._gpu.device.queue.writeBuffer(t,0,n.buffer,0,(e._updateSize||n.byteLength)+3&-4)),t}destroyAll(){for(const e in this._gpuBuffers)this._gpuBuffers[e].destroy();this._gpuBuffers={}}createGPUBuffer(e){this._gpuBuffers[e.uid]||(e.on("update",this.updateBuffer,this),e.on("change",this.onBufferChange,this),e.on("destroy",this.onBufferDestroy,this),this._managedBuffers.push(e));const t=this._gpu.device.createBuffer(e.descriptor);return e._updateID=0,e.data&&((0,i.W)(e.data.buffer,t.getMappedRange()),t.unmap()),this._gpuBuffers[e.uid]=t,t}onBufferChange(e){this._gpuBuffers[e.uid].destroy(),e._updateID=0,this._gpuBuffers[e.uid]=this.createGPUBuffer(e)}onBufferDestroy(e){this._managedBuffers.splice(this._managedBuffers.indexOf(e),1),this._destroyBuffer(e)}destroy(){this._managedBuffers.forEach(e=>this._destroyBuffer(e)),this._managedBuffers=null,this._gpuBuffers=null}_destroyBuffer(e){this._gpuBuffers[e.uid].destroy(),e.off("update",this.updateBuffer,this),e.off("change",this.onBufferChange,this),e.off("destroy",this.onBufferDestroy,this),this._gpuBuffers[e.uid]=null}}s.extension={type:[r.Ag.WebGPUSystem],name:"buffer"}},8517:(e,t,n)=>{"use strict";n.d(t,{$:()=>r});const r=[{type:"mat3x3<f32>",test:e=>void 0!==e.value.a,ubo:"\n            var matrix = uv[name].toArray(true);\n            data[offset] = matrix[0];\n            data[offset + 1] = matrix[1];\n            data[offset + 2] = matrix[2];\n            data[offset + 4] = matrix[3];\n            data[offset + 5] = matrix[4];\n            data[offset + 6] = matrix[5];\n            data[offset + 8] = matrix[6];\n            data[offset + 9] = matrix[7];\n            data[offset + 10] = matrix[8];\n        ",uniform:"\n            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.width,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n            data[offset + 2] = v.width;\n            data[offset + 3] = v.height;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                cv[2] = v.width;\n                cv[3] = v.height;\n                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);\n            }\n        "},{type:"vec2<f32>",test:e=>"vec2<f32>"===e.type&&1===e.size&&void 0!==e.value.x,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                gl.uniform2f(ud[name].location, v.x, v.y);\n            }\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n            data[offset + 3] = v.alpha;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                cv[3] = v.alpha;\n                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);\n            }\n        "},{type:"vec3<f32>",test:e=>"vec3<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);\n            }\n        "}]},8551:(e,t,n)=>{"use strict";n.d(t,{G:()=>d,w:()=>u});var r=n(1478),i=n(3596),s=n(2590),a=n(6538),o=n(2080),l=n(9385),c=n(475);class u{destroy(){}}class d{constructor(e,t){this.localUniforms=new a.k({uTransformMatrix:{value:new i.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uRound:{value:0,type:"f32"}}),this.localUniformsBindGroup=new s.T({0:this.localUniforms}),this.renderer=e,this._adaptor=t,this._adaptor.init()}validateRenderable(e){const t=this._getMeshData(e),n=t.batched,r=e.batched;if(t.batched=r,n!==r)return!0;if(r){const n=e._geometry;if(n.indices.length!==t.indexSize||n.positions.length!==t.vertexSize)return t.indexSize=n.indices.length,t.vertexSize=n.positions.length,!0;const r=this._getBatchableMesh(e);return r.texture.uid!==e._texture.uid&&(r._textureMatrixUpdateId=-1),!r._batcher.checkAndUpdateTexture(r,e._texture)}return!1}addRenderable(e,t){const n=this.renderer.renderPipes.batch,r=this._getMeshData(e);var i,s;e.didViewUpdate&&(r.indexSize=null===(i=e._geometry.indices)||void 0===i?void 0:i.length,r.vertexSize=null===(s=e._geometry.positions)||void 0===s?void 0:s.length);if(r.batched){const r=this._getBatchableMesh(e);r.setTexture(e._texture),r.geometry=e._geometry,n.addToBatch(r,t)}else n.break(t),t.add(e)}updateRenderable(e){if(e.batched){const t=this._getBatchableMesh(e);t.setTexture(e._texture),t.geometry=e._geometry,t._batcher.updateElement(t)}}execute(e){if(!e.isRenderable)return;e.state.blendMode=(0,o.i)(e.groupBlendMode,e.texture._source);const t=this.localUniforms;t.uniforms.uTransformMatrix=e.groupTransform,t.uniforms.uRound=this.renderer._roundPixels|e._roundPixels,t.update(),(0,l.V)(e.groupColorAlpha,t.uniforms.uColor,0),this._adaptor.execute(this,e)}_getMeshData(e){var t,n;return(t=e._gpuData)[n=this.renderer.uid]||(t[n]=new u),e._gpuData[this.renderer.uid].meshData||this._initMeshData(e)}_initMeshData(e){return e._gpuData[this.renderer.uid].meshData={batched:e.batched,indexSize:0,vertexSize:0},e._gpuData[this.renderer.uid].meshData}_getBatchableMesh(e){var t,n;return(t=e._gpuData)[n=this.renderer.uid]||(t[n]=new u),e._gpuData[this.renderer.uid].batchableMesh||this._initBatchableMesh(e)}_initBatchableMesh(e){const t=new c.U;return t.renderable=e,t.setTexture(e._texture),t.transform=e.groupTransform,t.roundPixels=this.renderer._roundPixels|e._roundPixels,e._gpuData[this.renderer.uid].batchableMesh=t,t}destroy(){this.localUniforms=null,this.localUniformsBindGroup=null,this._adaptor.destroy(),this._adaptor=null,this.renderer=null}}d.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"mesh"}},8563:(e,t,n)=>{"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=6*e;if(n>65535?t||(t=new Uint32Array(n)):t||(t=new Uint16Array(n)),t.length!==n)throw new Error("Out buffer length is incorrect, got ".concat(t.length," and expected ").concat(n));for(let r=0,i=0;r<n;r+=6,i+=4)t[r+0]=i+0,t[r+1]=i+1,t[r+2]=i+2,t[r+3]=i+0,t[r+4]=i+2,t[r+5]=i+3;return t}n.d(t,{L:()=>r})},8570:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(4307);const i=(e,t,n,r,i,s,a)=>{const o=e-n,l=t-r,c=Math.sqrt(o*o+l*l);return c>=i-s&&c<=i+a};class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;this.type="roundedRectangle",this.x=e,this.y=t,this.width=n,this.height=r,this.radius=i}getBounds(e){return e||(e=new r.M),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new s(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let r=e-(this.x+n),i=t-(this.y+n);const s=n*n;if(r*r+i*i<=s)return!0;if(r=e-(this.x+this.width-n),r*r+i*i<=s)return!0;if(i=t-(this.y+this.height-n),r*r+i*i<=s)return!0;if(r=e-(this.x+n),r*r+i*i<=s)return!0}return!1}strokeContains(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const{x:s,y:a,width:o,height:l,radius:c}=this,u=n*(1-r),d=n-u,h=s+c,p=a+c,f=s+o,m=a+l;return(e>=s-u&&e<=s+d||e>=f-d&&e<=f+u)&&t>=p&&t<=p+(l-2*c)||((t>=a-u&&t<=a+d||t>=m-d&&t<=m+u)&&e>=h&&e<=h+(o-2*c)||(e<h&&t<p&&i(e,t,h,p,c,d,u)||e>f-c&&t<p&&i(e,t,f-c,p,c,d,u)||e>f-c&&t>m-c&&i(e,t,f-c,m-c,c,d,u)||e<h&&t>m-c&&i(e,t,h,m-c,c,d,u)))}toString(){return"[pixi.js/math:RoundedRectangle x=".concat(this.x," y=").concat(this.y,"width=").concat(this.width," height=").concat(this.height," radius=").concat(this.radius,"]")}}},8608:(e,t,n)=>{"use strict";n.d(t,{z:()=>m});var r=n(1478),i=n(2290),s=n(1024),a=n(6373),o=n(5076),l=n(4853),c=n(9769),u=n(3276),d=n(3202),h=n(6650);const p=new a.c;class f extends i.a{constructor(){super(),this.filters=[new s.L({sprite:new l.k(u.g.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}get inverse(){return this.filters[0].inverse}set inverse(e){this.filters[0].inverse=e}}class m{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,t,n){const r=this._renderer;if(r.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1,maskedContainer:t}),e.inverse=t._maskOptions.inverse,e.renderMaskToTexture){const t=e.mask;t.includeInBuild=!0,t.collectRenderables(n,r,null),t.includeInBuild=!1}r.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:t,inverse:t._maskOptions.inverse,canBundle:!1})}pop(e,t,n){this._renderer.renderPipes.batch.break(n),n.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1})}execute(e){const t=this._renderer,n=e.mask.renderMaskToTexture;if("pushMaskBegin"===e.action){const r=c.Z.get(f);if(r.inverse=e.inverse,n){e.mask.mask.measurable=!0;const n=(0,o.f)(e.mask.mask,!0,p);e.mask.mask.measurable=!1,n.ceil();const i=t.renderTarget.renderTarget.colorTexture.source,s=d.W.getOptimalTexture(n.width,n.height,i._resolution,i.antialias);t.renderTarget.push(s,!0),t.globalUniforms.push({offset:n,worldColor:4294967295});const a=r.sprite;a.texture=s,a.worldTransform.tx=n.minX,a.worldTransform.ty=n.minY,this._activeMaskStage.push({filterEffect:r,maskedContainer:e.maskedContainer,filterTexture:s})}else r.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:r,maskedContainer:e.maskedContainer})}else if("pushMaskEnd"===e.action){const e=this._activeMaskStage[this._activeMaskStage.length-1];n&&(t.type===h.W.WEBGL&&t.renderTarget.finishRenderPass(),t.renderTarget.pop(),t.globalUniforms.pop()),t.filter.push({renderPipeId:"filter",action:"pushFilter",container:e.maskedContainer,filterEffect:e.filterEffect,canBundle:!1})}else if("popMaskEnd"===e.action){t.filter.pop();const e=this._activeMaskStage.pop();n&&d.W.returnTexture(e.filterTexture),c.Z.return(e.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}m.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"alphaMask"}},8625:(e,t,n)=>{"use strict";function r(e){return{r8unorm:e.RED,r8snorm:e.RED,r8uint:e.RED,r8sint:e.RED,r16uint:e.RED,r16sint:e.RED,r16float:e.RED,rg8unorm:e.RG,rg8snorm:e.RG,rg8uint:e.RG,rg8sint:e.RG,r32uint:e.RED,r32sint:e.RED,r32float:e.RED,rg16uint:e.RG,rg16sint:e.RG,rg16float:e.RG,rgba8unorm:e.RGBA,"rgba8unorm-srgb":e.RGBA,rgba8snorm:e.RGBA,rgba8uint:e.RGBA,rgba8sint:e.RGBA,bgra8unorm:e.RGBA,"bgra8unorm-srgb":e.RGBA,rgb9e5ufloat:e.RGB,rgb10a2unorm:e.RGBA,rg11b10ufloat:e.RGB,rg32uint:e.RG,rg32sint:e.RG,rg32float:e.RG,rgba16uint:e.RGBA,rgba16sint:e.RGBA,rgba16float:e.RGBA,rgba32uint:e.RGBA,rgba32sint:e.RGBA,rgba32float:e.RGBA,stencil8:e.STENCIL_INDEX8,depth16unorm:e.DEPTH_COMPONENT,depth24plus:e.DEPTH_COMPONENT,"depth24plus-stencil8":e.DEPTH_STENCIL,depth32float:e.DEPTH_COMPONENT,"depth32float-stencil8":e.DEPTH_STENCIL}}n.d(t,{R:()=>r})},8656:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(279),i=n(1685);const s=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||(0,r.R)("[Assets] Asset id ".concat(e," was not found in the Cache")),t}set(e,t){const n=(0,i.z)(e);let s;for(let r=0;r<this.parsers.length;r++){const e=this.parsers[r];if(e.test(t)){s=e.getCacheableAssets(n,t);break}}const a=new Map(Object.entries(s||{}));s||n.forEach(e=>{a.set(e,t)});const o=[...a.keys()],l={cacheKeys:o,keys:n};n.forEach(e=>{this._cacheMap.set(e,l)}),o.forEach(e=>{const n=s?s[e]:t;this._cache.has(e)&&this._cache.get(e)!==n&&(0,r.R)("[Cache] already has key:",e),this._cache.set(e,a.get(e))})}remove(e){if(!this._cacheMap.has(e))return void(0,r.R)("[Assets] Asset id ".concat(e," was not found in the Cache"));const t=this._cacheMap.get(e);t.cacheKeys.forEach(e=>{this._cache.delete(e)}),t.keys.forEach(e=>{this._cacheMap.delete(e)})}get parsers(){return this._parsers}}},8671:(e,t,n)=>{"use strict";n.d(t,{N:()=>i});var r=n(1960);class i{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=i.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new r.b,this.page=new r.b,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,n,r,i){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}},8674:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(6373),i=n(7385);class s extends i.mc{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new r.c(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const t=this.bounds,{x:n,y:r}=e;return n>=t.minX&&n<=t.maxX&&r>=t.minY&&r<=t.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){super.destroy(e),this._bounds=null;for(const r in this._gpuData){var t,n;null===(t=(n=this._gpuData[r]).destroy)||void 0===t||t.call(n)}this._gpuData=null}collectRenderablesSimple(e,t,n){const{renderPipes:r}=t;r.blendMode.setBlendMode(this,this.groupBlendMode,e);r[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const i=this.children,s=i.length;for(let a=0;a<s;a++)i[a].collectRenderables(e,t,n)}}},8693:(e,t,n)=>{"use strict";function r(e,t,n,r){let i=0;const s=e.length/(t||2),a=r.a,o=r.b,l=r.c,c=r.d,u=r.tx,d=r.ty;for(n*=t;i<s;){const r=e[n],s=e[n+1];e[n]=a*r+l*s+u,e[n+1]=o*r+c*s+d,n+=t,i++}}n.d(t,{Y:()=>r})},8700:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(1478),i=n(4853),s=n(4397),a=n(8244);class o{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",null!==e&&void 0!==e&&e.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof i.k),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,t){this.inverse||(0,s.d)(this.mask,e,t)}addLocalBounds(e,t){(0,a.U)(this.mask,e,t)}containsPoint(e,t){return t(this.mask,e)}destroy(){this.reset()}static test(e){return e instanceof i.k}}o.extension=r.Ag.MaskEffect},8722:(e,t,n)=>{"use strict";n.d(t,{f:()=>T,i:()=>S});var r=n(5157),i=n(8381),s=n(1202),a=n(3545),o=n(8402),l=n(4251),c=n(8608),u=n(9216),d=n(8176),h=n(2086),p=n(4001),f=n(8403),m=n(618),g=n(6481),v=n(61),b=n(9316),_=n(8342),x=n(1333),y=n(1755);const S=[h.s,g.J,b.U,y.v,s.b,x.l,m.y,f.h,o.d,_.M,v.F],T=[p.j,l.s,a.k,i.a,c.z,d.j,u.u,r._]},8742:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r=n(1478),i=n(6595),s=n(9736);class a{constructor(e){this._renderer=e}validateRenderable(e){return e._didTextUpdate}addRenderable(e,t){const n=this._getGpuText(e);e._didTextUpdate&&(this._updateGpuText(e),e._didTextUpdate=!1),this._renderer.renderPipes.batch.addToBatch(n,t)}updateRenderable(e){const t=this._getGpuText(e);t._batcher.updateElement(t)}_updateGpuText(e){const t=this._getGpuText(e);t.texture&&this._renderer.canvasText.returnTexture(t.texture),e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,t.texture=this._renderer.canvasText.getTexture(e),(0,i.s)(t,e)}_getGpuText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const t=new s.E(this._renderer);return t.renderable=e,t.transform=e.groupTransform,t.bounds={minX:0,maxX:1,minY:0,maxY:0},t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=t,t}destroy(){this._renderer=null}}a.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"text"}},8770:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});var r=n(4307);class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.type="ellipse",this.x=e,this.y=t,this.halfWidth=n,this.halfHeight=r}clone(){return new i(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,t){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let n=(e-this.x)/this.halfWidth,r=(t-this.y)/this.halfHeight;return n*=n,r*=r,n+r<=1}strokeContains(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const{halfWidth:i,halfHeight:s}=this;if(i<=0||s<=0)return!1;const a=n*(1-r),o=n-a,l=i-o,c=s-o,u=i+a,d=s+a,h=e-this.x,p=t-this.y;return h*h/(l*l)+p*p/(c*c)>1&&h*h/(u*u)+p*p/(d*d)<=1}getBounds(e){return e||(e=new r.M),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=2*this.halfWidth,e.height=2*this.halfHeight,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return"[pixi.js/math:Ellipse x=".concat(this.x," y=").concat(this.y," halfWidth=").concat(this.halfWidth," halfHeight=").concat(this.halfHeight,"]")}}},8792:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});var r=n(2794);let i;function s(e,t,n,s){s||(s=i||(i=new r.p));const{domElement:a,styleElement:o,svgRoot:l}=s;a.innerHTML="<style>".concat(t.cssStyle,";</style><div style='padding:0'>").concat(e,"</div>"),a.setAttribute("style","transform-origin: top left; display: inline-block"),n&&(o.textContent=n),document.body.appendChild(l);const c=a.getBoundingClientRect();l.remove();const u=2*t.padding;return{width:c.width-u,height:c.height-u}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8892:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(279);function i(e,t,n){if(e)for(const i in e){const s=t[i.toLocaleLowerCase()];if(s){let t=e[i];"header"===i&&(t=t.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&s.push("//----".concat(n,"----//")),s.push(t)}else(0,r.R)("".concat(i," placement hook does not exist in shader"))}}},8898:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(1478);class i{static init(e){Object.defineProperty(this,"resizeTo",{set(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this._cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this._cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let e,t;if(this._cancelResize(),this._resizeTo===globalThis.window)e=globalThis.innerWidth,t=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:r}=this._resizeTo;e=n,t=r}this.renderer.resize(e,t),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this._cancelResize(),this._cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}i.extension=r.Ag.Application},8907:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var r=n(1478),i=n(6857);class s{constructor(e){this._renderer=e}contextChange(){const e=this._renderer.gl;this.maxTextures=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.maxBatchableTextures=(0,i.u)(this.maxTextures,e),this.maxUniformBindings=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS)}destroy(){}}s.extension={type:[r.Ag.WebGLSystem],name:"limits"}},8923:(e,t)=>{"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"===typeof t.freeze?t.freeze(e):e}var r=n({HTML:"text/html",isHTML:function(e){return e===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!==typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"===typeof n.find)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}},t.freeze=n,t.MIME_TYPE=r,t.NAMESPACE=i},8933:(e,t,n)=>{"use strict";n.d(t,{M:()=>S,y:()=>_});var r=n(1478),i=n(3596),s=n(4307),a=n(6876),o=n(1101),l=n(3276),c=n(9769),u=n(9211),d=n(8039),h=n(5221),p=n(4679),f=n(1823),m=n(8046),g=n(4579),v=n(356),b=n(6001);const _={};r.XO.handleByMap(r.Ag.ShapeBuilder,_),r.XO.add(m.a,f.h,g.b,d.RH,d.$S,d.nZ);const x=new s.M,y=new i.u;function S(e,t){const{geometryData:n,batches:r}=t;r.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let i=0;i<e.instructions.length;i++){const t=e.instructions[i];if("texture"===t.action)T(t.data,r,n);else if("fill"===t.action||"stroke"===t.action){const e="stroke"===t.action,i=t.data.path.shapePath,s=t.data.style,a=t.data.hole;e&&a&&w(a.shapePath,s,!0,r,n),a&&(i.shapePrimitives[i.shapePrimitives.length-1].holes=a.shapePath.shapePrimitives),w(i,s,e,r,n)}}}function T(e,t,n){const r=[],i=_.rectangle,s=x;s.x=e.dx,s.y=e.dy,s.width=e.dw,s.height=e.dh;const a=e.transform;if(!i.build(s,r))return;const{vertices:l,uvs:d,indices:h}=n,p=h.length,f=l.length/2;a&&(0,o.s)(r,a),i.triangulate(r,l,2,f,h,p);const m=e.image,g=m.uvs;d.push(g.x0,g.y0,g.x1,g.y1,g.x3,g.y3,g.x2,g.y2);const v=c.Z.get(u.G);v.indexOffset=p,v.indexSize=h.length-p,v.attributeOffset=f,v.attributeSize=l.length/2-f,v.baseColor=e.style,v.alpha=e.alpha,v.texture=m,v.geometryData=n,t.push(v)}function w(e,t,n,r,i){const{vertices:s,uvs:d,indices:f}=i;e.shapePrimitives.forEach(e=>{let{shape:m,transform:g,holes:x}=e;const S=[],T=_[m.type];if(!T.build(m,S))return;const w=f.length,A=s.length/2;let E="triangle-list";if(g&&(0,o.s)(S,g),n){var C;const e=null===(C=m.closePath)||void 0===C||C,n=t;n.pixelLine?((0,p.D)(S,e,s,f),E="line-list"):(0,h.h)(S,n,!1,e,s,f)}else if(x){const e=[],t=S.slice();(function(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n].shape,i=[];_[r.type].build(r,i)&&t.push(i)}return t})(x).forEach(n=>{e.push(t.length/2),t.push(...n)}),(0,b.U)(t,e,s,2,A,f,w)}else T.triangulate(S,s,2,A,f,w);const R=d.length/2,M=t.texture;if(M!==l.g.WHITE){const e=(0,v.Y)(y,t,m,g);(0,a.X)(s,2,A,d,R,2,s.length/2-A,e)}else(0,a.D)(d,R,2,s.length/2-A);const P=c.Z.get(u.G);P.indexOffset=w,P.indexSize=f.length-w,P.attributeOffset=A,P.attributeSize=s.length/2-A,P.baseColor=t.color,P.alpha=t.alpha,P.texture=M,P.geometryData=i,P.topology=E,r.push(P)})}},8955:(e,t,n)=>{"use strict";n.d(t,{T:()=>h});var r=n(2604),i=n(1960),s=n(279),a=n(2399),o=n(2158),l=n(680),c=n(1366);const u=new i.b,d=new i.b;class h{constructor(e){this.dispatch=new r.A,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((e,t)=>e.priority-t.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let n=0,r=t.length;n<r;n++)t[n].fn(e);else(0,s.R)("[EventBoundary]: Event mapping not defined for ".concat(e.type))}hitTest(e,t){a.U.pauseUpdate=!0;const n=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,u.set(e,t),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(e,t){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let r=0,i=n.length-1;r<i;r++)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let r=n.length-2;r>=0;r--)if(e.currentTarget=n[r],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._allInteractiveElements;if(0===n.length)return;e.eventPhase=e.BUBBLING_PHASE;const r=Array.isArray(t)?t:[t];for(let i=n.length-1;i>=0;i--)r.forEach(t=>{e.currentTarget=n[i],this.notifyTarget(e,t)})}propagationPath(e){const t=[e];for(let n=0;n<2048&&e!==this.rootTarget&&e.parent;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=!1;if(this._interactivePrune(e))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(a.U.pauseUpdate=!1),e.interactiveChildren&&e.children){const a=e.children;for(let l=a.length-1;l>=0;l--){const c=a[l],u=this.hitTestMoveRecursive(c,this._isInteractive(t)?t:c.eventMode,n,r,i,s||i(e,n));if(u){if(u.length>0&&!u[u.length-1].parent)continue;const t=e.isInteractive();(u.length>0||t)&&(t&&this._allInteractiveElements.push(e),u.push(e)),0===this._hitElements.length&&(this._hitElements=u),o=!0}}}const l=this._isInteractive(t),c=e.isInteractive();return c&&c&&this._allInteractiveElements.push(e),s||this._hitElements.length>0?null:o?this._hitElements:l&&!i(e,n)&&r(e,n)?c?[e]:[]:null}hitTestRecursive(e,t,n,r,i){if(this._interactivePrune(e)||i(e,n))return null;if("dynamic"!==e.eventMode&&"dynamic"!==t||(a.U.pauseUpdate=!1),e.interactiveChildren&&e.children){const s=e.children,a=n;for(let n=s.length-1;n>=0;n--){const o=s[n],l=this.hitTestRecursive(o,this._isInteractive(t)?t:o.eventMode,a,r,i);if(l){if(l.length>0&&!l[l.length-1].parent)continue;const t=e.isInteractive();return(l.length>0||t)&&l.push(e),l}}}const s=this._isInteractive(t),o=e.isInteractive();return s&&r(e,n)?o?[e]:[]:null}_isInteractive(e){return"static"===e||"dynamic"===e}_interactivePrune(e){return!(e&&e.visible&&e.renderable&&e.measurable)||("none"===e.eventMode||"passive"===e.eventMode&&!e.interactiveChildren)}hitPruneFn(e,t){if(e.hitArea&&(e.worldTransform.applyInverse(t,d),!e.hitArea.contains(d.x,d.y)))return!0;if(e.effects&&e.effects.length)for(let n=0;n<e.effects.length;n++){const r=e.effects[n];if(r.containsPoint){if(!r.containsPoint(t,this.hitTestFn))return!0}}return!1}hitTestFn(e,t){return!!e.hitArea||!(null===e||void 0===e||!e.containsPoint)&&(e.worldTransform.applyInverse(t,d),e.containsPoint(d))}notifyTarget(e,t){var n,r;if(!e.currentTarget.isInteractive())return;null!==t&&void 0!==t||(t=e.type);const i="on".concat(t);null===(n=(r=e.currentTarget)[i])||void 0===n||n.call(r,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?"".concat(t,"capture"):t;this._notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this._notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof l.A))return void(0,s.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),"touch"===t.pointerType)this.dispatchEvent(t,"touchstart");else if("mouse"===t.pointerType||"pen"===t.pointerType){const e=2===t.button;this.dispatchEvent(t,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var t,n;if(!(e instanceof l.A))return void(0,s.R)("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const i="mouse"===r.pointerType||"pen"===r.pointerType,a=this.trackingData(e.pointerId),o=this.findMountedTarget(a.overTargets);if((null===(t=a.overTargets)||void 0===t?void 0:t.length)>0&&o!==r.target){const t="mousemove"===e.type?"mouseout":"pointerout",n=this.createPointerEvent(e,t,o);if(this.dispatchEvent(n,"pointerout"),i&&this.dispatchEvent(n,"mouseout"),!r.composedPath().includes(o)){const t=this.createPointerEvent(e,"pointerleave",o);for(t.eventPhase=t.AT_TARGET;t.target&&!r.composedPath().includes(t.target);)t.currentTarget=t.target,this.notifyTarget(t),i&&this.notifyTarget(t,"mouseleave"),t.target=t.target.parent;this.freeEvent(t)}this.freeEvent(n)}if(o!==r.target){const t="mousemove"===e.type?"mouseover":"pointerover",n=this.clonePointerEvent(r,t);this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover");let s=null===o||void 0===o?void 0:o.parent;for(;s&&s!==this.rootTarget.parent&&s!==r.target;)s=s.parent;if(!s||s===this.rootTarget.parent){const e=this.clonePointerEvent(r,"pointerenter");for(e.eventPhase=e.AT_TARGET;e.target&&e.target!==o&&e.target!==this.rootTarget.parent;)e.currentTarget=e.target,this.notifyTarget(e),i&&this.notifyTarget(e,"mouseenter"),e.target=e.target.parent;this.freeEvent(e)}this.freeEvent(n)}const c=[],u=null===(n=this.enableGlobalMoveEvents)||void 0===n||n;var d;(this.moveOnAll?c.push("pointermove"):this.dispatchEvent(r,"pointermove"),u&&c.push("globalpointermove"),"touch"===r.pointerType&&(this.moveOnAll?c.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),u&&c.push("globaltouchmove")),i)&&(this.moveOnAll?c.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),u&&c.push("globalmousemove"),this.cursor=null===(d=r.target)||void 0===d?void 0:d.cursor);c.length>0&&this.all(r,c),this._allInteractiveElements.length=0,this._hitElements.length=0,a.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var t;if(!(e instanceof l.A))return void(0,s.R)("EventBoundary cannot map a non-pointer event as a pointer event");const n=this.trackingData(e.pointerId),r=this.createPointerEvent(e),i="mouse"===r.pointerType||"pen"===r.pointerType;this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover"),"mouse"===r.pointerType&&(this.cursor=null===(t=r.target)||void 0===t?void 0:t.cursor);const a=this.clonePointerEvent(r,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),i&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;n.overTargets=r.composedPath(),this.freeEvent(r),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof l.A))return void(0,s.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId);if(t.overTargets){const n="mouse"===e.pointerType||"pen"===e.pointerType,r=this.findMountedTarget(t.overTargets),i=this.createPointerEvent(e,"pointerout",r);this.dispatchEvent(i),n&&this.dispatchEvent(i,"mouseout");const s=this.createPointerEvent(e,"pointerleave",r);for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;t.overTargets=null,this.freeEvent(i),this.freeEvent(s)}this.cursor=null}mapPointerUp(e){if(!(e instanceof l.A))return void(0,s.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),"touch"===n.pointerType)this.dispatchEvent(n,"touchend");else if("mouse"===n.pointerType||"pen"===n.pointerType){const e=2===n.button;this.dispatchEvent(n,e?"rightup":"mouseup")}const r=this.trackingData(e.pointerId),i=this.findMountedTarget(r.pressTargetsByButton[e.button]);let a=i;if(i&&!n.composedPath().includes(i)){let t=i;for(;t&&!n.composedPath().includes(t);){if(n.currentTarget=t,this.notifyTarget(n,"pointerupoutside"),"touch"===n.pointerType)this.notifyTarget(n,"touchendoutside");else if("mouse"===n.pointerType||"pen"===n.pointerType){const e=2===n.button;this.notifyTarget(n,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete r.pressTargetsByButton[e.button],a=t}if(a){const i=this.clonePointerEvent(n,"click");i.target=a,i.path=null,r.clicksByButton[e.button]||(r.clicksByButton[e.button]={clickCount:0,target:i.target,timeStamp:t});const s=r.clicksByButton[e.button];if(s.target===i.target&&t-s.timeStamp<200?++s.clickCount:s.clickCount=1,s.target=i.target,s.timeStamp=t,i.detail=s.clickCount,"mouse"===i.pointerType){const e=2===i.button;this.dispatchEvent(i,e?"rightclick":"click")}else"touch"===i.pointerType&&this.dispatchEvent(i,"tap");this.dispatchEvent(i,"pointertap"),this.freeEvent(i)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof l.A))return void(0,s.R)("EventBoundary cannot map a non-pointer event as a pointer event");const t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),r=this.createPointerEvent(e);if(n){let i=n;for(;i;)r.currentTarget=i,this.notifyTarget(r,"pointerupoutside"),"touch"===r.pointerType?this.notifyTarget(r,"touchendoutside"):"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.notifyTarget(r,2===r.button?"rightupoutside":"mouseupoutside"),i=i.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(r)}mapWheel(e){if(!(e instanceof c.O))return void(0,s.R)("EventBoundary cannot map a non-wheel event as a wheel event");const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){var r;const i=this.allocateEvent(l.A);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=null!==(r=null!==n&&void 0!==n?n:this.hitTest(i.global.x,i.global.y))&&void 0!==r?r:this._hitElements[0],"string"===typeof t&&(i.type=t),i}createWheelEvent(e){const t=this.allocateEvent(c.O);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const n=this.allocateEvent(l.A);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=null!==t&&void 0!==t?t:n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof l.A&&t instanceof l.A&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof o._&&t instanceof o._&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.defaultPrevented=!1,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}_notifyListeners(e,t){const n=e.currentTarget._events[t];if(n)if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let r=0,i=n.length;r<i&&!e.propagationImmediatelyStopped;r++)n[r].once&&e.currentTarget.removeListener(t,n[r].fn,void 0,!0),n[r].fn.call(n[r].context,e)}}},8964:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});const r=()=>{}},8980:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(5202),i=n(6333);function s(e,t){if(!(e instanceof r.h)){let n=t?i.S.INDEX:i.S.VERTEX;e instanceof Array&&(t?(e=new Uint32Array(e),n=i.S.INDEX|i.S.COPY_DST):(e=new Float32Array(e),n=i.S.VERTEX|i.S.COPY_DST)),e=new r.h({data:e,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return e}},8983:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});const r={type:"image",upload(e,t,n){const r=e.resource,i=(0|e.pixelWidth)*(0|e.pixelHeight),s=r.byteLength/i;n.device.queue.writeTexture({texture:t},r,{offset:0,rowsPerImage:e.pixelHeight,bytesPerRow:e.pixelHeight*s},{width:e.pixelWidth,height:e.pixelHeight,depthOrArrayLayers:1})}}},8984:(e,t,n)=>{"use strict";n.d(t,{N:()=>h});var r=n(366),i=n(4850),s=n(7960),a=n(1478),o=n(3276),l=n(6268),c=n(9652);const u=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function d(e,t,n){const r={};if(e.forEach(e=>{r[e]=t}),Object.keys(t.textures).forEach(e=>{r["".concat(t.cachePrefix).concat(e)]=t.textures[e]}),!n){const n=l.A.dirname(e[0]);t.linkedSheets.forEach((e,i)=>{const s=d(["".concat(n,"/").concat(t.data.meta.related_multi_packs[i])],e,!0);Object.assign(r,s)})}return r}const h={extension:a.Ag.Asset,cache:{test:e=>e instanceof c.z,getCacheableAssets:(e,t)=>d(e,t,!1)},resolver:{extension:{type:a.Ag.ResolveParser,name:"resolveSpritesheet"},test:e=>{const t=e.split("?")[0].split("."),n=t.pop(),r=t.pop();return"json"===n&&u.includes(r)},parse:e=>{var t,n;const r=e.split(".");return{resolution:parseFloat(null!==(t=null===(n=i.x.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:r[r.length-2],src:e}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:a.Ag.LoadParser,priority:r.T.Normal,name:"spritesheetLoader"},testParse:async(e,t)=>".json"===l.A.extname(t.src).toLowerCase()&&!!e.frames,async parse(e,t,n){var r,i;const{texture:a,imageFilename:u,textureOptions:d,cachePrefix:h}=null!==(r=null===t||void 0===t?void 0:t.data)&&void 0!==r?r:{};let p,f=l.A.dirname(t.src);if(f&&f.lastIndexOf("/")!==f.length-1&&(f+="/"),a instanceof o.g)p=a;else{const r=(0,s.Y)(f+(null!==u&&void 0!==u?u:e.meta.image),t.src);p=(await n.load([{src:r,data:d}]))[r]}const m=new c.z({texture:p.source,data:e,cachePrefix:h});await m.parse();const g=null===e||void 0===e||null===(i=e.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(g)){const e=[];for(const i of g){var v;if("string"!==typeof i)continue;let r=f+i;null!==(v=t.data)&&void 0!==v&&v.ignoreMultiPack||(r=(0,s.Y)(r,t.src),e.push(n.load({src:r,data:{textureOptions:d,ignoreMultiPack:!0}})))}const r=await Promise.all(e);m.linkedSheets=r,r.forEach(e=>{e.linkedSheets=[m].concat(m.linkedSheets.filter(t=>t!==e))})}return m},async unload(e,t,n){await n.unload(e.textureSource._sourceOrigin),e.destroy(!1)}}}},9027:(e,t,n)=>{"use strict";n.d(t,{l:()=>f});var r=n(3596),i=n(4307),s=n(7422),a=n(9707),o=n(7574),l=n(5937),c=n(6904),u=n(3276),d=n(4664),h=n(5738),p=n(348);class f{constructor(e){this.rootViewPort=new i.M,this.viewport=new i.M,this.onRenderTargetChange=new o.C("onRenderTargetChange"),this.projectionMatrix=new r.u,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart(e){var t,n;let{target:r,clear:i,clearColor:s,frame:a}=e;this._renderTargetStack.length=0,this.push(r,i,s,a),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=(0,h.A)(this.rootRenderTarget),null===(t=(n=this.adaptor).prerender)||void 0===t||t.call(n,this.rootRenderTarget)}postrender(){var e,t;null===(e=(t=this.adaptor).postrender)||void 0===e||e.call(t,this.rootRenderTarget)}bind(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=this.getRenderTarget(e),s=this.renderTarget!==i;this.renderTarget=i,this.renderSurface=e;const o=this.getGpuRenderTarget(i);i.pixelWidth===o.width&&i.pixelHeight===o.height||(this.adaptor.resizeGpuRenderTarget(i),o.width=i.pixelWidth,o.height=i.pixelHeight);const l=i.colorTexture,c=this.viewport,d=l.pixelWidth,h=l.pixelHeight;if(!r&&e instanceof u.g&&(r=e.frame),r){const e=l._resolution;c.x=r.x*e+.5|0,c.y=r.y*e+.5|0,c.width=r.width*e+.5|0,c.height=r.height*e+.5|0}else c.x=0,c.y=0,c.width=d,c.height=h;return(0,a.s)(this.projectionMatrix,0,0,c.width/l.resolution,c.height/l.resolution,!i.isRoot),this.adaptor.startRenderPass(i,t,n,c),s&&this.onRenderTargetChange.emit(i),i}clear(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.u.ALL,n=arguments.length>2?arguments[2]:void 0;t&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,t,n,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.u.ALL,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=this.bind(e,t,n,r);return this._renderTargetStack.push({renderTarget:i,frame:r}),i}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){var t;return e.isTexture&&(e=e.source),null!==(t=this._renderSurfaceToRenderTargetHash.get(e))&&void 0!==t?t:this._initRenderTarget(e)}copyToTexture(e,t,n,r,i){n.x<0&&(r.width+=n.x,i.x-=n.x,n.x=0),n.y<0&&(r.height+=n.y,i.y-=n.y,n.y=0);const{pixelWidth:s,pixelHeight:a}=e;return r.width=Math.min(r.width,s-n.x),r.height=Math.min(r.height,a-n.y),this.adaptor.copyToTexture(e,t,n,r,i)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((e,t)=>{e!==t&&e.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let t=null;return l.q.test(e)&&(e=(0,d.c)(e).source),e instanceof p.O?t=e:e instanceof c.v&&(t=new p.O({colorTextures:[e]}),e.source instanceof l.q&&(t.isRoot=!0),e.once("destroy",()=>{t.destroy(),this._renderSurfaceToRenderTargetHash.delete(e);const n=this._gpuRenderTargetHash[t.uid];n&&(this._gpuRenderTargetHash[t.uid]=null,this.adaptor.destroyGpuRenderTarget(n))})),this._renderSurfaceToRenderTargetHash.set(e,t),t}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}resetState(){this.renderTarget=null,this.renderSurface=null}}},9068:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a,W:()=>s});var r=n(1478);const i=[];async function s(e){if(!e)for(let t=0;t<i.length;t++){const e=i[t];if(e.value.test())return void await e.value.load()}}async function a(e){return s(!e)}r.XO.handleByNamedList(r.Ag.Environment,i)},9121:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(9914),i=n(279);const s={type:"image",upload(e,t,n){const s=e.resource;if(!s)return;if(globalThis.HTMLImageElement&&s instanceof HTMLImageElement){const t=r.e.get().createCanvas(s.width,s.height);t.getContext("2d").drawImage(s,0,0,s.width,s.height),e.resource=t,(0,i.R)("ImageSource: Image element passed, converting to canvas and replacing resource.")}const a=Math.min(t.width,e.resourceWidth||e.pixelWidth),o=Math.min(t.height,e.resourceHeight||e.pixelHeight),l="premultiply-alpha-on-upload"===e.alphaMode;n.device.queue.copyExternalImageToTexture({source:s},{texture:t,premultipliedAlpha:l},{width:a,height:o})}}},9148:(e,t,n)=>{"use strict";n.d(t,{E:()=>d});var r=n(3596);const i=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],s=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],o=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],l=[],c=[],u=Math.sign;!function(){for(let e=0;e<16;e++){const t=[];l.push(t);for(let n=0;n<16;n++){const r=u(i[e]*i[n]+a[e]*s[n]),l=u(s[e]*i[n]+o[e]*s[n]),c=u(i[e]*a[n]+a[e]*o[n]),d=u(s[e]*a[n]+o[e]*o[n]);for(let e=0;e<16;e++)if(i[e]===r&&s[e]===l&&a[e]===c&&o[e]===d){t.push(e);break}}}for(let e=0;e<16;e++){const t=new r.u;t.set(i[e],s[e],a[e],o[e],0,0),c.push(t)}}();const d={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>i[e],uY:e=>s[e],vX:e=>a[e],vY:e=>o[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>l[e][t],sub:(e,t)=>l[e][d.inv(t)],rotate180:e=>4^e,isVertical:e=>2===(3&e),byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?t>=0?d.S:d.N:2*Math.abs(t)<=Math.abs(e)?e>0?d.E:d.W:t>0?e>0?d.SE:d.SW:e>0?d.NE:d.NW,matrixAppendRotationInv:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=c[d.inv(t)];i.tx=n,i.ty=r,e.append(i)},transformRectCoords:(e,t,n,r)=>{const{x:i,y:s,width:a,height:o}=e,{x:l,y:c,width:u,height:h}=t;return n===d.E?(r.set(i+l,s+c,a,o),r):n===d.S?r.set(u-s-o+l,i+c,o,a):n===d.W?r.set(u-i-a+l,h-s-o+c,a,o):n===d.N?r.set(s+l,h-i-a+c,o,a):r.set(i+l,s+c,a,o)}}},9164:(e,t,n)=>{"use strict";function r(e,t,n,i,s){const a=t[n];for(let o=0;o<a.length;o++){const l=a[o];n<t.length-1?r(e.replace(i[n],l),t,n+1,i,s):s.push(e.replace(i[n],l))}}function i(e){const t=e.match(/\{(.*?)\}/g),n=[];if(t){const i=[];t.forEach(e=>{const t=e.substring(1,e.length-1).split(",");i.push(t)}),r(e,i,0,t,n)}else n.push(e);return n}n.d(t,{m:()=>i})},9194:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(4668),i=n(5202),s=n(6333);class a{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!(0,r.f)())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const t=this.getUniformGroupData(e);e.buffer||(e.buffer=new i.h({data:new Float32Array(t.layout.size/4),usage:s.S.UNIFORM|s.S.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const t=e._signature;let n=this._syncFunctionHash[t];if(!n){const r=Object.keys(e.uniformStructures).map(t=>e.uniformStructures[t]),i=this._adaptor.createUboElements(r),s=this._generateUboSync(i.uboElements);n=this._syncFunctionHash[t]={layout:i,syncFunction:s}}return this._syncFunctionHash[t]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,t,n){const r=this.getUniformGroupData(e);e.buffer||(e.buffer=new i.h({data:new Float32Array(r.layout.size/4),usage:s.S.UNIFORM|s.S.COPY_DST}));let a=null;return t||(t=e.buffer.data,a=e.buffer.dataInt32),n||(n=0),r.syncFunction(e.uniforms,t,a,n),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const t=this.syncUniformGroup(e);return e.buffer.update(),t}destroy(){this._syncFunctionHash=null}}},9211:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var r=n(3596),i=n(6225);const s=new r.u;class a{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,t=e>>16|65280&e|(255&e)<<16,n=this.renderable;return n?(0,i.u)(t,n.groupColor)+(this.alpha*n.groupAlpha*255<<24):t+(255*this.alpha<<24)}get transform(){var e;return(null===(e=this.renderable)||void 0===e?void 0:e.groupTransform)||s}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}},9216:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(1478);class i{constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,t,n){this._renderer.renderPipes.batch.break(n);const r=this._colorStack;r[this._colorStackIndex]=r[this._colorStackIndex-1]&e.mask;const i=this._colorStack[this._colorStackIndex];i!==this._currentColor&&(this._currentColor=i,n.add({renderPipeId:"colorMask",colorMask:i,canBundle:!1})),this._colorStackIndex++}pop(e,t,n){this._renderer.renderPipes.batch.break(n);const r=this._colorStack;this._colorStackIndex--;const i=r[this._colorStackIndex-1];i!==this._currentColor&&(this._currentColor=i,n.add({renderPipeId:"colorMask",colorMask:i,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._colorStack=null}}i.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"colorMask"}},9236:(e,t,n)=>{"use strict";n.d(t,{j:()=>s});var r=n(1478),i=n(4586);class s{constructor(e){this._attachedDomElements=[],this._renderer=e,this._renderer.runners.postrender.add(this),this._renderer.runners.init.add(this),this._domElement=document.createElement("div"),this._domElement.style.position="absolute",this._domElement.style.top="0",this._domElement.style.left="0",this._domElement.style.pointerEvents="none",this._domElement.style.zIndex="1000"}init(){this._canvasObserver=new i.B({domElement:this._domElement,renderer:this._renderer})}addRenderable(e,t){this._attachedDomElements.includes(e)||this._attachedDomElements.push(e)}updateRenderable(e){}validateRenderable(e){return!0}postrender(){const e=this._attachedDomElements;if(0!==e.length){this._canvasObserver.ensureAttached();for(let t=0;t<e.length;t++){const n=e[t],r=n.element;if(!n.parent||n.globalDisplayStatus<7)null===r||void 0===r||r.remove(),e.splice(t,1),t--;else{this._domElement.contains(r)||(r.style.position="absolute",r.style.pointerEvents="auto",this._domElement.appendChild(r));const e=n.worldTransform,t=n._anchor,i=n.width*t.x,s=n.height*t.y;r.style.transformOrigin="".concat(i,"px ").concat(s,"px"),r.style.transform="matrix(".concat(e.a,", ").concat(e.b,", ").concat(e.c,", ").concat(e.d,", ").concat(e.tx-i,", ").concat(e.ty-s,")"),r.style.opacity=n.groupAlpha.toString()}}}else this._domElement.remove()}destroy(){this._renderer.runners.postrender.remove(this);for(let t=0;t<this._attachedDomElements.length;t++){var e;null===(e=this._attachedDomElements[t].element)||void 0===e||e.remove()}this._attachedDomElements.length=0,this._domElement.remove(),this._canvasObserver.destroy(),this._renderer=null}}s.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"dom"}},9253:(e,t,n)=>{"use strict";n.d(t,{B:()=>i});const r={"bc1-rgba-unorm":!0,"bc1-rgba-unorm-srgb":!0,"bc2-rgba-unorm":!0,"bc2-rgba-unorm-srgb":!0,"bc3-rgba-unorm":!0,"bc3-rgba-unorm-srgb":!0,"bc4-r-unorm":!0,"bc4-r-snorm":!0,"bc5-rg-unorm":!0,"bc5-rg-snorm":!0,"bc6h-rgb-ufloat":!0,"bc6h-rgb-float":!0,"bc7-rgba-unorm":!0,"bc7-rgba-unorm-srgb":!0,"etc2-rgb8unorm":!0,"etc2-rgb8unorm-srgb":!0,"etc2-rgb8a1unorm":!0,"etc2-rgb8a1unorm-srgb":!0,"etc2-rgba8unorm":!0,"etc2-rgba8unorm-srgb":!0,"eac-r11unorm":!0,"eac-r11snorm":!0,"eac-rg11unorm":!0,"eac-rg11snorm":!0,"astc-4x4-unorm":!0,"astc-4x4-unorm-srgb":!0,"astc-5x4-unorm":!0,"astc-5x4-unorm-srgb":!0,"astc-5x5-unorm":!0,"astc-5x5-unorm-srgb":!0,"astc-6x5-unorm":!0,"astc-6x5-unorm-srgb":!0,"astc-6x6-unorm":!0,"astc-6x6-unorm-srgb":!0,"astc-8x5-unorm":!0,"astc-8x5-unorm-srgb":!0,"astc-8x6-unorm":!0,"astc-8x6-unorm-srgb":!0,"astc-8x8-unorm":!0,"astc-8x8-unorm-srgb":!0,"astc-10x5-unorm":!0,"astc-10x5-unorm-srgb":!0,"astc-10x6-unorm":!0,"astc-10x6-unorm-srgb":!0,"astc-10x8-unorm":!0,"astc-10x8-unorm-srgb":!0,"astc-10x10-unorm":!0,"astc-10x10-unorm-srgb":!0,"astc-12x10-unorm":!0,"astc-12x10-unorm-srgb":!0,"astc-12x12-unorm":!0,"astc-12x12-unorm-srgb":!0},i={id:"compressed",upload(e,t,n){n.pixelStorei(n.UNPACK_ALIGNMENT,4);let i=e.pixelWidth,s=e.pixelHeight;const a=!!r[e.format];for(let r=0;r<e.resource.length;r++){const o=e.resource[r];a?n.compressedTexImage2D(n.TEXTURE_2D,r,t.internalFormat,i,s,0,o):n.texImage2D(n.TEXTURE_2D,r,t.internalFormat,i,s,0,t.format,t.type,o),i=Math.max(i>>1,1),s=Math.max(s>>1,1)}}}},9258:(e,t,n)=>{"use strict";n.d(t,{_:()=>l,_4:()=>d,tx:()=>u});var r=n(8656),i=n(1478),s=n(6904),a=n(3276);const o=[];function l(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e&&e.resource,n=t?e.resource:e,r=t?e:{resource:e};for(let i=0;i<o.length;i++){const e=o[i];if(e.test(n))return new e(r)}throw new Error("Could not find a source type for resource: ".concat(r.resource))}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e&&e.resource,i=n?e.resource:e,s=n?e:{resource:e};if(!t&&r.l.has(i))return r.l.get(i);const o=new a.g({source:c(s)});return o.on("destroy",()=>{r.l.has(i)&&r.l.remove(i)}),t||r.l.set(i,o),o}function d(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"string"===typeof e?r.l.get(e):e instanceof s.v?new a.g({source:e}):u(e,t)}i.XO.handleByList(i.Ag.TextureSource,o),a.g.from=d,s.v.from=c},9266:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(1478),i=n(5351),s=n(5514),a=n(9658);let o=null;const l=class e extends i.i{constructor(t){super(t),this.geometry=new s.J,this.name=e.extension.name,this.vertexSize=6,null!==o&&void 0!==o||(o=new a.$(t.maxTextures)),this.shader=o}packAttributes(e,t,n,r,i){const s=i<<16|65535&e.roundPixels,a=e.transform,o=a.a,l=a.b,c=a.c,u=a.d,d=a.tx,h=a.ty,{positions:p,uvs:f}=e,m=e.color,g=e.attributeOffset,v=g+e.attributeSize;for(let b=g;b<v;b++){const e=2*b,i=p[e],a=p[e+1];t[r++]=o*i+c*a+d,t[r++]=u*a+l*i+h,t[r++]=f[e],t[r++]=f[e+1],n[r++]=m,n[r++]=s}}packQuadAttributes(e,t,n,r,i){const s=e.texture,a=e.transform,o=a.a,l=a.b,c=a.c,u=a.d,d=a.tx,h=a.ty,p=e.bounds,f=p.maxX,m=p.minX,g=p.maxY,v=p.minY,b=s.uvs,_=e.color,x=i<<16|65535&e.roundPixels;t[r+0]=o*m+c*v+d,t[r+1]=u*v+l*m+h,t[r+2]=b.x0,t[r+3]=b.y0,n[r+4]=_,n[r+5]=x,t[r+6]=o*f+c*v+d,t[r+7]=u*v+l*f+h,t[r+8]=b.x1,t[r+9]=b.y1,n[r+10]=_,n[r+11]=x,t[r+12]=o*f+c*g+d,t[r+13]=u*g+l*f+h,t[r+14]=b.x2,t[r+15]=b.y2,n[r+16]=_,n[r+17]=x,t[r+18]=o*m+c*g+d,t[r+19]=u*g+l*m+h,t[r+20]=b.x3,t[r+21]=b.y3,n[r+22]=_,n[r+23]=x}};l.extension={type:[r.Ag.Batcher],name:"default"};let c=l},9316:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var r=n(1478),i=n(1446),s=n(6650);class a{constructor(e){this._renderer=e}init(e){if(e.hello){let e=this._renderer.name;this._renderer.type===s.W.WEBGL&&(e+=" ".concat(this._renderer.context.webGLVersion)),(0,i.e)(e)}}}a.extension={type:[r.Ag.WebGLSystem,r.Ag.WebGPUSystem,r.Ag.CanvasSystem],name:"hello",priority:-2},a.defaultOptions={hello:!1}},9385:(e,t,n)=>{"use strict";function r(e,t,n,r){n[r++]=(e>>16&255)/255,n[r++]=(e>>8&255)/255,n[r++]=(255&e)/255,n[r++]=t}function i(e,t,n){const r=(e>>24&255)/255;t[n++]=(255&e)/255*r,t[n++]=(e>>8&255)/255*r,t[n++]=(e>>16&255)/255*r,t[n++]=r}n.d(t,{$:()=>r,V:()=>i})},9445:(e,t,n)=>{"use strict";n.d(t,{N:()=>a,V:()=>s});var r=n(9914),i=n(8186);class s{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,t){const n=r.e.get().createCanvas();n.width=e,n.height=t;const i=n.getContext("2d");return{canvas:n,context:i}}getOptimalCanvasAndContext(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;e=Math.ceil(e*n-1e-6),t=Math.ceil(t*n-1e-6);const r=((e=(0,i.U5)(e))<<17)+((t=(0,i.U5)(t))<<1);this._canvasPool[r]||(this._canvasPool[r]=[]);let s=this._canvasPool[r].pop();return s||(s=this._createCanvasAndContext(e,t)),s}returnCanvasAndContext(e){const t=e.canvas,{width:n,height:r}=t,i=(n<<17)+(r<<1);e.context.resetTransform(),e.context.clearRect(0,0,n,r),this._canvasPool[i].push(e)}clear(){this._canvasPool={}}}const a=new s},9447:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});const r={_onRender:null,set onRender(e){const t=this.renderGroup||this.parentRenderGroup;if(!e)return this._onRender&&(null===t||void 0===t||t.removeOnRender(this)),void(this._onRender=null);this._onRender||null===t||void 0===t||t.addOnRender(this),this._onRender=e},get onRender(){return this._onRender}}},9471:(e,t,n)=>{"use strict";n.d(t,{F:()=>y});var r,i=/iPhone/i,s=/iPod/i,a=/iPad/i,o=/\biOS-universal(?:.+)Mac\b/i,l=/\bAndroid(?:.+)Mobile\b/i,c=/Android/i,u=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,d=/Silk/i,h=/Windows Phone/i,p=/\bWindows(?:.+)ARM\b/i,f=/BlackBerry/i,m=/BB10/i,g=/Opera Mini/i,v=/\b(CriOS|Chrome)(?:.+)Mobile/i,b=/Mobile(?:.+)Firefox\b/i,_=function(e){return"undefined"!==typeof e&&"MacIntel"===e.platform&&"number"===typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"===typeof MSStream};function x(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"===typeof navigator?"string"===typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,r=n.split("[FBAN");"undefined"!==typeof r[1]&&(n=r[0]),"undefined"!==typeof(r=n.split("Twitter"))[1]&&(n=r[0]);var x=function(e){return function(t){return t.test(e)}}(n),y={apple:{phone:x(i)&&!x(h),ipod:x(s),tablet:!x(i)&&(x(a)||_(t))&&!x(h),universal:x(o),device:(x(i)||x(s)||x(a)||x(o)||_(t))&&!x(h)},amazon:{phone:x(u),tablet:!x(u)&&x(d),device:x(u)||x(d)},android:{phone:!x(h)&&x(u)||!x(h)&&x(l),tablet:!x(h)&&!x(u)&&!x(l)&&(x(d)||x(c)),device:!x(h)&&(x(u)||x(d)||x(l)||x(c))||x(/\bokhttp\b/i)},windows:{phone:x(h),tablet:x(p),device:x(h)||x(p)},other:{blackberry:x(f),blackberry10:x(m),opera:x(g),firefox:x(b),chrome:x(v),device:x(f)||x(m)||x(g)||x(b)||x(v)},any:!1,phone:!1,tablet:!1};return y.any=y.apple.device||y.android.device||y.windows.device||y.other.device,y.phone=y.apple.phone||y.android.phone||y.windows.phone,y.tablet=y.apple.tablet||y.android.tablet||y.windows.tablet,y}const y=(null!==(r=x.default)&&void 0!==r?r:x)(globalThis.navigator)},9486:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(2604),i=n(2026);class s extends r.A{constructor(e){let{buffer:t,offset:n,size:r}=e;super(),this.uid=(0,i.L)("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=(0,i.L)("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=t,this.offset=0|n,this.size=r,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=(0,i.L)("resource"),this.emit("change",this)}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}},9514:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});const r={id:"image",upload(e,t,n,r){const i=t.width,s=t.height,a=e.pixelWidth,o=e.pixelHeight,l=e.resourceWidth,c=e.resourceHeight;l<a||c<o?(i===a&&s===o||n.texImage2D(t.target,0,t.internalFormat,a,o,0,t.format,t.type,null),2===r?n.texSubImage2D(n.TEXTURE_2D,0,0,0,l,c,t.format,t.type,e.resource):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.format,t.type,e.resource)):i===a&&s===o?n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.format,t.type,e.resource):2===r?n.texImage2D(t.target,0,t.internalFormat,a,o,0,t.format,t.type,e.resource):n.texImage2D(t.target,0,t.internalFormat,t.format,t.type,e.resource),t.width=a,t.height=o}}},9521:(e,t,n)=>{"use strict";n.d(t,{$:()=>m});var r=n(3596),i=n(6220),s=n(3144),a=n(1193),o=n(4994),l=n(9963),c=n(3636),u=n(6538),d=n(3552),h=n(7381);let p,f;class m extends c.M{constructor(e){const t=new u.k({uColor:{value:new Float32Array([1,1,1,1]),type:"vec4<f32>"},uTransformMatrix:{value:new r.u,type:"mat3x3<f32>"},uDistance:{value:4,type:"f32"},uRound:{value:0,type:"f32"}});null!==p&&void 0!==p||(p=(0,i.v)({name:"sdf-shader",bits:[s.F,(0,a._)(e),d.D,h._,o.b]})),null!==f&&void 0!==f||(f=(0,i.I)({name:"sdf-shader",bits:[s.a,(0,a.P)(e),d.C,h.Z,o.m]})),super({glProgram:f,gpuProgram:p,resources:{localUniforms:t,batchSamplers:(0,l.n)(e)}})}}},9526:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{A:()=>i})},9530:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(2590),i=n(3276);const s={};function a(e,t,n){let a=2166136261;for(let r=0;r<t;r++)a^=e[r].uid,a=Math.imul(a,16777619),a>>>=0;return s[a]||function(e,t,n,a){const o={};let l=0;for(let r=0;r<a;r++){const n=r<t?e[r]:i.g.EMPTY.source;o[l++]=n.source,o[l++]=n.style}const c=new r.T(o);return s[n]=c,c}(e,t,a,n)}},9590:(e,t,n)=>{"use strict";n.d(t,{_:()=>m});var r=n(9914),i=n(1478),s=n(3276),a=n(4845),o=n(4164),l=n(9253),c=n(9514),u=n(7572),d=n(1498),h=n(8625),p=n(7962),f=n(1500);class m{constructor(e){this.managedTextures=[],this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundTextures=[],this._activeTextureLocation=-1,this._boundSamplers=Object.create(null),this._uploads={image:c.a,buffer:o.e,video:u._,compressed:l.B},this._premultiplyAlpha=!1,this._useSeparateSamplers=!1,this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_glTextures"),this._renderer.renderableGC.addManagedHash(this,"_glSamplers")}contextChange(e){this._gl=e,this._mapFormatToInternalFormat||(this._mapFormatToInternalFormat=(0,p.Y)(e,this._renderer.context.extensions),this._mapFormatToType=(0,f.o)(e),this._mapFormatToFormat=(0,h.R)(e)),this._glTextures=Object.create(null),this._glSamplers=Object.create(null),this._boundSamplers=Object.create(null),this._premultiplyAlpha=!1;for(let t=0;t<16;t++)this.bind(s.g.EMPTY,t)}initSource(e){this.bind(e)}bind(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=e.source;e?(this.bindSource(n,t),this._useSeparateSamplers&&this._bindSampler(n.style,t)):(this.bindSource(null,t),this._useSeparateSamplers&&this._bindSampler(null,t))}bindSource(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this._gl;if(e._touched=this._renderer.textureGC.count,this._boundTextures[t]!==e){this._boundTextures[t]=e,this._activateLocation(t),e||(e=s.g.EMPTY.source);const r=this.getGlSource(e);n.bindTexture(r.target,r.texture)}}_bindSampler(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this._gl;if(!e)return this._boundSamplers[t]=null,void n.bindSampler(t,null);const r=this._getGlSampler(e);this._boundSamplers[t]!==r&&(this._boundSamplers[t]=r,n.bindSampler(t,r))}unbind(e){const t=e.source,n=this._boundTextures,r=this._gl;for(let i=0;i<n.length;i++)if(n[i]===t){this._activateLocation(i);const e=this.getGlSource(t);r.bindTexture(e.target,null),n[i]=null}}_activateLocation(e){this._activeTextureLocation!==e&&(this._activeTextureLocation=e,this._gl.activeTexture(this._gl.TEXTURE0+e))}_initSource(e){const t=this._gl,n=new a.P(t.createTexture());if(n.type=this._mapFormatToType[e.format],n.internalFormat=this._mapFormatToInternalFormat[e.format],n.format=this._mapFormatToFormat[e.format],e.autoGenerateMipmaps&&(this._renderer.context.supports.nonPowOf2mipmaps||e.isPowerOfTwo)){const t=Math.max(e.width,e.height);e.mipLevelCount=Math.floor(Math.log2(t))+1}return this._glTextures[e.uid]=n,this.managedTextures.includes(e)||(e.on("update",this.onSourceUpdate,this),e.on("resize",this.onSourceUpdate,this),e.on("styleChange",this.onStyleChange,this),e.on("destroy",this.onSourceDestroy,this),e.on("unload",this.onSourceUnload,this),e.on("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.push(e)),this.onSourceUpdate(e),this.updateStyle(e,!1),n}onStyleChange(e){this.updateStyle(e,!1)}updateStyle(e,t){const n=this._gl,r=this.getGlSource(e);n.bindTexture(n.TEXTURE_2D,r.texture),this._boundTextures[this._activeTextureLocation]=e,(0,d.m)(e.style,n,e.mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"texParameteri",n.TEXTURE_2D,!this._renderer.context.supports.nonPowOf2wrapping&&!e.isPowerOfTwo,t)}onSourceUnload(e){const t=this._glTextures[e.uid];t&&(this.unbind(e),this._glTextures[e.uid]=null,this._gl.deleteTexture(t.texture))}onSourceUpdate(e){const t=this._gl,n=this.getGlSource(e);t.bindTexture(t.TEXTURE_2D,n.texture),this._boundTextures[this._activeTextureLocation]=e;const r="premultiply-alpha-on-upload"===e.alphaMode;this._premultiplyAlpha!==r&&(this._premultiplyAlpha=r,t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r)),this._uploads[e.uploadMethodId]?this._uploads[e.uploadMethodId].upload(e,n,t,this._renderer.context.webGLVersion):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e.pixelWidth,e.pixelHeight,0,t.RGBA,t.UNSIGNED_BYTE,null),e.autoGenerateMipmaps&&e.mipLevelCount>1&&this.onUpdateMipmaps(e,!1)}onUpdateMipmaps(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.bindSource(e,0);const t=this.getGlSource(e);this._gl.generateMipmap(t.target)}onSourceDestroy(e){e.off("destroy",this.onSourceDestroy,this),e.off("update",this.onSourceUpdate,this),e.off("resize",this.onSourceUpdate,this),e.off("unload",this.onSourceUnload,this),e.off("styleChange",this.onStyleChange,this),e.off("updateMipmaps",this.onUpdateMipmaps,this),this.managedTextures.splice(this.managedTextures.indexOf(e),1),this.onSourceUnload(e)}_initSampler(e){const t=this._gl,n=this._gl.createSampler();return this._glSamplers[e._resourceId]=n,(0,d.m)(e,t,this._boundTextures[this._activeTextureLocation].mipLevelCount>1,this._renderer.context.extensions.anisotropicFiltering,"samplerParameteri",n,!1,!0),this._glSamplers[e._resourceId]}_getGlSampler(e){return this._glSamplers[e._resourceId]||this._initSampler(e)}getGlSource(e){return this._glTextures[e.uid]||this._initSource(e)}generateCanvas(e){const{pixels:t,width:n,height:i}=this.getPixels(e),s=r.e.get().createCanvas();s.width=n,s.height=i;const a=s.getContext("2d");if(a){const e=a.createImageData(n,i);e.data.set(t),a.putImageData(e,0,0)}return s}getPixels(e){const t=e.source.resolution,n=e.frame,r=Math.max(Math.round(n.width*t),1),i=Math.max(Math.round(n.height*t),1),s=new Uint8Array(4*r*i),a=this._renderer,o=a.renderTarget.getRenderTarget(e),l=a.renderTarget.getGpuRenderTarget(o),c=a.gl;return c.bindFramebuffer(c.FRAMEBUFFER,l.resolveTargetFramebuffer),c.readPixels(Math.round(n.x*t),Math.round(n.y*t),r,i,c.RGBA,c.UNSIGNED_BYTE,s),{pixels:new Uint8ClampedArray(s.buffer),width:r,height:i}}destroy(){this.managedTextures.slice().forEach(e=>this.onSourceDestroy(e)),this.managedTextures=null,this._renderer=null}resetState(){this._activeTextureLocation=-1,this._boundTextures.fill(s.g.EMPTY.source),this._boundSamplers=Object.create(null);const e=this._gl;this._premultiplyAlpha=!1,e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._premultiplyAlpha)}}m.extension={type:[i.Ag.WebGLSystem],name:"texture"}},9652:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=n(4307),i=n(6904),s=n(3276);const a=class e{constructor(e,t){this.linkedSheets=[];let n=e;(null===e||void 0===e?void 0:e.source)instanceof i.v&&(n={texture:e,data:t});const{texture:r,data:a,cachePrefix:o=""}=n;this.cachePrefix=o,this._texture=r instanceof s.g?r:null,this.textureSource=r.source,this.textures={},this.animations={},this.data=a;const l=parseFloat(a.meta.scale);l?(this.resolution=l,r.source.resolution=this.resolution):this.resolution=r.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const i=e.BATCH_SIZE;for(;n-t<i&&n<this._frameKeys.length;){const e=this._frameKeys[n],t=this._frames[e],i=t.frame;if(i){let n=null,a=null;const o=!1!==t.trimmed&&t.sourceSize?t.sourceSize:t.frame,l=new r.M(0,0,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution);n=t.rotated?new r.M(Math.floor(i.x)/this.resolution,Math.floor(i.y)/this.resolution,Math.floor(i.h)/this.resolution,Math.floor(i.w)/this.resolution):new r.M(Math.floor(i.x)/this.resolution,Math.floor(i.y)/this.resolution,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution),!1!==t.trimmed&&t.spriteSourceSize&&(a=new r.M(Math.floor(t.spriteSourceSize.x)/this.resolution,Math.floor(t.spriteSourceSize.y)/this.resolution,Math.floor(i.w)/this.resolution,Math.floor(i.h)/this.resolution)),this.textures[e]=new s.g({source:this.textureSource,frame:n,orig:l,trim:a,rotate:t.rotated?2:0,defaultAnchor:t.anchor,defaultBorders:t.borders,label:e.toString()})}n++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let n=0;n<e[t].length;n++){const r=e[t][n];this.animations[t].push(this.textures[r])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*e.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(const n in this.textures)this.textures[n].destroy();var t;(this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e)&&(null===(t=this._texture)||void 0===t||t.destroy(),this.textureSource.destroy());this._texture=null,this.textureSource=null,this.linkedSheets=[]}};a.BATCH_SIZE=1e3;let o=a},9658:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var r=n(6220),i=n(3144),s=n(1193),a=n(4994),o=n(9963),l=n(3636);class c extends l.M{constructor(e){super({glProgram:(0,r.I)({name:"batch",bits:[i.a,(0,s.P)(e),a.m]}),gpuProgram:(0,r.v)({name:"batch",bits:[i.F,(0,s._)(e),a.b]}),resources:{batchSamplers:(0,o.n)(e)}})}}},9665:(e,t,n)=>{"use strict";function r(e){var t,n,r;const i=/@group\((\d+)\)/,s=/@binding\((\d+)\)/,a=/var(<[^>]+>)? (\w+)/,o=/:\s*(\w+)/,l=/(\w+)\s*:\s*([\w\<\>]+)/g,c=/struct\s+(\w+)/,u=null===(t=e.match(/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g))||void 0===t?void 0:t.map(e=>({group:parseInt(e.match(i)[1],10),binding:parseInt(e.match(s)[1],10),name:e.match(a)[2],isUniform:"<uniform>"===e.match(a)[1],type:e.match(o)[1]}));if(!u)return{groups:[],structs:[]};const d=null!==(n=null===(r=e.match(/struct\s+(\w+)\s*{([^}]+)}/g))||void 0===r?void 0:r.map(e=>{const t=e.match(c)[1],n=e.match(l).reduce((e,t)=>{const[n,r]=t.split(":");return e[n.trim()]=r.trim(),e},{});return n?{name:t,members:n}:null}).filter(e=>{let{name:t}=e;return u.some(e=>e.type===t)}))&&void 0!==n?n:[];return{groups:u,structs:d}}n.d(t,{G:()=>r})},9667:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(1960),i=n(8263);const s={getGlobalPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new r.b,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this._position,e,t):(e.x=this._position.x,e.y=this._position.y),e},toGlobal(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.getGlobalTransform(i.u.get(),n);return t=r.apply(e,t),i.u.return(r),t},toLocal(e,t,n,r){t&&(e=t.toGlobal(e,n,r));const s=this.getGlobalTransform(i.u.get(),r);return n=s.applyInverse(e,n),i.u.return(s),n}}},9682:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(7051),i=n(4811),s=n(9859);const a=class e extends s.u{constructor(){var e;super({});let t=null!==(e=arguments.length<=0?void 0:arguments[0])&&void 0!==e?e:{};"number"===typeof t&&((0,i.t6)(i.lj,"PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead"),t={width:t,height:arguments.length<=1?void 0:arguments[1],verticesX:arguments.length<=2?void 0:arguments[2],verticesY:arguments.length<=3?void 0:arguments[3]}),this.build(t)}build(t){var n,i,s,a;t=(0,r.A)((0,r.A)({},e.defaultOptions),t),this.verticesX=null!==(n=this.verticesX)&&void 0!==n?n:t.verticesX,this.verticesY=null!==(i=this.verticesY)&&void 0!==i?i:t.verticesY,this.width=null!==(s=this.width)&&void 0!==s?s:t.width,this.height=null!==(a=this.height)&&void 0!==a?a:t.height;const o=this.verticesX*this.verticesY,l=[],c=[],u=[],d=this.verticesX-1,h=this.verticesY-1,p=this.width/d,f=this.height/h;for(let e=0;e<o;e++){const t=e%this.verticesX,n=e/this.verticesX|0;l.push(t*p,n*f),c.push(t/d,n/h)}const m=d*h;for(let e=0;e<m;e++){const t=e%d,n=e/d|0,r=n*this.verticesX+t,i=n*this.verticesX+t+1,s=(n+1)*this.verticesX+t,a=(n+1)*this.verticesX+t+1;u.push(r,i,s,i,a,s)}this.buffers[0].data=new Float32Array(l),this.buffers[1].data=new Float32Array(c),this.indexBuffer.data=new Uint32Array(u),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}};a.defaultOptions={width:100,height:100,verticesX:10,verticesY:10};let o=a},9705:(e,t,n)=>{"use strict";function r(e,t){switch(e){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}n.d(t,{p:()=>r})},9707:(e,t,n)=>{"use strict";function r(e,t,n,r,i,s){const a=s?1:-1;return e.identity(),e.a=1/r*2,e.d=a*(1/i*2),e.tx=-1-t*e.a,e.ty=-a-n*e.d,e}n.d(t,{s:()=>r})},9708:(e,t,n)=>{"use strict";function r(e,t){let n=e;for(const r in t){const e=t[r];n=e.join("\n").length?n.replace("{{".concat(r,"}}"),"//-----".concat(r," START-----//\n").concat(e.join("\n"),"\n//----").concat(r," FINISH----//")):n.replace("{{".concat(r,"}}"),"")}return n}n.d(t,{q:()=>r})},9736:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(1669);class i extends r.K{constructor(e){super(),this._renderer=e,e.runners.resolutionChange.add(this)}resolutionChange(){const e=this.renderable;e._autoResolution&&e.onViewUpdate()}destroy(){this._renderer.canvasText.returnTexture(this.texture),this._renderer=null}}},9769:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,Z:()=>s});var r=n(8152);class i{constructor(){this._poolsByClass=new Map}prepopulate(e,t){this.getPool(e).prepopulate(t)}get(e,t){return this.getPool(e).get(t)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new r.b(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(t=>{const n=e[t._classType.name]?t._classType.name+t._classType.ID:t._classType.name;e[n]={free:t.totalFree,used:t.totalUsed,size:t.totalSize}}),e}}const s=new i},9777:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});var r=n(9486),i=n(6538),s=n(6904);function a(e,t){const n=[],a=["\n        var g = s.groups;\n        var sS = r.shader;\n        var p = s.glProgram;\n        var ugS = r.uniformGroup;\n        var resources;\n    "];let o=!1,l=0;const c=t._getProgramData(e.glProgram);for(const d in e.groups){const u=e.groups[d];n.push("\n            resources = g[".concat(d,"].resources;\n        "));for(const h in u.resources){const p=u.resources[h];if(p instanceof i.k)if(p.ubo){const t=e._uniformBindMap[d][Number(h)];n.push("\n                        sS.bindUniformBlock(\n                            resources[".concat(h,"],\n                            '").concat(t,"',\n                            ").concat(e.glProgram._uniformBlockData[t].index,"\n                        );\n                    "))}else n.push("\n                        ugS.updateUniformGroup(resources[".concat(h,"], p, sD);\n                    "));else if(p instanceof r.d){const t=e._uniformBindMap[d][Number(h)];n.push("\n                    sS.bindUniformBlock(\n                        resources[".concat(h,"],\n                        '").concat(t,"',\n                        ").concat(e.glProgram._uniformBlockData[t].index,"\n                    );\n                "))}else if(p instanceof s.v){const r=e._uniformBindMap[d][h],i=c.uniformData[r];i&&(o||(o=!0,a.push("\n                        var tS = r.texture;\n                        ")),t._gl.uniform1i(i.location,l),n.push("\n                        tS.bind(resources[".concat(h,"], ").concat(l,");\n                    ")),l++)}}}const u=[...a,...n].join("\n");return new Function("r","s","sD",u)}},9787:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const r in t)n[r]||void 0===t[r]||(e[r]=t[r])}n.d(t,{s:()=>r})},9834:(e,t,n)=>{"use strict";n.d(t,{n:()=>d,s:()=>u});var r=n(8656),i=n(1478),s=n(4395),a=n(7821),o=n(9521),l=n(5345),c=n(5310);class u extends s.A{destroy(){this.context.customShader&&this.context.customShader.destroy(),super.destroy()}}class d{constructor(e){this._renderer=e,this._renderer.renderableGC.addManagedHash(this,"_gpuBitmapText")}validateRenderable(e){const t=this._getGpuBitmapText(e);return this._renderer.renderPipes.graphics.validateRenderable(t)}addRenderable(e,t){const n=this._getGpuBitmapText(e);h(e,n),e._didTextUpdate&&(e._didTextUpdate=!1,this._updateContext(e,n)),this._renderer.renderPipes.graphics.addRenderable(n,t),n.context.customShader&&this._updateDistanceField(e)}updateRenderable(e){const t=this._getGpuBitmapText(e);h(e,t),this._renderer.renderPipes.graphics.updateRenderable(t),t.context.customShader&&this._updateDistanceField(e)}_updateContext(e,t){const{context:n}=t,r=l.c.getFont(e.text,e._style);n.clear(),"none"!==r.distanceField.type&&(n.customShader||(n.customShader=new o.$(this._renderer.limits.maxBatchableTextures)));const i=a.P.graphemeSegmenter(e.text),s=e._style;let u=r.baseLineOffset;const d=(0,c.Z)(i,s,r,!0),h=s.padding,p=d.scale;let f=d.width,m=d.height+d.offsetY;s._stroke&&(f+=s._stroke.width/p,m+=s._stroke.width/p),n.translate(-e._anchor._x*f-h,-e._anchor._y*m-h).scale(p,p);const g=r.applyFillAsTint?s._fill.color:16777215;let v=r.fontMetrics.fontSize,b=r.lineHeight;s.lineHeight&&(v=s.fontSize/p,b=s.lineHeight/p);let _=(b-v)/2;_-r.baseLineOffset<0&&(_=0);for(let a=0;a<d.lines.length;a++){const e=d.lines[a];for(let t=0;t<e.charPositions.length;t++){const i=e.chars[t],s=r.chars[i];if(null!==s&&void 0!==s&&s.texture){const r=s.texture;n.texture(r,g||"black",Math.round(e.charPositions[t]+s.xOffset),Math.round(u+s.yOffset+_),r.orig.width,r.orig.height)}}u+=b}}_getGpuBitmapText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const t=new u;return e._gpuData[this._renderer.uid]=t,this._updateContext(e,t),t}_updateDistanceField(e){const t=this._getGpuBitmapText(e).context,n=e._style.fontFamily,i=r.l.get("".concat(n,"-bitmap")),{a:s,b:a,c:o,d:l}=e.groupTransform,c=Math.sqrt(s*s+a*a),u=Math.sqrt(o*o+l*l),d=(Math.abs(c)+Math.abs(u))/2,h=i.baseRenderedFontSize/e._style.fontSize,p=d*i.distanceField.range*(1/h);t.customShader.resources.localUniforms.uniforms.uDistance=p}destroy(){this._renderer=null}}function h(e,t){t.groupTransform=e.groupTransform,t.groupColorAlpha=e.groupColorAlpha,t.groupColor=e.groupColor,t.groupBlendMode=e.groupBlendMode,t.globalDisplayStatus=e.globalDisplayStatus,t.groupTransform=e.groupTransform,t.localDisplayStatus=e.localDisplayStatus,t.groupAlpha=e.groupAlpha,t._roundPixels=e._roundPixels}d.extension={type:[i.Ag.WebGLPipes,i.Ag.WebGPUPipes,i.Ag.CanvasPipes],name:"bitmapText"}},9859:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});var r=n(7051),i=n(5202),s=n(6333),a=n(818),o=n(4811);const l=class e extends a.V{constructor(){var t;let n=null!==(t=arguments.length<=0?void 0:arguments[0])&&void 0!==t?t:{};n instanceof Float32Array&&((0,o.t6)(o.lj,"use new MeshGeometry({ positions, uvs, indices }) instead"),n={positions:n,uvs:arguments.length<=1?void 0:arguments[1],indices:arguments.length<=2?void 0:arguments[2]}),n=(0,r.A)((0,r.A)({},e.defaultOptions),n);const a=n.positions||new Float32Array([0,0,1,0,1,1,0,1]);let l=n.uvs;l||(l=n.positions?new Float32Array(a.length):new Float32Array([0,0,1,0,1,1,0,1]));const c=n.indices||new Uint32Array([0,1,2,0,2,3]),u=n.shrinkBuffersToFit;super({attributes:{aPosition:{buffer:new i.h({data:a,label:"attribute-mesh-positions",shrinkToFit:u,usage:s.S.VERTEX|s.S.COPY_DST}),format:"float32x2",stride:8,offset:0},aUV:{buffer:new i.h({data:l,label:"attribute-mesh-uvs",shrinkToFit:u,usage:s.S.VERTEX|s.S.COPY_DST}),format:"float32x2",stride:8,offset:0}},indexBuffer:new i.h({data:c,label:"index-mesh-buffer",shrinkToFit:u,usage:s.S.INDEX|s.S.COPY_DST}),topology:n.topology}),this.batchMode="auto"}get positions(){return this.attributes.aPosition.buffer.data}set positions(e){this.attributes.aPosition.buffer.data=e}get uvs(){return this.attributes.aUV.buffer.data}set uvs(e){this.attributes.aUV.buffer.data=e}get indices(){return this.indexBuffer.data}set indices(e){this.indexBuffer.data=e}};l.defaultOptions={topology:"triangle-list",shrinkBuffersToFit:!1};let c=l},9914:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});let r=n(1365).O;const i={get:()=>r,set(e){r=e}}},9918:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(1478),i=n(3276),s=n(6595),a=n(1394);class o{constructor(e){this._renderer=e}validateRenderable(e){return e._didTextUpdate}addRenderable(e,t){const n=this._getGpuText(e);e._didTextUpdate&&(this._updateGpuText(e).catch(e=>{console.error(e)}),e._didTextUpdate=!1,(0,s.s)(n,e)),this._renderer.renderPipes.batch.addToBatch(n,t)}updateRenderable(e){const t=this._getGpuText(e);t._batcher.updateElement(t)}async _updateGpuText(e){e._didTextUpdate=!1;const t=this._getGpuText(e);if(t.generatingTexture)return;t.texturePromise&&(this._renderer.htmlText.returnTexturePromise(t.texturePromise),t.texturePromise=null),t.generatingTexture=!0,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution;const n=this._renderer.htmlText.getTexturePromise(e);t.texturePromise=n,t.texture=await n;const r=e.renderGroup||e.parentRenderGroup;r&&(r.structureDidChange=!0),t.generatingTexture=!1,(0,s.s)(t,e)}_getGpuText(e){return e._gpuData[this._renderer.uid]||this.initGpuText(e)}initGpuText(e){const t=new a.p(this._renderer);return t.renderable=e,t.transform=e.groupTransform,t.texture=i.g.EMPTY,t.bounds={minX:0,maxX:1,minY:0,maxY:0},t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._resolution=e._autoResolution?this._renderer.resolution:e.resolution,e._gpuData[this._renderer.uid]=t,t}destroy(){this._renderer=null}}o.extension={type:[r.Ag.WebGLPipes,r.Ag.WebGPUPipes,r.Ag.CanvasPipes],name:"htmlText"}},9921:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});const r={collectRenderables(e,t,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(e,t,n):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,e):this.collectRenderablesWithEffects(e,t,n))},collectRenderablesSimple(e,t,n){const r=this.children,i=r.length;for(let s=0;s<i;s++)r[s].collectRenderables(e,t,n)},collectRenderablesWithEffects(e,t,n){const{renderPipes:r}=t;for(let i=0;i<this.effects.length;i++){const t=this.effects[i];r[t.pipe].push(t,this,e)}this.collectRenderablesSimple(e,t,n);for(let i=this.effects.length-1;i>=0;i--){const t=this.effects[i];r[t.pipe].pop(t,this,e)}}}},9963:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(6538);const i={};function s(e){let t=i[e];if(t)return t;const n=new Int32Array(e);for(let r=0;r<e;r++)n[r]=r;return t=i[e]=new r.k({uTextures:{value:n,type:"i32",size:e}},{isStatic:!0}),t}},9978:(e,t,n)=>{"use strict";n.d(t,{m:()=>u});var r=n(3596),i=n(6538),s=n(2080),a=n(576),o=n(9385),l=n(1887),c=n(5270);class u{constructor(e,t){this.state=a.U.for2d(),this.localUniforms=new i.k({uTranslationMatrix:{value:new r.u,type:"mat3x3<f32>"},uColor:{value:new Float32Array(4),type:"vec4<f32>"},uRound:{value:1,type:"f32"},uResolution:{value:[0,0],type:"vec2<f32>"}}),this.renderer=e,this.adaptor=t,this.defaultShader=new c.E,this.state=a.U.for2d()}validateRenderable(e){return!1}addRenderable(e,t){this.renderer.renderPipes.batch.break(t),t.add(e)}getBuffers(e){return e._gpuData[this.renderer.uid]||this._initBuffer(e)}_initBuffer(e){return e._gpuData[this.renderer.uid]=new l.h({size:e.particleChildren.length,properties:e._properties}),e._gpuData[this.renderer.uid]}updateRenderable(e){}execute(e){const t=e.particleChildren;if(0===t.length)return;const n=this.renderer,r=this.getBuffers(e);e.texture||(e.texture=t[0].texture);const i=this.state;r.update(t,e._childrenDirty),e._childrenDirty=!1,i.blendMode=(0,s.i)(e.blendMode,e.texture._source);const a=this.localUniforms.uniforms,l=a.uTranslationMatrix;e.worldTransform.copyTo(l),l.prepend(n.globalUniforms.globalUniformData.projectionMatrix),a.uResolution=n.globalUniforms.globalUniformData.resolution,a.uRound=n._roundPixels|e._roundPixels,(0,o.V)(e.groupColorAlpha,a.uColor,0),this.adaptor.execute(this,e)}destroy(){this.defaultShader&&(this.defaultShader.destroy(),this.defaultShader=null)}}},9984:(e,t,n)=>{"use strict";n.d(t,{$:()=>o});var r=n(7422),i=n(5937),s=n(6904),a=n(1989);class o{init(e,t){this._renderer=e,this._renderTargetSystem=t}copyToTexture(e,t,n,r,i){const s=this._renderer,a=this._getGpuColorTexture(e),o=s.texture.getGpuSource(t.source);return s.encoder.commandEncoder.copyTextureToTexture({texture:a,origin:n},{texture:o,origin:i},r),t}startRenderPass(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=this._renderTargetSystem.getGpuRenderTarget(e),s=this.getDescriptor(e,t,n);i.descriptor=s,this._renderer.pipeline.setRenderTarget(i),this._renderer.encoder.beginRenderPass(i),this._renderer.encoder.setViewport(r)}finishRenderPass(){this._renderer.encoder.endRenderPass()}_getGpuColorTexture(e){const t=this._renderTargetSystem.getGpuRenderTarget(e);return t.contexts[0]?t.contexts[0].getCurrentTexture():this._renderer.texture.getGpuSource(e.colorTextures[0].source)}getDescriptor(e,t,n){"boolean"===typeof t&&(t=t?r.u.ALL:r.u.NONE);const i=this._renderTargetSystem,s=i.getGpuRenderTarget(e),a=e.colorTextures.map((e,a)=>{const o=s.contexts[a];let l,c;if(o){l=o.getCurrentTexture().createView()}else l=this._renderer.texture.getGpuSource(e).createView({mipLevelCount:1});s.msaaTextures[a]&&(c=l,l=this._renderer.texture.getTextureView(s.msaaTextures[a]));const u=t&r.u.COLOR?"clear":"load";return null!==n&&void 0!==n||(n=i.defaultClearColor),{view:l,resolveTarget:c,clearValue:n,storeOp:"store",loadOp:u}});let o;if(!e.stencil&&!e.depth||e.depthStencilTexture||(e.ensureDepthStencilTexture(),e.depthStencilTexture.source.sampleCount=s.msaa?4:1),e.depthStencilTexture){const n=t&r.u.STENCIL?"clear":"load",i=t&r.u.DEPTH?"clear":"load";o={view:this._renderer.texture.getGpuSource(e.depthStencilTexture.source).createView(),stencilStoreOp:"store",stencilLoadOp:n,depthClearValue:1,depthLoadOp:i,depthStoreOp:"store"}}return{colorAttachments:a,depthStencilAttachment:o}}clear(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!t)return;const{gpu:i,encoder:s}=this._renderer,a=i.device;if(null===s.commandEncoder){const i=a.createCommandEncoder(),s=this.getDescriptor(e,t,n),o=i.beginRenderPass(s);o.setViewport(r.x,r.y,r.width,r.height,0,1),o.end();const l=i.finish();a.queue.submit([l])}else this.startRenderPass(e,t,n,r)}initGpuRenderTarget(e){e.isRoot=!0;const t=new a.M;return e.colorTextures.forEach((e,n)=>{if(e instanceof i.q){const i=e.resource.getContext("webgpu"),s=e.transparent?"premultiplied":"opaque";try{i.configure({device:this._renderer.gpu.device,usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,format:"bgra8unorm",alphaMode:s})}catch(r){console.error(r)}t.contexts[n]=i}if(t.msaa=e.source.antialias,e.source.antialias){const e=new s.v({width:0,height:0,sampleCount:4});t.msaaTextures[n]=e}}),t.msaa&&(t.msaaSamples=4,e.depthStencilTexture&&(e.depthStencilTexture.source.sampleCount=4)),t}destroyGpuRenderTarget(e){e.contexts.forEach(e=>{e.unconfigure()}),e.msaaTextures.forEach(e=>{e.destroy()}),e.msaaTextures.length=0,e.contexts.length=0}ensureDepthStencilTexture(e){const t=this._renderTargetSystem.getGpuRenderTarget(e);e.depthStencilTexture&&t.msaa&&(e.depthStencilTexture.source.sampleCount=4)}resizeGpuRenderTarget(e){const t=this._renderTargetSystem.getGpuRenderTarget(e);t.width=e.width,t.height=e.height,t.msaa&&e.colorTextures.forEach((e,n)=>{const r=t.msaaTextures[n];null===r||void 0===r||r.resize(e.source.width,e.source.height,e.source._resolution)})}}},9997:(e,t,n)=>{"use strict";function r(e){let{groups:t}=e;const n=[];for(let r=0;r<t.length;r++){const e=t[r];n[e.group]||(n[e.group]={}),n[e.group][e.name]=e.binding}return n}n.d(t,{y:()=>r})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{250:"e2330f0c",929:"3a99028b"}[e]+".chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="elemental-arena:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/code-with-kiro-hackathon/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkelemental_arena=self.webpackChunkelemental_arena||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{AbstractBitmapFont:()=>fe.v,AbstractRenderer:()=>K.k,AbstractSplitText:()=>rd,AbstractText:()=>Ri,AccessibilitySystem:()=>p.a,AlphaFilter:()=>Rr,AlphaMask:()=>xs.Z,AlphaMaskPipe:()=>ys.z,AnimatedSprite:()=>yi,Application:()=>ae,ApplicationInitHook:()=>re.M,Assets:()=>Rt,AssetsClass:()=>Ct,BLEND_TO_NPM:()=>Ko.Q,BUFFER_TYPE:()=>Ps.y,BackgroundLoader:()=>we,BackgroundSystem:()=>_o.s,Batch:()=>Ji.l,BatchGeometry:()=>ts.J,BatchTextureArray:()=>ns.L,BatchableGraphics:()=>tc.G,BatchableHTMLText:()=>Vu.p,BatchableMesh:()=>au.U,BatchableSprite:()=>Du.K,BatchableText:()=>ud.E,Batcher:()=>Ji.i,BatcherPipe:()=>es.s,BigPool:()=>zd.Z,BindGroup:()=>Za.T,BindGroupSystem:()=>Na.g,BitmapFont:()=>ge,BitmapFontManager:()=>me.c,BitmapText:()=>Fi,BitmapTextGraphics:()=>Lu.s,BitmapTextPipe:()=>Lu.n,BlendModeFilter:()=>T,BlendModePipe:()=>xo.j,BlurFilter:()=>jr,BlurFilterPass:()=>Ur,Bounds:()=>Ln.c,BrowserAdapter:()=>er.O,Buffer:()=>yo.h,BufferImageSource:()=>al.P,BufferResource:()=>So.d,BufferUsage:()=>To.S,CLEAR:()=>Os.u,Cache:()=>Ae.l,CanvasObserver:()=>Yn.B,CanvasPool:()=>Jo.N,CanvasPoolClass:()=>Jo.V,CanvasSource:()=>ol.q,CanvasTextGenerator:()=>Pi.v,CanvasTextMetrics:()=>ki.P,CanvasTextPipe:()=>dd.e,CanvasTextSystem:()=>hd.p,Circle:()=>si.j,Color:()=>kt.Q,ColorBlend:()=>C,ColorBurnBlend:()=>R,ColorDodgeBlend:()=>M,ColorMask:()=>Ss.W,ColorMaskPipe:()=>Ts.u,ColorMatrixFilter:()=>zr,CompressedSource:()=>It,Container:()=>ne.mc,Culler:()=>Hn,CullerPlugin:()=>Vn,CustomRenderPipe:()=>Il._,D3D10_RESOURCE_DIMENSION:()=>nn,D3DFMT:()=>an,DATA_URI:()=>Rd.Ut,DDS:()=>cn,DEG_TO_RAD:()=>ei.Td,DEPRECATED_SCALE_MODES:()=>nl,DEPRECATED_WRAP_MODES:()=>el,DOMAdapter:()=>q.e,DOMContainer:()=>$n,DOMPipe:()=>Zn.j,DRAW_MODES:()=>Ro,DXGI_FORMAT:()=>tn,DXGI_TO_TEXTURE_FORMAT:()=>ln,DarkenBlend:()=>P,DefaultBatcher:()=>rs.J,DefaultShader:()=>is.$,DifferenceBlend:()=>k,DisplacementFilter:()=>Wr,DivideBlend:()=>B,DynamicBitmapFont:()=>ju.u,Ellipse:()=>ai.P,EventBoundary:()=>rr.T,EventEmitter:()=>Md.A,EventSystem:()=>ir.C,EventsTicker:()=>sr.U,ExclusionBlend:()=>O,ExtensionType:()=>u.Ag,ExtractSystem:()=>Ao.h,FOURCC_TO_TEXTURE_FORMAT:()=>on,FederatedContainer:()=>or.e,FederatedEvent:()=>ar.N,FederatedMouseEvent:()=>lr._,FederatedPointerEvent:()=>cr.A,FederatedWheelEvent:()=>ur.O,FillGradient:()=>fc._,FillPattern:()=>mc.m,Filter:()=>_.d,FilterEffect:()=>Qr.a,FilterPipe:()=>$r.L,FilterSystem:()=>Zr.u,FontStylePromiseCache:()=>Qu.G,GAUSSIAN_VALUES:()=>kr,GL_FORMATS:()=>Ta.bH,GL_INTERNAL_FORMAT:()=>pn,GL_TARGETS:()=>Ta.FT,GL_TYPES:()=>Ta.Yr,GL_WRAP_MODES:()=>Ta.I7,GenerateTextureSystem:()=>Eo.y,Geometry:()=>mi.V,GlBackBufferSystem:()=>Ns.q,GlBatchAdaptor:()=>Wi.t,GlBuffer:()=>ks.i,GlBufferSystem:()=>Bs.h,GlColorMaskSystem:()=>Ds.U,GlContextSystem:()=>Is.q,GlEncoderSystem:()=>Us.X,GlGeometrySystem:()=>Fs.r,GlGraphicsAdaptor:()=>Zl.k,GlLimitsSystem:()=>Ls.R,GlMeshAdaptor:()=>iu.S,GlParticleContainerAdaptor:()=>cu.C,GlParticleContainerPipe:()=>du.D,GlProgram:()=>m.M,GlProgramData:()=>qs.W,GlRenderTarget:()=>js.N,GlRenderTargetAdaptor:()=>Hs.q,GlRenderTargetSystem:()=>Vs.E,GlShaderSystem:()=>Ks.S,GlStateSystem:()=>ya.u,GlStencilSystem:()=>zs.P,GlTexture:()=>wa.P,GlTextureSystem:()=>Aa._,GlUboSystem:()=>Xs.z,GlUniformGroupSystem:()=>Qs.e,GlobalUniformSystem:()=>Fo.J,GpuBatchAdaptor:()=>Zi.E,GpuBlendModesToPixi:()=>lo.X,GpuBufferSystem:()=>Da.C,GpuColorMaskSystem:()=>La.l,GpuDeviceSystem:()=>ja.O,GpuEncoderSystem:()=>za._,GpuGraphicsAdaptor:()=>ec.r,GpuGraphicsContext:()=>gc.HW,GpuLimitsSystem:()=>Xa.g,GpuMeshAdapter:()=>su.F,GpuMipmapGenerator:()=>vo.o,GpuParticleContainerAdaptor:()=>uu.h,GpuParticleContainerPipe:()=>hu.C,GpuProgram:()=>g.B,GpuRenderTarget:()=>Ka.M,GpuRenderTargetAdaptor:()=>Qa.$,GpuRenderTargetSystem:()=>$a.p,GpuShaderSystem:()=>Ja.x,GpuStateSystem:()=>co.$,GpuStencilModesToPixi:()=>uo.g,GpuStencilSystem:()=>Ha.k,GpuTextureSystem:()=>ho.P,GpuUboSystem:()=>Va.u,GpuUniformBatchPipe:()=>Wa.T,Graphics:()=>fi.A,GraphicsContext:()=>Je.T,GraphicsContextRenderData:()=>gc.$i,GraphicsContextSystem:()=>gc.GH,GraphicsGpuData:()=>vc.E,GraphicsPath:()=>bc.n,GraphicsPipe:()=>vc.S,HTMLText:()=>Xi,HTMLTextPipe:()=>Wu.n,HTMLTextRenderData:()=>Yu.p,HTMLTextStyle:()=>ji,HTMLTextSystem:()=>qu.Q,HardLightBlend:()=>I,HardMixBlend:()=>F,HelloSystem:()=>qo.U,IGLUniformData:()=>qs.n,ImageSource:()=>Ze.b,InstructionSet:()=>Io.L,KTX:()=>fn,LightenBlend:()=>G,LinearBurnBlend:()=>N,LinearDodgeBlend:()=>D,LinearLightBlend:()=>U,Loader:()=>Ue,LoaderParserPriority:()=>ce.T,LuminosityBlend:()=>L,MaskEffectManager:()=>ws.B,MaskEffectManagerClass:()=>ws.H,MaskFilter:()=>Jr.L,Matrix:()=>Xr.u,Mesh:()=>_i,MeshGeometry:()=>vi.u,MeshGpuData:()=>lu.w,MeshPipe:()=>lu.G,MeshPlane:()=>Qc,MeshRope:()=>tu,MeshSimple:()=>ru,NOOP:()=>Ld.t,NegationBlend:()=>j,NineSliceGeometry:()=>Au.P,NineSlicePlane:()=>Mu,NineSliceSprite:()=>Ru,NineSliceSpriteGpuData:()=>Pu.w,NineSliceSpritePipe:()=>Pu.e,NoiseFilter:()=>Kr,ObservablePoint:()=>ri.o,OverlayBlend:()=>z,PI_2:()=>ei.TO,Particle:()=>fu,ParticleBuffer:()=>mu.h,ParticleContainer:()=>xu,ParticleContainerPipe:()=>yu.m,ParticleShader:()=>Su.E,PerspectiveMesh:()=>qc,PerspectivePlaneGeometry:()=>Vc,PinLightBlend:()=>X,PipelineSystem:()=>Ya.A,PlaneGeometry:()=>Ic.b,Point:()=>qn.b,Polygon:()=>oi.t,Pool:()=>jd.b,PoolGroupClass:()=>zd.I,PrepareBase:()=>pi,PrepareQueue:()=>Ii,PrepareSystem:()=>Vi,PrepareUpload:()=>Hi,QuadGeometry:()=>Fu.m,RAD_TO_DEG:()=>ei.bO,Rectangle:()=>pe.M,RenderContainer:()=>Gl,RenderGroup:()=>Nl.m,RenderGroupPipe:()=>Dl.a,RenderGroupSystem:()=>Ul.b,RenderLayer:()=>Oc,RenderTarget:()=>No.O,RenderTargetSystem:()=>Do.l,RenderTexture:()=>sl.Y,RenderableGCSystem:()=>il.M,RendererInitHook:()=>re.d,RendererType:()=>Pr.W,ResizePlugin:()=>oe.U,Resolver:()=>et.x,RopeGeometry:()=>Zc,RoundedRectangle:()=>li.T,SCALE_MODES:()=>rl,STENCIL_MODES:()=>Ko.K,SVGParser:()=>Ac.u,SaturationBlend:()=>H,SchedulerSystem:()=>Uo.F,ScissorMask:()=>Cs,SdfShader:()=>md.$,Shader:()=>jo.M,ShaderStage:()=>Lo.q,ShapePath:()=>xc.L,SharedRenderPipes:()=>$o.f,SharedSystems:()=>$o.i,SoftLightBlend:()=>V,SplitBitmapText:()=>sd,SplitText:()=>cd,Sprite:()=>Hr.k,SpritePipe:()=>Uu.k,Spritesheet:()=>yd.z,State:()=>gi.U,StencilMask:()=>Rs.r,StencilMaskPipe:()=>Ms.j,SubtractBlend:()=>W,SystemRunner:()=>Zo.C,TEXTURE_FORMAT_BLOCK_SIZE:()=>un,Text:()=>Oi,TextStyle:()=>Bi.x,Texture:()=>b.g,TextureGCSystem:()=>ll.l,TextureMatrix:()=>cl.N,TexturePool:()=>Mr.W,TexturePoolClass:()=>Mr.M,TextureSource:()=>Ot.v,TextureStyle:()=>Ei.n,TextureUvs:()=>ul,Ticker:()=>di.R,TickerListener:()=>Td.X,TickerPlugin:()=>le.y,TilingSprite:()=>Ai,TilingSpriteGpuData:()=>Ou.J,TilingSpritePipe:()=>Ou.x,TilingSpriteShader:()=>Bu.S,Transform:()=>Si,Triangle:()=>ci,UNIFORM_TO_ARRAY_SETTERS:()=>xa.e,UNIFORM_TO_SINGLE_SETTERS:()=>xa.v,UNIFORM_TYPES_MAP:()=>zo._,UNIFORM_TYPES_VALUES:()=>zo.q,UPDATE_BLEND:()=>ne.u,UPDATE_COLOR:()=>ne.ig,UPDATE_PRIORITY:()=>ui.d,UPDATE_TRANSFORM:()=>ne.ne,UPDATE_VISIBLE:()=>ne.fR,UboBatch:()=>Ua.Z,UboSystem:()=>Xo.W,UniformGroup:()=>v.k,VERSION:()=>Rd.xv,VideoSource:()=>gt.$,ViewContainer:()=>Kn.l,ViewSystem:()=>ml.v,ViewableBuffer:()=>Id.u,VividLightBlend:()=>Y,WGSL_ALIGN_SIZE_DATA:()=>eo.f,WGSL_TO_STD40_SIZE:()=>ga.K,WRAP_MODES:()=>tl,WebGLRenderer:()=>Ga.WebGLRenderer,WebGPURenderer:()=>bo.WebGPURenderer,WebWorkerAdapter:()=>nr,WorkerManager:()=>dt,accessibilityTarget:()=>f.K,addBits:()=>os.u,addMaskBounds:()=>As.d,addMaskLocalBounds:()=>Es.U,addProgramDefines:()=>da.U,alphaFrag:()=>hr,alphaWgsl:()=>pr,applyMatrix:()=>Iu.Y,applyProjectiveTransformationToPlane:()=>Fc,applyStyleParams:()=>Pa.m,assignWithIgnore:()=>Ll.s,autoDetectEnvironment:()=>Jn.Q,autoDetectRenderer:()=>te,autoDetectSource:()=>hl._,basisTranscoderUrls:()=>Wt,bgr2rgb:()=>Ml.D,bitmapFontCachePlugin:()=>ye,bitmapFontTextParser:()=>ve,bitmapFontXMLParser:()=>be,bitmapFontXMLStringParser:()=>_e,bitmapTextSplit:()=>Xu,blendTemplateFrag:()=>x,blendTemplateVert:()=>y,blendTemplateWgsl:()=>S,blockDataMap:()=>fo.w,blurTemplateWgsl:()=>fr,boundsPool:()=>Sl.o,browserExt:()=>d,buildAdaptiveBezier:()=>nc.M,buildAdaptiveQuadratic:()=>rc.T,buildArc:()=>ic.t,buildArcTo:()=>sc.I,buildArcToSvg:()=>ac.W,buildCircle:()=>oc.RH,buildContextBatches:()=>Cc.M,buildEllipse:()=>oc.$S,buildLine:()=>lc.h,buildPixelLine:()=>cc.D,buildPolygon:()=>uc.h,buildRectangle:()=>dc.a,buildRoundedRectangle:()=>oc.nZ,buildSimpleUvs:()=>Mo.D,buildTriangle:()=>hc.b,buildUvs:()=>Mo.X,cacheAsTextureMixin:()=>Tl.b,cacheTextureArray:()=>Ee,calculateProjection:()=>qa.s,canvasTextSplit:()=>od,checkChildrenDidChange:()=>jl.l,checkDataUrl:()=>Le,checkExtension:()=>je,checkMaxIfStatementsInShader:()=>Yi.u,childrenHelperMixin:()=>wl.l,cleanArray:()=>Pd.t,cleanHash:()=>Pd.s,clearList:()=>zl.a,closePointEps:()=>pc.B,collectAllRenderables:()=>Xl,collectRenderablesMixin:()=>Al.J,color32BitToUniform:()=>Jl.V,colorBit:()=>fs.F,colorBitGl:()=>fs.a,colorMatrixFilterFrag:()=>mr,colorMatrixFilterWgsl:()=>gr,colorToUniform:()=>Jl.$,compareModeToGlCompare:()=>Ia.am,compileHighShader:()=>as.h,compileHighShaderGl:()=>as.Q,compileHighShaderGlProgram:()=>ss.I,compileHighShaderGpuProgram:()=>ss.v,compileHooks:()=>ls.w,compileInputs:()=>cs.j,compileOutputs:()=>us.Q,compileShader:()=>Zs.R,compute2DProjection:()=>Hc,convertFormatIfRequired:()=>En,convertToList:()=>Ne.z,copySearchParams:()=>ue.Y,createIdFromString:()=>pl.X,createIndicesForQuads:()=>Tu.L,createLevelBuffers:()=>Zt,createLevelBuffersFromKTX:()=>Rn,createStringVariations:()=>Pt.m,createTexture:()=>nt,createUboElementsSTD40:()=>ga.l,createUboElementsWGSL:()=>eo.V,createUboSyncFunction:()=>Ho.E,createUboSyncFunctionSTD40:()=>va.N,createUboSyncFunctionWGSL:()=>to.v,crossOrigin:()=>yt,cullingMixin:()=>Wn.E,curveEps:()=>pc.I,defaultFilterVert:()=>vr,defaultValue:()=>Js.J,definedProps:()=>Hl.S,deprecation:()=>ie.t6,detectAvif:()=>Re,detectBasis:()=>Bt,detectCompressed:()=>Un,detectDefaults:()=>Pe,detectMp4:()=>Oe,detectOgv:()=>Ie,detectVideoAlphaMode:()=>vt.C,detectWebm:()=>Fe,detectWebp:()=>Ge,determineCrossOrigin:()=>Tt,displacementFrag:()=>br,displacementVert:()=>_r,displacementWgsl:()=>xr,earcut:()=>Hd.h,effectsMixin:()=>El.m,ensureAttributes:()=>ea.q,ensureIsBuffer:()=>Po.b,ensurePrecision:()=>ha.V,ensureTextOptions:()=>Mi,executeInstructions:()=>Vl.j,extensions:()=>u.XO,extractAttributesFromGlProgram:()=>ta.A,extractAttributesFromGpuProgram:()=>no.N,extractFontFamilies:()=>Ku.F,extractStructAndGroups:()=>ro.G,extractSvgUrlId:()=>Ec.I,fastCopy:()=>wo.W,findMixin:()=>Cl.t,fontStringFromTextStyle:()=>pd.Z,formatShader:()=>ds,fragmentGPUTemplate:()=>ps.xl,fragmentGlTemplate:()=>ps._g,generateArraySyncSTD40:()=>ba.D,generateArraySyncWGSL:()=>io.T,generateBlurFragSource:()=>Or,generateBlurGlProgram:()=>Gr,generateBlurProgram:()=>Nr,generateBlurVertSource:()=>Fr,generateGPULayout:()=>Ki,generateGpuLayoutGroups:()=>so.W,generateLayout:()=>Qi,generateLayoutHash:()=>ao.y,generateParticleUpdateFunction:()=>wu.N,generateProgram:()=>na.C,generateShaderSyncCode:()=>Ws.$,generateTextStyleKey:()=>bd.V,generateTextureBatchBit:()=>ms._,generateTextureBatchBitGl:()=>ms.P,generateTextureMatrix:()=>Mc.Y,generateUniformsSync:()=>_a.U,getAdjustedBlendModeBlend:()=>Qo.i,getAttributeInfoFromFormat:()=>ko.m,getBatchSamplersUniformGroup:()=>Ys.n,getBitmapTextLayout:()=>zu.Z,getCanvasBoundingBox:()=>Cd.m,getCanvasFillStyle:()=>fd.r,getCanvasTexture:()=>dl.c,getDefaultUniformValue:()=>Vo.p,getFastGlobalBounds:()=>_l,getFastGlobalBoundsMixin:()=>Rl.Y,getFontCss:()=>Qu.Z,getFontFamilyName:()=>qe,getGeometryBounds:()=>Bo.U,getGlTypeFromFormat:()=>Gs.L,getGlobalBounds:()=>jn.f,getGlobalMixin:()=>Ml.R,getGlobalRenderableBounds:()=>yl.L,getLocalBounds:()=>xl.n,getMaxFragmentPrecision:()=>ra.$,getMaxTexturesPerBatch:()=>qi.a,getOrientationOfPoints:()=>Pc.v,getPo2TextureFromSource:()=>_d.M,getResolutionOfUrl:()=>tt,getSVGUrl:()=>$u.e,getSupportedCompressedTextureFormats:()=>Lt,getSupportedGPUCompressedTextureFormats:()=>Ut,getSupportedGlCompressedTextureFormats:()=>Dt,getSupportedTextureFormats:()=>Xt,getTemporaryCanvasFromImage:()=>Zu.J,getTestContext:()=>ia.W,getTextureBatchBindGroup:()=>$i.w,getTextureDefaultMatrix:()=>ou,getTextureFormatFromKTXTexture:()=>On,getUboData:()=>sa.X,getUniformData:()=>aa.L,getUrlExtension:()=>et.l,glFormatToGPUFormat:()=>Pn,glUploadBufferImageResource:()=>Ea.e,glUploadCompressedTextureResource:()=>Ca.B,glUploadImageResource:()=>Ra.a,glUploadVideoResource:()=>Ma._,globalUniformsBit:()=>gs.EU,globalUniformsBitGl:()=>gs.jv,globalUniformsUBOBitGl:()=>gs.hF,gpuFormatToBasisTranscoderFormat:()=>en,gpuFormatToKTXBasisTranscoderFormat:()=>Fn,gpuUploadBufferImageResource:()=>po.j,gpuUploadCompressedTextureResource:()=>fo._,gpuUploadImageResource:()=>mo.d,gpuUploadVideoResource:()=>go.h,groupD8:()=>he.E,hasCachedCanvasTexture:()=>dl.i,hslWgsl:()=>dr,hslgl:()=>A,hslgpu:()=>E,injectBits:()=>hs.q,insertVersion:()=>pa.W,isMobile:()=>wd.F,isPow2:()=>ti.f3,isRenderingToScreen:()=>Go.A,isSafari:()=>Ad.n,isSingleItem:()=>De.a,isWebGLSupported:()=>Z,isWebGPUSupported:()=>J,ktxTranscoderUrls:()=>_n,loadBasis:()=>$t,loadBasisOnWorker:()=>Qt,loadBitmapFont:()=>Se,loadDDS:()=>hn,loadEnvironmentExtensions:()=>Jn.W,loadFontAsBase64:()=>Ju.x,loadFontCSS:()=>ed.f,loadImageBitmap:()=>ft,loadJson:()=>ze,loadKTX:()=>gn,loadKTX2:()=>wn,loadKTX2onWorker:()=>Tn,loadSVGImage:()=>td.c,loadSvg:()=>it,loadTextures:()=>mt,loadTxt:()=>Xe,loadVideoTextures:()=>wt,loadWebFont:()=>$e,localUniformBit:()=>vs.Ls,localUniformBitGl:()=>vs.mA,localUniformBitGroup2:()=>vs._Q,localUniformMSDFBit:()=>gd.D,localUniformMSDFBitGl:()=>gd.C,log2:()=>ti.p6,logDebugTexture:()=>Fd,logProgramError:()=>oa.$,logRenderGroupScene:()=>Ud,logScene:()=>Dd,mSDFBit:()=>vd._,mSDFBitGl:()=>vd.Z,mapFormatToGlFormat:()=>ka.R,mapFormatToGlInternalFormat:()=>Ba.Y,mapFormatToGlType:()=>Oa.o,mapGlToVertexFormat:()=>ua.E,mapSize:()=>ca,mapType:()=>ua.H,mapWebGLBlendModesToPixi:()=>Sa.Y,maskFrag:()=>Tr.A,maskVert:()=>wr.A,maskWgsl:()=>Ar.A,matrixPool:()=>Sl.u,measureHtmlText:()=>zi.r,measureMixin:()=>Pl.i,migrateFragmentFromV7toV8:()=>$s,mipmapScaleModeToGlFilter:()=>Ia.yT,multiplyColors:()=>Wl.j,multiplyHexColors:()=>Yl.u,nextPow2:()=>ti.U5,noiseFrag:()=>yr,noiseWgsl:()=>Sr,nonCompressedFormats:()=>jt,normalizeExtensionPriority:()=>u.vp,onRenderMixin:()=>kl.D,parseDDS:()=>dn,parseFunctionBody:()=>fl,parseKTX:()=>mn,parseSVGDefinitions:()=>yc.M,parseSVGFloatAttribute:()=>Sc.I,parseSVGPath:()=>Tc.n,parseSVGStyle:()=>wc.X,particleData:()=>gu,particlesFrag:()=>gl.A,particlesVert:()=>vl.A,particlesWgsl:()=>bl.A,path:()=>de.A,pointInTriangle:()=>ii,preloadVideo:()=>St,removeItems:()=>kd.d,removeStructAndGroupDuplicates:()=>oo.A,resetUids:()=>Bd.t,resolveCharacters:()=>Hu.D,resolveCompressedTextureUrl:()=>Nn,resolveJsonUrl:()=>Et,resolveTextureUrl:()=>At,resourceToTexture:()=>hl.tx,roundPixelsBit:()=>bs.b,roundPixelsBitGl:()=>bs.m,roundedShapeArc:()=>_c.X,roundedShapeQuadraticCurve:()=>_c.q,sayHello:()=>Xd.e,scaleModeToGlFilter:()=>Ia.wq,setBasisTranscoderPath:()=>Yt,setKTXTranscoderPath:()=>xn,setPositions:()=>Gu.t,setProgramName:()=>fa.k,setUvs:()=>Nu.X,shapeBuilders:()=>Cc.y,sortMixin:()=>Bl.I,spritesheetAsset:()=>Sd.N,squaredDistanceToLineSegment:()=>ni.z,stripVersion:()=>ma.h,styleAttributes:()=>wc.v,testImageFormat:()=>Ce,testVideoFormat:()=>Be,textStyleToCSS:()=>Gi,textureBit:()=>_s.R,textureBitGl:()=>_s.m,textureFrom:()=>hl._4,tilingBit:()=>ku.R,tilingBitGl:()=>ku.c,toFillStyle:()=>Rc.w,toLocalGlobalMixin:()=>Ol.P,toStrokeStyle:()=>Rc.T,transformVertices:()=>Oo.s,triangulateWithHoles:()=>kc.U,uboSyncFunctionsSTD40:()=>Wo.g,uboSyncFunctionsWGSL:()=>Wo._,uid:()=>Bd.L,uniformParsers:()=>Yo.$,unpremultiplyAlpha:()=>Fa,unsafeEvalSupported:()=>Ed.f,updateLocalTransform:()=>ql,updateQuadBounds:()=>Od.y,updateRenderGroupTransform:()=>Kl.T1,updateRenderGroupTransforms:()=>Kl.s8,updateTextBounds:()=>xd.s,updateTransformAndChildren:()=>Kl.e9,updateTransformBackwards:()=>jn.E,updateWorldTransform:()=>Ql,v8_0_0:()=>ie.lj,v8_3_4:()=>ie.Ek,validFormats:()=>Gn,validateRenderables:()=>$l.G,vertexGPUTemplate:()=>ps.Tp,vertexGlTemplate:()=>ps.sS,vkFormatToGPUFormat:()=>Bn,warn:()=>Te.R,webworkerExt:()=>h,wrapModeToGlAddress:()=>Ia.AJ});var t=n(5043),r=n(4391),i=n(3986),s=n(9526),a=n(7051),o=n(579);const l=e=>{let{achievement:n,onDismiss:r}=e;const[i,s]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{const e=setTimeout(()=>s(!0),100),t=setTimeout(()=>{s(!1),setTimeout(r,500)},4e3);return()=>{clearTimeout(e),clearTimeout(t)}},[r]),(0,o.jsx)("div",{className:"achievement-notification ".concat(i?"show":""),children:(0,o.jsxs)("div",{className:"achievement-popup",children:[(0,o.jsx)("div",{className:"achievement-popup-icon",children:n.icon}),(0,o.jsxs)("div",{className:"achievement-popup-text",children:[(0,o.jsx)("div",{className:"achievement-popup-title",children:"Achievement Unlocked!"}),(0,o.jsx)("div",{className:"achievement-popup-name",children:n.name}),(0,o.jsx)("div",{className:"achievement-popup-desc",children:n.desc})]})]})})},c=e=>{let{isPlaying:n,volume:r=.3}=e;const i=(0,t.useRef)(null),[s,a]=(0,t.useState)(0),[o,l]=(0,t.useState)(!1),c=(0,t.useMemo)(()=>["".concat("/code-with-kiro-hackathon","/audio/forest.ogg")],[]);return(0,t.useEffect)(()=>(i.current||(i.current=new Audio,i.current.loop=!0,i.current.addEventListener("loadeddata",()=>{l(!0)}),i.current.addEventListener("ended",()=>{a(e=>{const t=(e+1)%c.length;return t>=0&&t<c.length?t:0})}),i.current.addEventListener("error",e=>{a(e=>{const t=(e+1)%c.length;return t>=0&&t<c.length?t:0})})),()=>{i.current&&(i.current.pause(),i.current=null)}),[c.length]),(0,t.useEffect)(()=>{if(i.current&&c.length>0&&s>=0&&s<c.length){const e=c[s];e&&(i.current.src=e,i.current.load())}},[s,c]),(0,t.useEffect)(()=>{i.current&&(i.current.volume=Math.max(0,Math.min(1,r)))},[r]),(0,t.useEffect)(()=>{i.current&&o&&(n?i.current.play().catch(e=>{}):i.current.pause())},[n,o]),null};var u=n(1478);const d={extension:{type:u.Ag.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await n.e(250).then(n.bind(n,6250))}},h={extension:{type:u.Ag.Environment,name:"webworker",priority:0},test:()=>"undefined"!==typeof self&&void 0!==self.WorkerGlobalScope,load:async()=>{await n.e(929).then(n.bind(n,9929))}};n(6938),n(6574);var p=n(6511),f=n(2871),m=n(2568),g=n(1996),v=n(6538),b=n(3276),_=n(2761),x="\nin vec2 vTextureCoord;\nin vec4 vColor;\n\nout vec4 finalColor;\n\nuniform float uBlend;\n\nuniform sampler2D uTexture;\nuniform sampler2D uBackTexture;\n\n{FUNCTIONS}\n\nvoid main()\n{ \n    vec4 back = texture(uBackTexture, vTextureCoord);\n    vec4 front = texture(uTexture, vTextureCoord);\n    float blendedAlpha = front.a + back.a * (1.0 - front.a);\n    \n    {MAIN}\n}\n",y="in vec2 aPosition;\nout vec2 vTextureCoord;\nout vec2 backgroundUv;\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n    \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",S="\nstruct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct BlendUniforms {\n  uBlend:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n@group(0) @binding(3) var uBackTexture: texture_2d<f32>;\n\n@group(1) @binding(0) var<uniform> blendUniforms : BlendUniforms;\n\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>\n  };\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \n}\n  \n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>, \n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition)\n  );\n}\n\n{FUNCTIONS}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>\n) -> @location(0) vec4<f32> {\n\n\n   var back =  textureSample(uBackTexture, uSampler, uv);\n   var front = textureSample(uTexture, uSampler, uv);\n   var blendedAlpha = front.a + back.a * (1.0 - front.a);\n   \n   var out = vec4<f32>(0.0,0.0,0.0,0.0);\n\n   {MAIN}\n\n   return out;\n}";class T extends _.d{constructor(e){const t=e.gpu,n=w((0,a.A)({source:S},t)),r=g.B.from({vertex:{source:n,entryPoint:"mainVertex"},fragment:{source:n,entryPoint:"mainFragment"}}),i=e.gl,s=w((0,a.A)({source:x},i));super({gpuProgram:r,glProgram:m.M.from({vertex:y,fragment:s}),blendRequired:!0,resources:{blendUniforms:new v.k({uBlend:{value:1,type:"f32"}}),uBackTexture:b.g.EMPTY}})}}function w(e){const{source:t,functions:n,main:r}=e;return t.replace("{FUNCTIONS}",n).replace("{MAIN}",r)}const A="\n\tfloat getLuminosity(vec3 c) {\n\t\treturn 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;\n\t}\n\n\tvec3 setLuminosity(vec3 c, float lum) {\n\t\tfloat modLum = lum - getLuminosity(c);\n\t\tvec3 color = c.rgb + vec3(modLum);\n\n\t\t// clip back into legal range\n\t\tmodLum = getLuminosity(color);\n\t\tvec3 modLumVec = vec3(modLum);\n\n\t\tfloat cMin = min(color.r, min(color.g, color.b));\n\t\tfloat cMax = max(color.r, max(color.g, color.b));\n\n\t\tif(cMin < 0.0) {\n\t\t\tcolor = mix(modLumVec, color, modLum / (modLum - cMin));\n\t\t}\n\n\t\tif(cMax > 1.0) {\n\t\t\tcolor = mix(modLumVec, color, (1.0 - modLum) / (cMax - modLum));\n\t\t}\n\n\t\treturn color;\n\t}\n\n\tfloat getSaturation(vec3 c) {\n\t\treturn max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));\n\t}\n\n\tvec3 setSaturationMinMidMax(vec3 cSorted, float s) {\n\t\tvec3 colorSorted = cSorted;\n\n\t\tif(colorSorted.z > colorSorted.x) {\n\t\t\tcolorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));\n\t\t\tcolorSorted.z = s;\n\t\t}\n\t\telse {\n\t\t\tcolorSorted.y = 0.0;\n\t\t\tcolorSorted.z = 0.0;\n\t\t}\n\n\t\tcolorSorted.x = 0.0;\n\n\t\treturn colorSorted;\n\t}\n\n\tvec3 setSaturation(vec3 c, float s) {\n\t\tvec3 color = c;\n\n\t\tif(color.r <= color.g && color.r <= color.b) {\n\t\t\tif(color.g <= color.b) {\n\t\t\t\tcolor = setSaturationMinMidMax(color.rgb, s).rgb;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcolor = setSaturationMinMidMax(color.rbg, s).rbg;\n\t\t\t}\n\t\t}\n\t\telse if(color.g <= color.r && color.g <= color.b) {\n\t\t\tif(color.r <= color.b) {\n\t\t\t\tcolor = setSaturationMinMidMax(color.grb, s).grb;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcolor = setSaturationMinMidMax(color.gbr, s).gbr;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// Using bgr for both fixes part of hue\n\t\t\tif(color.r <= color.g) {\n\t\t\t\tcolor = setSaturationMinMidMax(color.brg, s).brg;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tcolor = setSaturationMinMidMax(color.bgr, s).bgr;\n\t\t\t}\n\t\t}\n\n\t\treturn color;\n\t}\n    ",E="\n\tfn getLuminosity(c: vec3<f32>) -> f32\n\t{\n\t\treturn 0.3*c.r + 0.59*c.g + 0.11*c.b;\n\t}\n\n\tfn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32>\n\t{\n\t\tvar modLum: f32 = lum - getLuminosity(c);\n\t\tvar color: vec3<f32> = c.rgb + modLum;\n\n\t\t// clip back into legal range\n\t\tmodLum = getLuminosity(color);\n\t\tlet modLumVec = vec3<f32>(modLum);\n\n\t\tlet cMin: f32 = min(color.r, min(color.g, color.b));\n\t\tlet cMax: f32 = max(color.r, max(color.g, color.b));\n\n\t\tif(cMin < 0.0)\n\t\t{\n\t\t\tcolor = mix(modLumVec, color, modLum / (modLum - cMin));\n\t\t}\n\n\t\tif(cMax > 1.0)\n\t\t{\n\t\t\tcolor = mix(modLumVec, color, (1 - modLum) / (cMax - modLum));\n\t\t}\n\n\t\treturn color;\n\t}\n\n\tfn getSaturation(c: vec3<f32>) -> f32\n\t{\n\t\treturn max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));\n\t}\n\n\tfn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32>\n\t{\n\t\tvar colorSorted = cSorted;\n\n\t\tif(colorSorted.z > colorSorted.x)\n\t\t{\n\t\t\tcolorSorted.y = (((colorSorted.y - colorSorted.x) * s) / (colorSorted.z - colorSorted.x));\n\t\t\tcolorSorted.z = s;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcolorSorted.y = 0;\n\t\t\tcolorSorted.z = 0;\n\t\t}\n\n\t\tcolorSorted.x = 0;\n\n\t\treturn colorSorted;\n\t}\n\n\tfn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32>\n\t{\n\t\tvar color = c;\n\n\t\tif (color.r <= color.g && color.r <= color.b)\n\t\t{\n\t\t\tif (color.g <= color.b)\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.rgb, s)).rgb;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.rbg, s)).rbg;\n\t\t\t}\n\t\t}\n\t\telse if (color.g <= color.r && color.g <= color.b)\n\t\t{\n\t\t\tif (color.r <= color.b)\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.grb, s)).grb;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.gbr, s)).gbr;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\t// Using bgr for both fixes part of hue\n\t\t\tif (color.r <= color.g)\n\t\t\t{\n\t\t\t\tcolor = vec3<f32>(setSaturationMinMidMax(color.brg, s)).brg;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tcolor  = vec3<f32>(setSaturationMinMidMax(color.bgr, s)).bgr;\n\t\t\t}\n\t\t}\n\n\t\treturn color;\n\t}\n\t";class C extends T{constructor(){super({gl:{functions:"\n                ".concat(A,"\n\n                vec3 blendColor(vec3 base, vec3 blend,  float opacity)\n                {\n                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));\n                }\n                "),main:"\n                finalColor = vec4(blendColor(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                ".concat(E,"\n\n                fn blendColorOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (setLuminosity(blend, getLuminosity(base)) * opacity + base * (1.0 - opacity));\n                }\n                "),main:"\n                out = vec4<f32>(blendColorOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                "}})}}C.extension={name:"color",type:u.Ag.BlendMode};class R extends T{constructor(){super({gl:{functions:"\n                float colorBurn(float base, float blend)\n                {\n                    return max((1.0 - ((1.0 - base) / blend)), 0.0);\n                }\n\n                vec3 blendColorBurn(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        colorBurn(base.r, blend.r),\n                        colorBurn(base.g, blend.g),\n                        colorBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                finalColor = vec4(blendColorBurn(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n            "},gpu:{functions:"\n                fn colorBurn(base:f32, blend:f32) -> f32\n                {\n                    return max((1.0-((1.0-base)/blend)),0.0);\n                }\n\n                fn blendColorBurn(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        colorBurn(base.r, blend.r),\n                        colorBurn(base.g, blend.g),\n                        colorBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                out = vec4<f32>(blendColorBurn(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}R.extension={name:"color-burn",type:u.Ag.BlendMode};class M extends T{constructor(){super({gl:{functions:"\n                float colorDodge(float base, float blend)\n                {\n                    return base / (1.0 - blend);\n                }\n\n                vec3 blendColorDodge(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        colorDodge(base.r, blend.r),\n                        colorDodge(base.g, blend.g),\n                        colorDodge(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendColorDodge(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn colorDodge(base: f32, blend: f32) -> f32\n                {\n                    return base / (1.0 - blend);\n                }\n\n                fn blendColorDodge(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        colorDodge(base.r, blend.r),\n                        colorDodge(base.g, blend.g),\n                        colorDodge(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                    out = vec4<f32>(blendColorDodge(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                "}})}}M.extension={name:"color-dodge",type:u.Ag.BlendMode};class P extends T{constructor(){super({gl:{functions:"\n                vec3 blendDarken(vec3 base, vec3 blend, float opacity)\n                {\n                    return (min(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendDarken(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn blendDarken(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (min(blend,base) * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                out = vec4<f32>(blendDarken(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                "}})}}P.extension={name:"darken",type:u.Ag.BlendMode};class k extends T{constructor(){super({gl:{functions:"\n                vec3 blendDifference(vec3 base, vec3 blend,  float opacity)\n                {\n                    return (abs(blend - base) * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                finalColor = vec4(blendDifference(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n            "},gpu:{functions:"\n                fn blendDifference(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (abs(blend - base) * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                out = vec4<f32>(blendDifference(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}k.extension={name:"difference",type:u.Ag.BlendMode};class B extends T{constructor(){super({gl:{functions:"\n                float divide(float base, float blend)\n                {\n                    return (blend > 0.0) ? clamp(base / blend, 0.0, 1.0) : 1.0;\n                }\n\n                vec3 blendDivide(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        divide(base.r, blend.r),\n                        divide(base.g, blend.g),\n                        divide(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendDivide(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn divide(base: f32, blend: f32) -> f32\n                {\n                    return select(1.0, clamp(base / blend, 0.0, 1.0), blend > 0.0);\n                }\n\n                fn blendDivide(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        divide(base.r, blend.r),\n                        divide(base.g, blend.g),\n                        divide(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                out = vec4<f32>(blendDivide(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}B.extension={name:"divide",type:u.Ag.BlendMode};class O extends T{constructor(){super({gl:{functions:"\n                vec3 exclusion(vec3 base, vec3 blend)\n                {\n                    return base + blend - 2.0 * base * blend;\n                }\n\n                vec3 blendExclusion(vec3 base, vec3 blend, float opacity)\n                {\n                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendExclusion(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn exclusion(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>\n                {\n                    return base+blend-2.0*base*blend;\n                }\n\n                fn blendExclusion(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    return (exclusion(base, blend) * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                out = vec4<f32>(blendExclusion(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}O.extension={name:"exclusion",type:u.Ag.BlendMode};class I extends T{constructor(){super({gl:{functions:"\n                float hardLight(float base, float blend)\n                {\n                    return (blend < 0.5) ? 2.0 * base * blend : 1.0 - 2.0 * (1.0 - base) * (1.0 - blend);\n                }\n\n                vec3 blendHardLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        hardLight(base.r, blend.r),\n                        hardLight(base.g, blend.g),\n                        hardLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                finalColor = vec4(blendHardLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n            "},gpu:{functions:"\n                fn hardLight(base: f32, blend: f32) -> f32\n                {\n                    return select(1.0 - 2.0 * (1.0 - base) * (1.0 - blend), 2.0 * base * blend, blend < 0.5);\n                }\n\n                fn blendHardLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        hardLight(base.r, blend.r),\n                        hardLight(base.g, blend.g),\n                        hardLight(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                out = vec4<f32>(blendHardLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                "}})}}I.extension={name:"hard-light",type:u.Ag.BlendMode};class F extends T{constructor(){super({gl:{functions:"\n                float hardMix(float base, float blend)\n                {\n                    return (base + blend >= 1.0) ? 1.0 : 0.0;\n                }\n\n                vec3 blendHardMix(vec3 base, vec3 blend,  float opacity)\n                {\n                    vec3 blended = vec3(\n                        hardMix(base.r, blend.r),\n                        hardMix(base.g, blend.g),\n                        hardMix(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                finalColor = vec4(blendHardMix(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n            "},gpu:{functions:"\n                fn hardMix(base: f32, blend: f32) -> f32\n                {\n                    return select(0.0, 1.0, base + blend >= 1.0);\n                }\n\n                fn blendHardMix(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended: vec3<f32> = vec3<f32>(\n                        hardMix(base.r, blend.r),\n                        hardMix(base.g, blend.g),\n                        hardMix(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                out = vec4<f32>(blendHardMix(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}F.extension={name:"hard-mix",type:u.Ag.BlendMode};class G extends T{constructor(){super({gl:{functions:"\n                vec3 blendLighten(vec3 base, vec3 blend, float opacity)\n                {\n                    return (max(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendLighten(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn blendLighten(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    return (max(base, blend) * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                out = vec4<f32>(blendLighten(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}G.extension={name:"lighten",type:u.Ag.BlendMode};class N extends T{constructor(){super({gl:{functions:"\n                float linearBurn(float base, float blend)\n                {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                vec3 blendLinearBurn(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        linearBurn(base.r, blend.r),\n                        linearBurn(base.g, blend.g),\n                        linearBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendLinearBurn(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn linearBurn(base: f32, blend: f32) -> f32\n                {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                fn blendLinearBurn(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        linearBurn(base.r, blend.r),\n                        linearBurn(base.g, blend.g),\n                        linearBurn(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                out = vec4<f32>(blendLinearBurn(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                "}})}}N.extension={name:"linear-burn",type:u.Ag.BlendMode};class D extends T{constructor(){super({gl:{functions:"\n                float linearDodge(float base, float blend) {\n                    return min(1.0, base + blend);\n                }\n\n                vec3 blendLinearDodge(vec3 base, vec3 blend, float opacity) {\n                    vec3 blended = vec3(\n                        linearDodge(base.r, blend.r),\n                        linearDodge(base.g, blend.g),\n                        linearDodge(base.b, blend.b)\n                    );\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendLinearDodge(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn linearDodge(base: f32, blend: f32) -> f32\n                {\n                    return min(1, base + blend);\n                }\n\n                fn blendLinearDodge(base:vec3<f32>, blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        linearDodge(base.r, blend.r),\n                        linearDodge(base.g, blend.g),\n                        linearDodge(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                out = vec4<f32>(blendLinearDodge(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}D.extension={name:"linear-dodge",type:u.Ag.BlendMode};class U extends T{constructor(){super({gl:{functions:"\n                float linearBurn(float base, float blend) {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                float linearDodge(float base, float blend) {\n                    return min(1.0, base + blend);\n                }\n\n                float linearLight(float base, float blend) {\n                    return (blend <= 0.5) ? linearBurn(base,2.0*blend) : linearBurn(base,2.0*(blend-0.5));\n                }\n\n                vec3 blendLinearLight(vec3 base, vec3 blend, float opacity) {\n                    vec3 blended = vec3(\n                        linearLight(base.r, blend.r),\n                        linearLight(base.g, blend.g),\n                        linearLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                finalColor = vec4(blendLinearLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn linearBurn(base: f32, blend: f32) -> f32\n                {\n                    return max(0.0, base + blend - 1.0);\n                }\n\n                fn linearDodge(base: f32, blend: f32) -> f32\n                {\n                    return min(1.0, base + blend);\n                }\n\n                fn linearLight(base: f32, blend: f32) -> f32\n                {\n                    return select(linearBurn(base,2.0*(blend-0.5)), linearBurn(base,2.0*blend), blend <= 0.5);\n                }\n\n                fn blendLinearLightOpacity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        linearLight(base.r, blend.r),\n                        linearLight(base.g, blend.g),\n                        linearLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                out = vec4<f32>(blendLinearLightOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}U.extension={name:"linear-light",type:u.Ag.BlendMode};class L extends T{constructor(){super({gl:{functions:"\n                ".concat(A,"\n\n                vec3 blendLuminosity(vec3 base, vec3 blend,  float opacity)\n                {\n                    vec3 blendLuminosity = setLuminosity(base, getLuminosity(blend));\n                    return (blendLuminosity * opacity + base * (1.0 - opacity));\n                }\n                "),main:"\n                finalColor = vec4(blendLuminosity(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                ".concat(E,"\n\n                fn blendLuminosity(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blendLuminosity: vec3<f32> = setLuminosity(base, getLuminosity(blend));\n                    return (blendLuminosity * opacity + base * (1.0 - opacity));\n                }\n            "),main:"\n                out = vec4<f32>(blendLuminosity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}L.extension={name:"luminosity",type:u.Ag.BlendMode};class j extends T{constructor(){super({gl:{functions:"\n                vec3 negation(vec3 base, vec3 blend)\n                {\n                    return 1.0-abs(1.0-base-blend);\n                }\n\n                vec3 blendNegation(vec3 base, vec3 blend, float opacity)\n                {\n                    return (negation(base, blend) * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendNegation(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn blendNegation(base: vec3<f32>, blend: vec3<f32>) -> vec3<f32>\n                {\n                    return 1.0-abs(1.0-base-blend);\n                }\n\n                fn blendNegationOpacity(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    return (blendNegation(base, blend) * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                out = vec4<f32>(blendNegationOpacity(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}j.extension={name:"negation",type:u.Ag.BlendMode};class z extends T{constructor(){super({gl:{functions:"\n                float overlay(float base, float blend)\n                {\n                    return (base < 0.5) ? (2.0*base*blend) : (1.0-2.0*(1.0-base)*(1.0-blend));\n                }\n\n                vec3 blendOverlay(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        overlay(base.r, blend.r),\n                        overlay(base.g, blend.g),\n                        overlay(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendOverlay(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn overlay(base: f32, blend: f32) -> f32\n                {\n                    return select((1.0-2.0*(1.0-base)*(1.0-blend)), (2.0*base*blend), base < 0.5);\n                }\n\n                fn blendOverlay(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        overlay(base.r, blend.r),\n                        overlay(base.g, blend.g),\n                        overlay(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                out = vec4<f32>(blendOverlay(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                "}})}}z.extension={name:"overlay",type:u.Ag.BlendMode};class X extends T{constructor(){super({gl:{functions:"\n                float pinLight(float base, float blend)\n                {\n                    return (blend <= 0.5) ? min(base, 2.0 * blend) : max(base, 2.0 * (blend - 0.5));\n                }\n\n                vec3 blendPinLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        pinLight(base.r, blend.r),\n                        pinLight(base.g, blend.g),\n                        pinLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                finalColor = vec4(blendPinLight(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn pinLight(base: f32, blend: f32) -> f32\n                {\n                    return select(max(base,2.0*(blend-0.5)), min(base,2.0*blend), blend <= 0.5);\n                }\n\n                fn blendPinLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        pinLight(base.r, blend.r),\n                        pinLight(base.g, blend.g),\n                        pinLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                out = vec4<f32>(blendPinLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                "}})}}X.extension={name:"pin-light",type:u.Ag.BlendMode};class H extends T{constructor(){super({gl:{functions:"\n                ".concat(A,"\n\n                vec3 blendSaturation(vec3 base, vec3 blend,  float opacity)\n                {\n                    vec3 blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));\n                    return (blendSaturation * opacity + base * (1.0 - opacity));\n                }\n            "),main:"\n                finalColor = vec4(blendSaturation(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;\n            "},gpu:{functions:"\n                ".concat(E,"\n\n                fn blendSaturation(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blendSaturation = setLuminosity(setSaturation(base, getSaturation(blend)), getLuminosity(base));\n                    return (blendSaturation * opacity + base * (1.0 - opacity));\n                }\n            "),main:"\n                out = vec4<f32>(blendSaturation(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n            "}})}}H.extension={name:"saturation",type:u.Ag.BlendMode};class V extends T{constructor(){super({gl:{functions:"\n                float softLight(float base, float blend)\n                {\n                    return (blend < 0.5) ? (2.0 * base * blend + base * base * (1.0 - 2.0 * blend)) : (sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend));\n                }\n\n                vec3 blendSoftLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        softLight(base.r, blend.r),\n                        softLight(base.g, blend.g),\n                        softLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendSoftLight(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn softLight(base: f32, blend: f32) -> f32\n                {\n                    return select(2.0 * base * blend + base * base * (1.0 - 2.0 * blend), sqrt(base) * (2.0 * blend - 1.0) + 2.0 * base * (1.0 - blend), blend < 0.5);\n                }\n\n                fn blendSoftLight(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended: vec3<f32> = vec3<f32>(\n                        softLight(base.r, blend.r),\n                        softLight(base.g, blend.g),\n                        softLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                out = vec4<f32>(blendSoftLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                "}})}}V.extension={name:"soft-light",type:u.Ag.BlendMode};class W extends T{constructor(){super({gl:{functions:"\n                float subtract(float base, float blend)\n                {\n                    return max(0.0, base - blend);\n                }\n\n                vec3 blendSubtract(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        subtract(base.r, blend.r),\n                        subtract(base.g, blend.g),\n                        subtract(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                finalColor = vec4(blendSubtract(back.rgb, front.rgb, front.a), blendedAlpha) * uBlend;\n                "},gpu:{functions:"\n                fn subtract(base: f32, blend: f32) -> f32\n                {\n                    return max(0, base - blend);\n                }\n\n                fn blendSubtract(base:vec3<f32>,  blend:vec3<f32>,  opacity:f32) -> vec3<f32>\n                {\n                    let blended = vec3<f32>(\n                        subtract(base.r, blend.r),\n                        subtract(base.g, blend.g),\n                        subtract(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                out = vec4<f32>(blendSubtract(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                "}})}}W.extension={name:"subtract",type:u.Ag.BlendMode};class Y extends T{constructor(){super({gl:{functions:"\n                float colorBurn(float base, float blend)\n                {\n                    return max((1.0-((1.0-base)/blend)),0.0);\n                }\n\n                float colorDodge(float base, float blend)\n                {\n                    return min(1.0, base / (1.0-blend));\n                }\n\n                float vividLight(float base, float blend)\n                {\n                    return (blend < 0.5) ? colorBurn(base,(2.0*blend)) : colorDodge(base,(2.0*(blend-0.5)));\n                }\n\n                vec3 blendVividLight(vec3 base, vec3 blend, float opacity)\n                {\n                    vec3 blended = vec3(\n                        vividLight(base.r, blend.r),\n                        vividLight(base.g, blend.g),\n                        vividLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n            ",main:"\n                finalColor = vec4(blendVividLight(back.rgb, front.rgb,front.a), blendedAlpha) * uBlend;\n            "},gpu:{functions:"\n                fn colorBurn(base:f32, blend:f32) -> f32\n                {\n                    return max((1.0-((1.0-base)/blend)),0.0);\n                }\n\n                fn colorDodge(base: f32, blend: f32) -> f32\n                {\n                    return min(1.0, base / (1.0-blend));\n                }\n\n                fn vividLight(base: f32, blend: f32) -> f32\n                {\n                    return select(colorDodge(base,(2.0*(blend-0.5))), colorBurn(base,(2.0*blend)), blend<0.5);\n                }\n\n                fn blendVividLight(base: vec3<f32>, blend: vec3<f32>, opacity: f32) -> vec3<f32>\n                {\n                    let blended: vec3<f32> = vec3<f32>(\n                        vividLight(base.r, blend.r),\n                        vividLight(base.g, blend.g),\n                        vividLight(base.b, blend.b)\n                    );\n\n                    return (blended * opacity + base * (1.0 - opacity));\n                }\n                ",main:"\n                out = vec4<f32>(blendVividLight(back.rgb, front.rgb, front.a), blendedAlpha) * blendUniforms.uBlend;\n                "}})}}Y.extension={name:"vivid-light",type:u.Ag.BlendMode};var q=n(9914),K=n(3476);let Q,$;function Z(e){return void 0!==Q||(Q=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:null!==e&&void 0!==e?e:K.k.defaultOptions.failIfMajorPerformanceCaveat};try{var n;if(!q.e.get().getWebGLRenderingContext())return!1;let e=q.e.get().createCanvas().getContext("webgl",t);const r=!(null===(n=e)||void 0===n||null===(n=n.getContextAttributes())||void 0===n||!n.stencil);if(e){const t=e.getExtension("WEBGL_lose_context");t&&t.loseContext()}return e=null,r}catch(r){return!1}})()),Q}async function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0!==$||($=await(async()=>{const t=q.e.get().getNavigator().gpu;if(!t)return!1;try{const n=await t.requestAdapter(e);return await n.requestDevice(),!0}catch(n){return!1}})()),$}const ee=["webgl","webgpu","canvas"];async function te(e){let t,r=[];e.preference?(r.push(e.preference),ee.forEach(t=>{t!==e.preference&&r.push(t)})):r=ee.slice();let i={};for(let l=0;l<r.length;l++){var s;const o=r[l];if("webgpu"===o&&await J()){const{WebGPURenderer:r}=await Promise.resolve().then(n.bind(n,1479));t=r,i=(0,a.A)((0,a.A)({},e),e.webgpu);break}if("webgl"===o&&Z(null!==(s=e.failIfMajorPerformanceCaveat)&&void 0!==s?s:K.k.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:r}=await Promise.resolve().then(n.bind(n,1937));t=r,i=(0,a.A)((0,a.A)({},e),e.webgl);break}if("canvas"===o)throw i=(0,a.A)({},e),new Error("CanvasRenderer is not yet implemented")}if(delete i.webgpu,delete i.webgl,!t)throw new Error("No available renderer for the current environment");const o=new t;return await o.init(i),o}var ne=n(7385),re=n(8402),ie=n(4811);const se=class e{constructor(){this.stage=new ne.mc,void 0!==(arguments.length<=0?void 0:arguments[0])&&(0,ie.t6)(ie.lj,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t=(0,a.A)({},t),this.renderer=await te(t),e._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return(0,ie.t6)(ie.lj,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=e._plugins.slice(0);r.reverse(),r.forEach(e=>{e.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};se._plugins=[];let ae=se;u.XO.handleByList(u.Ag.Application,ae._plugins),u.XO.add(re.M);var oe=n(8898),le=n(3828),ce=n(366),ue=n(7960),de=n(6268),he=n(9148),pe=n(4307),fe=n(8306),me=n(5345);class ge extends fe.v{constructor(e,t){var n;super();const{textures:r,data:i}=e;Object.keys(i.pages).forEach(e=>{const t=i.pages[parseInt(e,10)],n=r[t.id];this.pages.push({texture:n})}),Object.keys(i.chars).forEach(e=>{var t;const n=i.chars[e],{frame:s,source:a,rotate:o}=r[n.page],l=he.E.transformRectCoords(n,s,o,new pe.M),c=new b.g({frame:l,orig:new pe.M(0,0,n.width,n.height),source:a,rotate:o});this.chars[e]={id:e.codePointAt(0),xOffset:n.xOffset,yOffset:n.yOffset,xAdvance:n.xAdvance,kerning:null!==(t=n.kerning)&&void 0!==t?t:{},texture:c}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=null!==(n=i.distanceField)&&void 0!==n?n:{type:"none",range:0},this.url=t}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:t}=this.pages[e];t.destroy(!0)}this.pages=null}static install(e){me.c.install(e)}static uninstall(e){me.c.uninstall(e)}}const ve={test:e=>"string"===typeof e&&e.startsWith("info face="),parse(e){var t;const n=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const f in n){const e=n[f].match(/^[a-z]+/gm)[0],t=n[f].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),i={};for(const n in t){const e=t[n].split("="),r=e[0],s=e[1].replace(/"/gm,""),a=parseFloat(s),o=isNaN(a)?s:a;i[r]=o}r[e].push(i)}const i={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[s]=r.info,[a]=r.common,[o]=null!==(t=r.distanceField)&&void 0!==t?t:[];o&&(i.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),i.fontSize=parseInt(s.size,10),i.fontFamily=s.face,i.lineHeight=parseInt(a.lineHeight,10);const l=r.page;for(let f=0;f<l.length;f++)i.pages.push({id:parseInt(l[f].id,10)||0,file:l[f].file});const c={};i.baseLineOffset=i.lineHeight-parseInt(a.base,10);const u=r.char;for(let f=0;f<u.length;f++){var d,h;const e=u[f],t=parseInt(e.id,10);let n=null!==(d=null!==(h=e.letter)&&void 0!==h?h:e.char)&&void 0!==d?d:String.fromCharCode(t);"space"===n&&(n=" "),c[t]=n,i.chars[n]={id:t,page:parseInt(e.page,10)||0,x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xOffset:parseInt(e.xoffset,10),yOffset:parseInt(e.yoffset,10),xAdvance:parseInt(e.xadvance,10),kerning:{}}}const p=r.kerning||[];for(let f=0;f<p.length;f++){const e=parseInt(p[f].first,10),t=parseInt(p[f].second,10),n=parseInt(p[f].amount,10);i.chars[c[t]].kerning[c[e]]=n}return i}},be={test(e){const t=e;return"string"!==typeof t&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},parse(e){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=e.getElementsByTagName("info")[0],r=e.getElementsByTagName("common")[0],i=e.getElementsByTagName("distanceField")[0];i&&(t.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const s=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning");t.fontSize=parseInt(n.getAttribute("size"),10),t.fontFamily=n.getAttribute("face"),t.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let d=0;d<s.length;d++)t.pages.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});const l={};t.baseLineOffset=t.lineHeight-parseInt(r.getAttribute("base"),10);for(let d=0;d<a.length;d++){var c,u;const e=a[d],n=parseInt(e.getAttribute("id"),10);let r=null!==(c=null!==(u=e.getAttribute("letter"))&&void 0!==u?u:e.getAttribute("char"))&&void 0!==c?c:String.fromCharCode(n);"space"===r&&(r=" "),l[n]=r,t.chars[r]={id:n,page:parseInt(e.getAttribute("page"),10)||0,x:parseInt(e.getAttribute("x"),10),y:parseInt(e.getAttribute("y"),10),width:parseInt(e.getAttribute("width"),10),height:parseInt(e.getAttribute("height"),10),xOffset:parseInt(e.getAttribute("xoffset"),10),yOffset:parseInt(e.getAttribute("yoffset"),10),xAdvance:parseInt(e.getAttribute("xadvance"),10),kerning:{}}}for(let d=0;d<o.length;d++){const e=parseInt(o[d].getAttribute("first"),10),n=parseInt(o[d].getAttribute("second"),10),r=parseInt(o[d].getAttribute("amount"),10);t.chars[l[n]].kerning[l[e]]=r}return t}},_e={test:e=>!("string"!==typeof e||!e.includes("<font>"))&&be.test(q.e.get().parseXML(e)),parse:e=>be.parse(q.e.get().parseXML(e))},xe=[".xml",".fnt"],ye={extension:{type:u.Ag.CacheParser,name:"cacheBitmapFont"},test:e=>e instanceof ge,getCacheableAssets(e,t){const n={};return e.forEach(e=>{n[e]=t,n["".concat(e,"-bitmap")]=t}),n["".concat(t.fontFamily,"-bitmap")]=t,n}},Se={extension:{type:u.Ag.LoadParser,priority:ce.T.Normal},name:"loadBitmapFont",id:"bitmap-font",test:e=>xe.includes(de.A.extname(e).toLowerCase()),testParse:async e=>ve.test(e)||_e.test(e),async parse(e,t,n){const r=ve.test(e)?ve.parse(e):_e.parse(e),{src:i}=t,{pages:s}=r,a=[],o=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let u=0;u<s.length;++u){const e=s[u].file;let t=de.A.join(de.A.dirname(i),e);t=(0,ue.Y)(t,i),a.push({src:t,data:o})}const l=await n.load(a),c=a.map(e=>l[e.src]);return new ge({data:r,textures:c},i)},async load(e,t){const n=await q.e.get().fetch(e);return await n.text()},async unload(e,t,n){await Promise.all(e.pages.map(e=>n.unload(e.texture.source._sourceOrigin))),e.destroy()}};var Te=n(279);class we{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<t;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}var Ae=n(8656);const Ee={extension:{type:u.Ag.CacheParser,name:"cacheTextureArray"},test:e=>Array.isArray(e)&&e.every(e=>e instanceof b.g),getCacheableAssets:(e,t)=>{const n={};return e.forEach(e=>{t.forEach((t,r)=>{n[e+(0===r?"":r+1)]=t})}),n}};async function Ce(e){if("Image"in globalThis)return new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=e});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(e)).blob();await createImageBitmap(t)}catch(t){return!1}return!0}return!1}const Re={extension:{type:u.Ag.DetectionParser,priority:1},test:async()=>Ce("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async e=>[...e,"avif"],remove:async e=>e.filter(e=>"avif"!==e)},Me=["png","jpg","jpeg"],Pe={extension:{type:u.Ag.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...Me],remove:async e=>e.filter(e=>!Me.includes(e))},ke="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Be(e){if(ke)return!1;return""!==document.createElement("video").canPlayType(e)}const Oe={extension:{type:u.Ag.DetectionParser,priority:0},test:async()=>Be("video/mp4"),add:async e=>[...e,"mp4","m4v"],remove:async e=>e.filter(e=>"mp4"!==e&&"m4v"!==e)},Ie={extension:{type:u.Ag.DetectionParser,priority:0},test:async()=>Be("video/ogg"),add:async e=>[...e,"ogv"],remove:async e=>e.filter(e=>"ogv"!==e)},Fe={extension:{type:u.Ag.DetectionParser,priority:0},test:async()=>Be("video/webm"),add:async e=>[...e,"webm"],remove:async e=>e.filter(e=>"webm"!==e)},Ge={extension:{type:u.Ag.DetectionParser,priority:0},test:async()=>Ce("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async e=>[...e,"webp"],remove:async e=>e.filter(e=>"webp"!==e)};var Ne=n(1685),De=n(6340);class Ue{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,n)=>(this._parsersValidated=!1,e[t]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const n={promise:null,parser:null};return n.promise=(async()=>{let r=null,i=null;if((t.parser||t.loadParser)&&(i=this._parserHash[t.parser||t.loadParser],t.loadParser&&(0,Te.R)('[Assets] "loadParser" is deprecated, use "parser" instead for '.concat(e)),i||(0,Te.R)('[Assets] specified load parser "'.concat(t.parser||t.loadParser,'" not found while loading ').concat(e))),!i){for(let n=0;n<this.parsers.length;n++){var s;const r=this.parsers[n];if(r.load&&null!==(s=r.test)&&void 0!==s&&s.call(r,e,t,this)){i=r;break}}if(!i)return(0,Te.R)("[Assets] ".concat(e," could not be loaded as we don't know how to parse it, ensure the correct parser has been added")),null}r=await i.load(e,t,this),n.parser=i;for(let e=0;e<this.parsers.length;e++){const i=this.parsers[e];var a;if(i.parse)i.parse&&await(null===(a=i.testParse)||void 0===a?void 0:a.call(i,r,t,this))&&(r=await i.parse(r,t,this)||r,n.parser=i)}return r})(),n}async load(e,t){this._parsersValidated||this._validateParsers();let n=0;const r={},i=(0,De.a)(e),s=(0,Ne.z)(e,e=>({alias:[e],src:e,data:{}})),a=s.length,o=s.map(async e=>{const i=de.A.toAbsolute(e.src);if(!r[e.src])try{this.promiseCache[i]||(this.promiseCache[i]=this._getLoadPromiseAndParser(i,e)),r[e.src]=await this.promiseCache[i].promise,t&&t(++n/a)}catch(s){throw delete this.promiseCache[i],delete r[e.src],new Error("[Loader.load] Failed to load ".concat(i,".\n").concat(s))}});return await Promise.all(o),i?r[s[0].src]:r}async unload(e){const t=(0,Ne.z)(e,e=>({alias:[e],src:e})).map(async e=>{const t=de.A.toAbsolute(e.src),n=this.promiseCache[t];if(n){var r,i;const s=await n.promise;delete this.promiseCache[t],await(null===(r=n.parser)||void 0===r||null===(i=r.unload)||void 0===i?void 0:i.call(r,s,e,this))}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name||e.id).reduce((e,t)=>(t.name||t.id?(e[t.name]||e[t.id])&&(0,Te.R)('[Assets] parser id conflict "'.concat(t.id,'"')):(0,Te.R)("[Assets] parser should have an id"),e[t.name]=t,t.id&&(e[t.id]=t),e),{})}}function Le(e,t){if(Array.isArray(t)){for(const n of t)if(e.startsWith("data:".concat(n)))return!0;return!1}return e.startsWith("data:".concat(t))}function je(e,t){const n=e.split("?")[0],r=de.A.extname(n).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}const ze={extension:{type:u.Ag.LoadParser,priority:ce.T.Low},name:"loadJson",id:"json",test:e=>Le(e,"application/json")||je(e,".json"),async load(e){const t=await q.e.get().fetch(e);return await t.json()}},Xe={name:"loadTxt",id:"text",extension:{type:u.Ag.LoadParser,priority:ce.T.Low,name:"loadTxt"},test:e=>Le(e,"text/plain")||je(e,".txt"),async load(e){const t=await q.e.get().fetch(e);return await t.text()}},He=["normal","bold","100","200","300","400","500","600","700","800","900"],Ve=[".ttf",".otf",".woff",".woff2"],We=["font/ttf","font/otf","font/woff","font/woff2"],Ye=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function qe(e){const t=de.A.extname(e),n=de.A.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1));let r=n.length>0;for(const s of n)if(!s.match(Ye)){r=!1;break}let i=n.join(" ");return r||(i='"'.concat(i.replace(/[\\"]/g,"\\$&"),'"')),i}const Ke=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function Qe(e){return Ke.test(e)?e:encodeURI(e)}const $e={extension:{type:u.Ag.LoadParser,priority:ce.T.Low},name:"loadWebFont",id:"web-font",test:e=>Le(e,We)||je(e,Ve),async load(e,t){const n=q.e.get().getFontFaceSet();if(n){var r,i,s,o,l;const c=[],u=null!==(r=null===(i=t.data)||void 0===i?void 0:i.family)&&void 0!==r?r:qe(e),d=null!==(s=null===(o=t.data)||void 0===o||null===(o=o.weights)||void 0===o?void 0:o.filter(e=>He.includes(e)))&&void 0!==s?s:["normal"],h=null!==(l=t.data)&&void 0!==l?l:{};for(let t=0;t<d.length;t++){const r=d[t],i=new FontFace(u,"url(".concat(Qe(e),")"),(0,a.A)((0,a.A)({},h),{},{weight:r}));await i.load(),n.add(i),c.push(i)}if(Ae.l.has("".concat(u,"-and-url"))){Ae.l.get("".concat(u,"-and-url")).entries.push({url:e,faces:c})}else Ae.l.set("".concat(u,"-and-url"),{entries:[{url:e,faces:c}]});return 1===c.length?c[0]:c}return(0,Te.R)("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){const t=Array.isArray(e)?e:[e],n=t[0].family,r=Ae.l.get("".concat(n,"-and-url")),i=r.entries.find(e=>e.faces.some(e=>-1!==t.indexOf(e)));i.faces=i.faces.filter(e=>-1===t.indexOf(e)),0===i.faces.length&&(r.entries=r.entries.filter(e=>e!==i)),t.forEach(e=>{q.e.get().getFontFaceSet().delete(e)}),0===r.entries.length&&Ae.l.remove("".concat(n,"-and-url"))}};var Ze=n(3682),Je=n(140),et=n(4850);function tt(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=null===(t=et.x.RETINA_PREFIX)||void 0===t?void 0:t.exec(e);return r?parseFloat(r[1]):n}function nt(e,t,n){e.label=n,e._sourceOrigin=n;const r=new b.g({source:e,label:n}),i=()=>{delete t.promiseCache[n],Ae.l.has(n)&&Ae.l.remove(n)};return r.source.once("destroy",()=>{t.promiseCache[n]&&((0,Te.R)("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),r.once("destroy",()=>{e.destroyed||((0,Te.R)("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),r}const rt=["parseAsGraphicsContext"],it={extension:{type:u.Ag.LoadParser,priority:ce.T.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test:e=>Le(e,"image/svg+xml")||je(e,".svg"),async load(e,t,n){var r,s;return(null!==(r=null===(s=t.data)||void 0===s?void 0:s.parseAsGraphicsContext)&&void 0!==r?r:this.config.parseAsGraphicsContext)?async function(e){const t=await q.e.get().fetch(e),n=await t.text(),r=new Je.T;return r.svg(n),r}(e):async function(e,t,n,r){var s,o,l,c,u,d;const h=await q.e.get().fetch(e),p=await h.blob(),f=URL.createObjectURL(p),m=q.e.get().createImage();m.src=f,m.crossOrigin=r,await m.decode(),URL.revokeObjectURL(f);const g=null!==(s=null===(o=t.data)||void 0===o?void 0:o.width)&&void 0!==s?s:m.width,v=null!==(l=null===(c=t.data)||void 0===c?void 0:c.height)&&void 0!==l?l:m.height,b=(null===(u=t.data)||void 0===u?void 0:u.resolution)||tt(e),_=q.e.get().createCanvas(g*b,v*b);_.getContext("2d").drawImage(m,0,0,g*b,v*b);const x=null!==(d=t.data)&&void 0!==d?d:{},{parseAsGraphicsContext:y}=x,S=(0,i.A)(x,rt);return nt(new Ze.b((0,a.A)({resource:_,alphaMode:"premultiply-alpha-on-upload",resolution:b},S)),n,e)}(e,t,n,this.config.crossOrigin)},unload(e){e.destroy(!0)}};let st=null;class at{constructor(){st||(st=URL.createObjectURL(new Blob(['(function () {\n    \'use strict\';\n\n    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n    async function checkImageBitmap() {\n      try {\n        if (typeof createImageBitmap !== "function")\n          return false;\n        const response = await fetch(WHITE_PNG);\n        const imageBlob = await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n        return imageBitmap.width === 1 && imageBitmap.height === 1;\n      } catch (_e) {\n        return false;\n      }\n    }\n    void checkImageBitmap().then((result) => {\n      self.postMessage(result);\n    });\n\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(st)}}at.revokeObjectURL=function(){st&&(URL.revokeObjectURL(st),st=null)};let ot=null;class lt{constructor(){ot||(ot=URL.createObjectURL(new Blob(['(function () {\n    \'use strict\';\n\n    async function loadImageBitmap(url, alphaMode) {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n      }\n      const imageBlob = await response.blob();\n      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);\n    }\n    self.onmessage = async (event) => {\n      try {\n        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);\n        self.postMessage({\n          data: imageBitmap,\n          uuid: event.data.uuid,\n          id: event.data.id\n        }, [imageBitmap]);\n      } catch (e) {\n        self.postMessage({\n          error: e,\n          uuid: event.data.uuid,\n          id: event.data.id\n        });\n      }\n    };\n\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(ot)}}lt.revokeObjectURL=function(){ot&&(URL.revokeObjectURL(ot),ot=null)};let ct,ut=0;const dt=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return void 0!==this._isImageBitmapSupported||(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new at;t.addEventListener("message",n=>{t.terminate(),at.revokeObjectURL(),e(n.data)})})),this._isImageBitmapSupported}loadImageBitmap(e,t){var n;return this._run("loadImageBitmap",[e,null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){void 0===ct&&(ct=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<ct&&(this._createdWorkers++,e=(new lt).worker,e.addEventListener("message",e=>{this._complete(e.data),this._returnWorker(e.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){void 0!==e.error?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const n=new Promise((n,r)=>{this._queue.push({id:e,arguments:t,resolve:n,reject:r})});return this._next(),n}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const t=this._queue.pop(),n=t.id;this._resolveHash[ut]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:ut++,id:n})}reset(){this._workerPool.forEach(e=>e.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(e=>{let{reject:t}=e;null===t||void 0===t||t(new Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}},ht=[".jpeg",".jpg",".png",".webp",".avif"],pt=["image/jpeg","image/png","image/webp","image/avif"];async function ft(e,t){var n;const r=await q.e.get().fetch(e);if(!r.ok)throw new Error("[loadImageBitmap] Failed to fetch ".concat(e,": ").concat(r.status," ").concat(r.statusText));const i=await r.blob();return"premultiplied-alpha"===(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.alphaMode)?createImageBitmap(i,{premultiplyAlpha:"none"}):createImageBitmap(i)}const mt={name:"loadTextures",id:"texture",extension:{type:u.Ag.LoadParser,priority:ce.T.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test:e=>Le(e,pt)||je(e,ht),async load(e,t,n){var r;let i=null;i=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await dt.isImageBitmapSupported()?await dt.loadImageBitmap(e,t):await ft(e,t):await new Promise((t,n)=>{i=q.e.get().createImage(),i.crossOrigin=this.config.crossOrigin,i.src=e,i.complete?t(i):(i.onload=()=>{t(i)},i.onerror=n)});return nt(new Ze.b((0,a.A)({resource:i,alphaMode:"premultiply-alpha-on-upload",resolution:(null===(r=t.data)||void 0===r?void 0:r.resolution)||tt(e)},t.data)),n,e)},unload(e){e.destroy(!0)}};var gt=n(5368),vt=n(5813);const bt=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let _t,xt;function yt(e,t,n){void 0!==n||t.startsWith("data:")?!1!==n&&(e.crossOrigin="string"===typeof n?n:"anonymous"):e.crossOrigin=Tt(t)}function St(e){return new Promise((t,n)=>{function r(){s(),t()}function i(e){s(),n(e)}function s(){e.removeEventListener("canplaythrough",r),e.removeEventListener("error",i)}e.addEventListener("canplaythrough",r),e.addEventListener("error",i),e.load()})}function Tt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.location;if(e.startsWith("data:"))return"";t||(t=globalThis.location);const n=new URL(e,document.baseURI);return n.hostname!==t.hostname||n.port!==t.port||n.protocol!==t.protocol?"anonymous":""}const wt={name:"loadVideo",id:"video",extension:{type:u.Ag.LoadParser,name:"loadVideo"},test(e){if(!_t||!xt){const{validVideoExtensions:e,validVideoMime:t}=function(){const e=[],t=[];for(const n of bt){const r=gt.$.MIME_TYPES[n.substring(1)]||"video/".concat(n.substring(1));Be(r)&&(e.push(n),t.includes(r)||t.push(r))}return{validVideoExtensions:e,validVideoMime:t}}();_t=e,xt=t}const t=Le(e,xt),n=je(e,_t);return t||n},async load(e,t,n){var r,i;const s=(0,a.A)((0,a.A)({},gt.$.defaultOptions),{},{resolution:(null===(r=t.data)||void 0===r?void 0:r.resolution)||tt(e),alphaMode:(null===(i=t.data)||void 0===i?void 0:i.alphaMode)||await(0,vt.C)()},t.data),o=document.createElement("video"),l={preload:!1!==s.autoLoad?"auto":void 0,"webkit-playsinline":!1!==s.playsinline?"":void 0,playsinline:!1!==s.playsinline?"":void 0,muted:!0===s.muted?"":void 0,loop:!0===s.loop?"":void 0,autoplay:!1!==s.autoPlay?"":void 0};Object.keys(l).forEach(e=>{const t=l[e];void 0!==t&&o.setAttribute(e,t)}),!0===s.muted&&(o.muted=!0),yt(o,e,s.crossorigin);const c=document.createElement("source");let u;if(s.mime)u=s.mime;else if(e.startsWith("data:"))u=e.slice(5,e.indexOf(";"));else if(!e.startsWith("blob:")){const t=e.split("?")[0].slice(e.lastIndexOf(".")+1).toLowerCase();u=gt.$.MIME_TYPES[t]||"video/".concat(t)}return c.src=e,u&&(c.type=u),new Promise(r=>{const i=async()=>{const l=new gt.$((0,a.A)((0,a.A)({},s),{},{resource:o}));o.removeEventListener("canplay",i),t.data.preload&&await St(o),r(nt(l,n,e))};s.preload&&!s.autoPlay&&o.load(),o.addEventListener("canplay",i),o.appendChild(c)})},unload(e){e.destroy(!0)}},At={extension:{type:u.Ag.ResolveParser,name:"resolveTexture"},test:mt.test,parse:e=>{var t,n;return{resolution:parseFloat(null!==(t=null===(n=et.x.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:e.split(".").pop(),src:e}}},Et={extension:{type:u.Ag.ResolveParser,priority:-2,name:"resolveJson"},test:e=>et.x.RETINA_PREFIX.test(e)&&e.endsWith(".json"),parse:At.parse};class Ct{constructor(){this._detections=[],this._initialized=!1,this.resolver=new et.x,this.loader=new Ue,this.cache=Ae.l,this._backgroundLoader=new we(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._initialized)return void(0,Te.R)("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");if(this._initialized=!0,r.defaultSearchParams&&this.resolver.setDefaultSearchParams(r.defaultSearchParams),r.basePath&&(this.resolver.basePath=r.basePath),r.bundleIdentifier&&this.resolver.setBundleIdentifier(r.bundleIdentifier),r.manifest){let e=r.manifest;"string"===typeof e&&(e=await this.load(e)),this.resolver.addManifest(e)}const i=null!==(e=null===(t=r.texturePreference)||void 0===t?void 0:t.resolution)&&void 0!==e?e:1,s="number"===typeof i?[i]:i,a=await this._detectFormats({preferredFormats:null===(n=r.texturePreference)||void 0===n?void 0:n.format,skipDetections:r.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:a,resolution:s}}),r.preferences&&this.setPreferences(r.preferences)}add(e){this.resolver.add(e)}async load(e,t){this._initialized||await this.init();const n=(0,De.a)(e),r=(0,Ne.z)(e).map(e=>{if("string"!==typeof e){const t=this.resolver.getAlias(e);return t.some(e=>!this.resolver.hasKey(e))&&this.add(e),Array.isArray(t)?t[0]:t}return this.resolver.hasKey(e)||this.add({alias:e,src:e}),e}),i=this.resolver.resolve(r),s=await this._mapLoadToResolve(i,t);return n?s[r[0]]:s}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let n=!1;"string"===typeof e&&(n=!0,e=[e]);const r=this.resolver.resolveBundle(e),i={},s=Object.keys(r);let a=0,o=0;const l=()=>{null===t||void 0===t||t(++a/o)},c=s.map(e=>{const t=r[e],n=Object.values(t),s=[...new Set(n.flat())];return o+=s.length,this._mapLoadToResolve(t,l).then(t=>{i[e]=t})});return await Promise.all(c),n?i[e[0]]:i}async backgroundLoad(e){this._initialized||await this.init(),"string"===typeof e&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),"string"===typeof e&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(e=>{this._backgroundLoader.add(Object.values(e))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"===typeof e)return Ae.l.get(e);const t={};for(let n=0;n<e.length;n++)t[n]=Ae.l.get(e[n]);return t}async _mapLoadToResolve(e,t){const n=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const r=await this.loader.load(n,t);this._backgroundLoader.active=!0;const i={};return n.forEach(e=>{const t=r[e.src],n=[e.src];e.alias&&n.push(...e.alias),n.forEach(e=>{i[e]=t}),Ae.l.set(n,t)}),i}async unload(e){this._initialized||await this.init();const t=(0,Ne.z)(e).map(e=>"string"!==typeof e?e.src:e),n=this.resolver.resolve(t);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=(0,Ne.z)(e);const t=this.resolver.resolveBundle(e),n=Object.keys(t).map(e=>this._unloadFromResolved(t[e]));await Promise.all(n)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(e=>{Ae.l.remove(e.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?t=await n.add(t):e.skipDetections||(t=await n.remove(t));return t=t.filter((e,n)=>t.indexOf(e)===n),t}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(t=>t in e).forEach(n=>{t.config[n]=e[n]})})}}const Rt=new Ct;u.XO.handleByList(u.Ag.LoadParser,Rt.loader.parsers).handleByList(u.Ag.ResolveParser,Rt.resolver.parsers).handleByList(u.Ag.CacheParser,Rt.cache.parsers).handleByList(u.Ag.DetectionParser,Rt.detections),u.XO.add(Ee,Pe,Re,Ge,Oe,Ie,Fe,ze,Xe,$e,it,mt,wt,Se,ye,At,Et);const Mt={loader:u.Ag.LoadParser,resolver:u.Ag.ResolveParser,cache:u.Ag.CacheParser,detection:u.Ag.DetectionParser};u.XO.handle(u.Ag.Asset,e=>{const t=e.ref;Object.entries(Mt).filter(e=>{let[n]=e;return!!t[n]}).forEach(e=>{var n;let[r,i]=e;return u.XO.add(Object.assign(t[r],{extension:null!==(n=t[r].extension)&&void 0!==n?n:i}))})},e=>{const t=e.ref;Object.keys(Mt).filter(e=>!!t[e]).forEach(e=>u.XO.remove(t[e]))});var Pt=n(9164),kt=n(5242);const Bt={extension:{type:u.Ag.DetectionParser,priority:3},test:async()=>!!await J()||!!Z(),add:async e=>[...e,"basis"],remove:async e=>e.filter(e=>"basis"!==e)};var Ot=n(6904);class It extends Ot.v{constructor(e){super(e),this.uploadMethodId="compressed",this.resource=e.resource,this.mipLevelCount=this.resource.length}}let Ft,Gt,Nt;function Dt(){if(Ft)return Ft;const e=q.e.get().createCanvas(1,1).getContext("webgl");return e?(Ft=[...e.getExtension("EXT_texture_compression_bptc")?["bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb"]:[],...e.getExtension("WEBGL_compressed_texture_s3tc")?["bc1-rgba-unorm","bc2-rgba-unorm","bc3-rgba-unorm"]:[],...e.getExtension("WEBGL_compressed_texture_s3tc_srgb")?["bc1-rgba-unorm-srgb","bc2-rgba-unorm-srgb","bc3-rgba-unorm-srgb"]:[],...e.getExtension("EXT_texture_compression_rgtc")?["bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm"]:[],...e.getExtension("WEBGL_compressed_texture_etc")?["etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","eac-r11unorm","eac-rg11unorm"]:[],...e.getExtension("WEBGL_compressed_texture_astc")?["astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]:[]],Ft):[]}async function Ut(){if(Gt)return Gt;const e=await q.e.get().getNavigator().gpu.requestAdapter();return Gt=[...e.features.has("texture-compression-bc")?["bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb"]:[],...e.features.has("texture-compression-etc2")?["etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm"]:[],...e.features.has("texture-compression-astc")?["astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"]:[]],Gt}async function Lt(){return void 0!==Nt||(Nt=await(async()=>{const e=await J(),t=Z();if(e&&t){const e=await Ut(),t=Dt();return e.filter(e=>t.includes(e))}return e?await Ut():t?Dt():[]})()),Nt}const jt=["r8unorm","r8snorm","r8uint","r8sint","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32uint","r32sint","r32float","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb9e5ufloat","rgb10a2unorm","rg11b10ufloat","rg32uint","rg32sint","rg32float","rgba16uint","rgba16sint","rgba16float","rgba32uint","rgba32sint","rgba32float","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8"];let zt;async function Xt(){if(void 0!==zt)return zt;const e=await Lt();return zt=[...jt,...e],zt}let Ht=null;class Vt{constructor(){Ht||(Ht=URL.createObjectURL(new Blob(['(function () {\n    \'use strict\';\n\n    function createLevelBuffers(basisTexture, basisTranscoderFormat) {\n      const images = basisTexture.getNumImages();\n      const levels = basisTexture.getNumLevels(0);\n      const success = basisTexture.startTranscoding();\n      if (!success) {\n        throw new Error("startTranscoding failed");\n      }\n      const levelBuffers = [];\n      for (let levelIndex = 0; levelIndex < levels; ++levelIndex) {\n        for (let sliceIndex = 0; sliceIndex < images; ++sliceIndex) {\n          const transcodeSize = basisTexture.getImageTranscodedSizeInBytes(sliceIndex, levelIndex, basisTranscoderFormat);\n          const levelBuffer = new Uint8Array(transcodeSize);\n          const success2 = basisTexture.transcodeImage(levelBuffer, sliceIndex, levelIndex, basisTranscoderFormat, 1, 0);\n          if (!success2) {\n            throw new Error("transcodeImage failed");\n          }\n          levelBuffers.push(levelBuffer);\n        }\n      }\n      return levelBuffers;\n    }\n\n    const gpuFormatToBasisTranscoderFormatMap = {\n      "bc3-rgba-unorm": 3,\n      // cTFBC3_RGBA\n      "bc7-rgba-unorm": 6,\n      // cTFBC7_RGBA,\n      "etc2-rgba8unorm": 1,\n      // cTFETC2_RGBA,\n      "astc-4x4-unorm": 10,\n      // cTFASTC_4x4_RGBA,\n      // Uncompressed\n      rgba8unorm: 13,\n      // cTFRGBA32,\n      rgba4unorm: 16\n      // cTFRGBA4444,\n    };\n    function gpuFormatToBasisTranscoderFormat(transcoderFormat) {\n      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];\n      if (format) {\n        return format;\n      }\n      throw new Error(`Unsupported transcoderFormat: ${transcoderFormat}`);\n    }\n\n    const settings = {\n      jsUrl: "basis/basis_transcoder.js",\n      wasmUrl: "basis/basis_transcoder.wasm"\n    };\n    let basisTranscoderFormat;\n    let basisTranscodedTextureFormat;\n    let basisPromise;\n    async function getBasis() {\n      if (!basisPromise) {\n        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;\n        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;\n        importScripts(absoluteJsUrl);\n        basisPromise = new Promise((resolve) => {\n          BASIS({\n            locateFile: (_file) => absoluteWasmUrl\n          }).then((module) => {\n            module.initializeBasis();\n            resolve(module.BasisFile);\n          });\n        });\n      }\n      return basisPromise;\n    }\n    async function fetchBasisTexture(url, BasisTexture) {\n      const basisResponse = await fetch(url);\n      if (basisResponse.ok) {\n        const basisArrayBuffer = await basisResponse.arrayBuffer();\n        return new BasisTexture(new Uint8Array(basisArrayBuffer));\n      }\n      throw new Error(`Failed to load Basis texture: ${url}`);\n    }\n    const preferredTranscodedFormat = [\n      "bc7-rgba-unorm",\n      "astc-4x4-unorm",\n      "etc2-rgba8unorm",\n      "bc3-rgba-unorm",\n      "rgba8unorm"\n    ];\n    async function load(url) {\n      const BasisTexture = await getBasis();\n      const basisTexture = await fetchBasisTexture(url, BasisTexture);\n      const levelBuffers = createLevelBuffers(basisTexture, basisTranscoderFormat);\n      return {\n        width: basisTexture.getImageWidth(0, 0),\n        height: basisTexture.getImageHeight(0, 0),\n        format: basisTranscodedTextureFormat,\n        resource: levelBuffers,\n        alphaMode: "no-premultiply-alpha"\n      };\n    }\n    async function init(jsUrl, wasmUrl, supportedTextures) {\n      if (jsUrl)\n        settings.jsUrl = jsUrl;\n      if (wasmUrl)\n        settings.wasmUrl = wasmUrl;\n      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];\n      basisTranscoderFormat = gpuFormatToBasisTranscoderFormat(basisTranscodedTextureFormat);\n      await getBasis();\n    }\n    const messageHandlers = {\n      init: async (data) => {\n        const { jsUrl, wasmUrl, supportedTextures } = data;\n        await init(jsUrl, wasmUrl, supportedTextures);\n      },\n      load: async (data) => {\n        try {\n          const textureOptions = await load(data.url);\n          return {\n            type: "load",\n            url: data.url,\n            success: true,\n            textureOptions,\n            transferables: textureOptions.resource?.map((arr) => arr.buffer)\n          };\n        } catch (e) {\n          throw e;\n        }\n      }\n    };\n    self.onmessage = async (messageEvent) => {\n      const message = messageEvent.data;\n      const response = await messageHandlers[message.type](message);\n      if (response) {\n        self.postMessage(response, response.transferables);\n      }\n    };\n\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(Ht)}}Vt.revokeObjectURL=function(){Ht&&(URL.revokeObjectURL(Ht),Ht=null)};const Wt={jsUrl:"https://files.pixijs.download/transcoders/basis/basis_transcoder.js",wasmUrl:"https://files.pixijs.download/transcoders/basis/basis_transcoder.wasm"};function Yt(e){Object.assign(Wt,e)}let qt;const Kt={};function Qt(e,t){const n=function(e){return qt||(qt=(new Vt).worker,qt.onmessage=e=>{const{success:t,url:n,textureOptions:r}=e.data;t||console.warn("Failed to load Basis texture",n),Kt[n](r)},qt.postMessage({type:"init",jsUrl:Wt.jsUrl,wasmUrl:Wt.wasmUrl,supportedTextures:e})),qt}(t);return new Promise(t=>{Kt[e]=t,n.postMessage({type:"load",url:e})})}const $t={extension:{type:u.Ag.LoadParser,priority:ce.T.High,name:"loadBasis"},name:"loadBasis",id:"basis",test:e=>je(e,[".basis"]),async load(e,t,n){const r=await Xt(),i=await Qt(e,r);return nt(new It(i),n,e)},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};function Zt(e,t){const n=e.getNumImages(),r=e.getNumLevels(0);if(!e.startTranscoding())throw new Error("startTranscoding failed");const i=[];for(let s=0;s<r;++s)for(let r=0;r<n;++r){const n=e.getImageTranscodedSizeInBytes(r,s,t),a=new Uint8Array(n);if(!e.transcodeImage(a,r,s,t,1,0))throw new Error("transcodeImage failed");i.push(a)}return i}const Jt={"bc3-rgba-unorm":3,"bc7-rgba-unorm":6,"etc2-rgba8unorm":1,"astc-4x4-unorm":10,rgba8unorm:13,rgba4unorm:16};function en(e){const t=Jt[e];if(t)return t;throw new Error("Unsupported transcoderFormat: ".concat(e))}var tn=(e=>(e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT",e))(tn||{}),nn=(e=>(e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D",e))(nn||{});function rn(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var sn,an=((sn=an||{})[sn.UNKNOWN=0]="UNKNOWN",sn[sn.R8G8B8=20]="R8G8B8",sn[sn.A8R8G8B8=21]="A8R8G8B8",sn[sn.X8R8G8B8=22]="X8R8G8B8",sn[sn.R5G6B5=23]="R5G6B5",sn[sn.X1R5G5B5=24]="X1R5G5B5",sn[sn.A1R5G5B5=25]="A1R5G5B5",sn[sn.A4R4G4B4=26]="A4R4G4B4",sn[sn.R3G3B2=27]="R3G3B2",sn[sn.A8=28]="A8",sn[sn.A8R3G3B2=29]="A8R3G3B2",sn[sn.X4R4G4B4=30]="X4R4G4B4",sn[sn.A2B10G10R10=31]="A2B10G10R10",sn[sn.A8B8G8R8=32]="A8B8G8R8",sn[sn.X8B8G8R8=33]="X8B8G8R8",sn[sn.G16R16=34]="G16R16",sn[sn.A2R10G10B10=35]="A2R10G10B10",sn[sn.A16B16G16R16=36]="A16B16G16R16",sn[sn.A8P8=40]="A8P8",sn[sn.P8=41]="P8",sn[sn.L8=50]="L8",sn[sn.A8L8=51]="A8L8",sn[sn.A4L4=52]="A4L4",sn[sn.V8U8=60]="V8U8",sn[sn.L6V5U5=61]="L6V5U5",sn[sn.X8L8V8U8=62]="X8L8V8U8",sn[sn.Q8W8V8U8=63]="Q8W8V8U8",sn[sn.V16U16=64]="V16U16",sn[sn.A2W10V10U10=67]="A2W10V10U10",sn[sn.Q16W16V16U16=110]="Q16W16V16U16",sn[sn.R16F=111]="R16F",sn[sn.G16R16F=112]="G16R16F",sn[sn.A16B16G16R16F=113]="A16B16G16R16F",sn[sn.R32F=114]="R32F",sn[sn.G32R32F=115]="G32R32F",sn[sn.A32B32G32R32F=116]="A32B32G32R32F",sn[sn.UYVY=rn("UYVY")]="UYVY",sn[sn.R8G8_B8G8=rn("RGBG")]="R8G8_B8G8",sn[sn.YUY2=rn("YUY2")]="YUY2",sn[sn.D3DFMT_G8R8_G8B8=rn("GRGB")]="D3DFMT_G8R8_G8B8",sn[sn.DXT1=rn("DXT1")]="DXT1",sn[sn.DXT2=rn("DXT2")]="DXT2",sn[sn.DXT3=rn("DXT3")]="DXT3",sn[sn.DXT4=rn("DXT4")]="DXT4",sn[sn.DXT5=rn("DXT5")]="DXT5",sn[sn.ATI1=rn("ATI1")]="ATI1",sn[sn.AT1N=rn("AT1N")]="AT1N",sn[sn.ATI2=rn("ATI2")]="ATI2",sn[sn.AT2N=rn("AT2N")]="AT2N",sn[sn.BC4U=rn("BC4U")]="BC4U",sn[sn.BC4S=rn("BC4S")]="BC4S",sn[sn.BC5U=rn("BC5U")]="BC5U",sn[sn.BC5S=rn("BC5S")]="BC5S",sn[sn.DX10=rn("DX10")]="DX10",sn);const on={[an.DXT1]:"bc1-rgba-unorm",[an.DXT2]:"bc2-rgba-unorm",[an.DXT3]:"bc2-rgba-unorm",[an.DXT4]:"bc3-rgba-unorm",[an.DXT5]:"bc3-rgba-unorm",[an.ATI1]:"bc4-r-unorm",[an.BC4U]:"bc4-r-unorm",[an.BC4S]:"bc4-r-snorm",[an.ATI2]:"bc5-rg-unorm",[an.BC5U]:"bc5-rg-unorm",[an.BC5S]:"bc5-rg-snorm",36:"rgba16uint",110:"rgba16sint",111:"r16float",112:"rg16float",113:"rgba16float",114:"r32float",115:"rg32float",116:"rgba32float"},ln={70:"bc1-rgba-unorm",71:"bc1-rgba-unorm",72:"bc1-rgba-unorm-srgb",73:"bc2-rgba-unorm",74:"bc2-rgba-unorm",75:"bc2-rgba-unorm-srgb",76:"bc3-rgba-unorm",77:"bc3-rgba-unorm",78:"bc3-rgba-unorm-srgb",79:"bc4-r-unorm",80:"bc4-r-unorm",81:"bc4-r-snorm",82:"bc5-rg-unorm",83:"bc5-rg-unorm",84:"bc5-rg-snorm",94:"bc6h-rgb-ufloat",95:"bc6h-rgb-ufloat",96:"bc6h-rgb-float",97:"bc7-rgba-unorm",98:"bc7-rgba-unorm",99:"bc7-rgba-unorm-srgb",28:"rgba8unorm",29:"rgba8unorm-srgb",87:"bgra8unorm",91:"bgra8unorm-srgb",41:"r32float",49:"rg8unorm",56:"r16uint",61:"r8unorm",24:"rgb10a2unorm",11:"rgba16uint",13:"rgba16sint",10:"rgba16float",54:"r16float",34:"rg16float",16:"rg32float",2:"rgba32float"},cn={MAGIC_VALUE:542327876,MAGIC_SIZE:4,HEADER_SIZE:124,HEADER_DX10_SIZE:20,PIXEL_FORMAT_FLAGS:{ALPHAPIXELS:1,ALPHA:2,FOURCC:4,RGB:64,RGBA:65,YUV:512,LUMINANCE:131072,LUMINANCEA:131073},RESOURCE_MISC_TEXTURECUBE:4,HEADER_FIELDS:{MAGIC:0,SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19,PF_FLAGS:20,FOURCC:21,RGB_BITCOUNT:22,R_BIT_MASK:23,G_BIT_MASK:24,B_BIT_MASK:25,A_BIT_MASK:26},HEADER_DX10_FIELDS:{DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},DXGI_FORMAT:tn,D3D10_RESOURCE_DIMENSION:nn,D3DFMT:an},un={"bc1-rgba-unorm":8,"bc1-rgba-unorm-srgb":8,"bc2-rgba-unorm":16,"bc2-rgba-unorm-srgb":16,"bc3-rgba-unorm":16,"bc3-rgba-unorm-srgb":16,"bc4-r-unorm":8,"bc4-r-snorm":8,"bc5-rg-unorm":16,"bc5-rg-snorm":16,"bc6h-rgb-ufloat":16,"bc6h-rgb-float":16,"bc7-rgba-unorm":16,"bc7-rgba-unorm-srgb":16};function dn(e,t){const{format:n,fourCC:r,width:i,height:s,dataOffset:a,mipmapCount:o}=function(e){const t=new Uint32Array(e,0,cn.HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT);if(t[cn.HEADER_FIELDS.MAGIC]!==cn.MAGIC_VALUE)throw new Error("Invalid magic number in DDS header");const n=t[cn.HEADER_FIELDS.HEIGHT],r=t[cn.HEADER_FIELDS.WIDTH],i=Math.max(1,t[cn.HEADER_FIELDS.MIPMAP_COUNT]),s=t[cn.HEADER_FIELDS.PF_FLAGS],a=t[cn.HEADER_FIELDS.FOURCC],o=function(e,t,n,r){if(t&cn.PIXEL_FORMAT_FLAGS.FOURCC){if(n===cn.D3DFMT.DX10){const e=new Uint32Array(r,cn.MAGIC_SIZE+cn.HEADER_SIZE,cn.HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT);if(e[cn.HEADER_DX10_FIELDS.MISC_FLAG]===cn.RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSParser does not support cubemap textures");if(e[cn.HEADER_DX10_FIELDS.RESOURCE_DIMENSION]===cn.D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");const t=e[cn.HEADER_DX10_FIELDS.DXGI_FORMAT];if(t in ln)return ln[t];throw new Error("DDSParser cannot parse texture data with DXGI format ".concat(t))}if(n in on)return on[n];throw new Error("DDSParser cannot parse texture data with fourCC format ".concat(n))}if(t&cn.PIXEL_FORMAT_FLAGS.RGB||t&cn.PIXEL_FORMAT_FLAGS.RGBA)return function(e){const t=e[cn.HEADER_FIELDS.RGB_BITCOUNT],n=e[cn.HEADER_FIELDS.R_BIT_MASK],r=e[cn.HEADER_FIELDS.G_BIT_MASK],i=e[cn.HEADER_FIELDS.B_BIT_MASK],s=e[cn.HEADER_FIELDS.A_BIT_MASK];switch(t){case 32:if(255===n&&65280===r&&16711680===i&&4278190080===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_R8G8B8A8_UNORM];if(16711680===n&&65280===r&&255===i&&4278190080===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_B8G8R8A8_UNORM];if(1072693248===n&&1047552===r&&1023===i&&3221225472===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_R10G10B10A2_UNORM];if(65535===n&&4294901760===r&&0===i&&0===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_R16G16_UNORM];if(4294967295===n&&0===r&&0===i&&0===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_R32_FLOAT];break;case 24:break;case 16:if(31744===n&&992===r&&31===i&&32768===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_B5G5R5A1_UNORM];if(63488===n&&2016===r&&31===i&&0===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_B5G6R5_UNORM];if(3840===n&&240===r&&15===i&&61440===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_B4G4R4A4_UNORM];if(255===n&&0===r&&0===i&&65280===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_R8G8_UNORM];if(65535===n&&0===r&&0===i&&0===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_R16_UNORM];break;case 8:if(255===n&&0===r&&0===i&&0===s)return ln[cn.DXGI_FORMAT.DXGI_FORMAT_R8_UNORM]}throw new Error("DDSParser does not support uncompressed texture with configuration:\n                bitCount = ".concat(t,", rBitMask = ").concat(n,", gBitMask = ").concat(r,", aBitMask = ").concat(s))}(e);if(t&cn.PIXEL_FORMAT_FLAGS.YUV)throw new Error("DDSParser does not supported YUV uncompressed texture data.");if(t&cn.PIXEL_FORMAT_FLAGS.LUMINANCE||t&cn.PIXEL_FORMAT_FLAGS.LUMINANCEA)throw new Error("DDSParser does not support single-channel (lumninance) texture data!");if(t&cn.PIXEL_FORMAT_FLAGS.ALPHA||t&cn.PIXEL_FORMAT_FLAGS.ALPHAPIXELS)throw new Error("DDSParser does not support single-channel (alpha) texture data!");throw new Error("DDSParser failed to load a texture file due to an unknown reason!")}(t,s,a,e),l=cn.MAGIC_SIZE+cn.HEADER_SIZE+(a===cn.D3DFMT.DX10?cn.HEADER_DX10_SIZE:0);return{format:o,fourCC:a,width:r,height:n,dataOffset:l,mipmapCount:i}}(e);if(!t.includes(n))throw new Error("Unsupported texture format: ".concat(r," ").concat(n,", supported: ").concat(t));if(o<=1)return{format:n,width:i,height:s,resource:[new Uint8Array(e,a)],alphaMode:"no-premultiply-alpha"};const l=function(e,t,n,r,i,s){const a=[],o=un[e];let l=t,c=n,u=r;for(let d=0;d<i;++d){const e=4*Math.ceil(Math.max(4,l)/4),t=4*Math.ceil(Math.max(4,c)/4),n=o?e/4*t/4*o:l*c*4,r=new Uint8Array(s,u,n);a.push(r),u+=n,l=Math.max(l>>1,1),c=Math.max(c>>1,1)}return a}(n,i,s,a,o,e);return{format:n,width:i,height:s,resource:l,alphaMode:"no-premultiply-alpha"}}const hn={extension:{type:u.Ag.LoadParser,priority:ce.T.High,name:"loadDDS"},name:"loadDDS",id:"dds",test:e=>je(e,[".dds"]),async load(e,t,n){const r=await Xt(),i=await fetch(e),s=dn(await i.arrayBuffer(),r);return nt(new It(s),n,e)},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};var pn=(e=>(e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGBA=6408]="RGBA",e[e.RGBA8UI=36220]="RGBA8UI",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.RGBA8I=36238]="RGBA8I",e[e.RGBA8=32856]="RGBA8",e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",e[e.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",e[e.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",e[e.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e[e.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",e[e.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",e[e.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",e[e.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",e[e.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",e[e.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",e[e.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",e[e.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",e[e.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",e[e.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",e[e.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",e[e.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",e[e.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",e[e.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",e[e.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",e[e.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",e[e.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",e[e.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",e))(pn||{});const fn={FILE_HEADER_SIZE:64,FILE_IDENTIFIER:[171,75,84,88,32,49,49,187,13,10,26,10],FORMATS_TO_COMPONENTS:{6408:4,6407:3,33319:2,6403:1,6409:1,6410:2,6406:1},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:{33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,36283:.5,36284:.5,36285:1,36286:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,37808:1,37840:1,37809:.8,37841:.8,37810:.64,37842:.64,37811:.53375,37843:.53375,37812:.445,37844:.445,37813:.4,37845:.4,37814:.33375,37846:.33375,37815:.25,37847:.25,37816:.32,37848:.32,37817:.26625,37849:.26625,37818:.2,37850:.2,37819:.16,37851:.16,37820:.13375,37852:.13375,37821:.11125,37853:.11125,36492:1,36493:1,36494:1,36495:1},INTERNAL_FORMAT_TO_TEXTURE_FORMATS:{33776:"bc1-rgba-unorm",33777:"bc1-rgba-unorm",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",35916:"bc1-rgba-unorm-srgb",35917:"bc1-rgba-unorm-srgb",35918:"bc2-rgba-unorm-srgb",35919:"bc3-rgba-unorm-srgb",36283:"bc4-r-unorm",36284:"bc4-r-snorm",36285:"bc5-rg-unorm",36286:"bc5-rg-snorm",37488:"eac-r11unorm",37490:"eac-rg11snorm",37492:"etc2-rgb8unorm",37496:"etc2-rgba8unorm",37493:"etc2-rgb8unorm-srgb",37497:"etc2-rgba8unorm-srgb",37494:"etc2-rgb8a1unorm",37495:"etc2-rgb8a1unorm-srgb",37808:"astc-4x4-unorm",37840:"astc-4x4-unorm-srgb",37809:"astc-5x4-unorm",37841:"astc-5x4-unorm-srgb",37810:"astc-5x5-unorm",37842:"astc-5x5-unorm-srgb",37811:"astc-6x5-unorm",37843:"astc-6x5-unorm-srgb",37812:"astc-6x6-unorm",37844:"astc-6x6-unorm-srgb",37813:"astc-8x5-unorm",37845:"astc-8x5-unorm-srgb",37814:"astc-8x6-unorm",37846:"astc-8x6-unorm-srgb",37815:"astc-8x8-unorm",37847:"astc-8x8-unorm-srgb",37816:"astc-10x5-unorm",37848:"astc-10x5-unorm-srgb",37817:"astc-10x6-unorm",37849:"astc-10x6-unorm-srgb",37818:"astc-10x8-unorm",37850:"astc-10x8-unorm-srgb",37819:"astc-10x10-unorm",37851:"astc-10x10-unorm-srgb",37820:"astc-12x10-unorm",37852:"astc-12x10-unorm-srgb",37821:"astc-12x12-unorm",37853:"astc-12x12-unorm-srgb",36492:"bc7-rgba-unorm",36493:"bc7-rgba-unorm-srgb",36494:"bc6h-rgb-float",36495:"bc6h-rgb-ufloat",35907:"rgba8unorm-srgb",36759:"rgba8snorm",36220:"rgba8uint",36238:"rgba8sint",6408:"rgba8unorm"},FIELDS:{FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},TYPES_TO_BYTES_PER_COMPONENT:{5121:1,5123:2,5124:4,5125:4,5126:4,36193:8},TYPES_TO_BYTES_PER_PIXEL:{32819:2,32820:2,33635:2},ENDIANNESS:67305985};function mn(e,t){const n=new DataView(e);if(!function(e){for(let t=0;t<fn.FILE_IDENTIFIER.length;t++)if(e.getUint8(t)!==fn.FILE_IDENTIFIER[t])return!1;return!0}(n))throw new Error("Invalid KTX identifier in header");const{littleEndian:r,glType:i,glFormat:s,glInternalFormat:a,pixelWidth:o,pixelHeight:l,numberOfMipmapLevels:c,offset:u}=function(e){const t=e.getUint32(fn.FIELDS.ENDIANNESS,!0)===fn.ENDIANNESS,n=e.getUint32(fn.FIELDS.GL_TYPE,t),r=e.getUint32(fn.FIELDS.GL_FORMAT,t),i=e.getUint32(fn.FIELDS.GL_INTERNAL_FORMAT,t),s=e.getUint32(fn.FIELDS.PIXEL_WIDTH,t),a=e.getUint32(fn.FIELDS.PIXEL_HEIGHT,t)||1,o=e.getUint32(fn.FIELDS.PIXEL_DEPTH,t)||1,l=e.getUint32(fn.FIELDS.NUMBER_OF_ARRAY_ELEMENTS,t)||1,c=e.getUint32(fn.FIELDS.NUMBER_OF_FACES,t),u=e.getUint32(fn.FIELDS.NUMBER_OF_MIPMAP_LEVELS,t),d=e.getUint32(fn.FIELDS.BYTES_OF_KEY_VALUE_DATA,t);if(0===a||1!==o)throw new Error("Only 2D textures are supported");if(1!==c)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==l)throw new Error("WebGL does not support array textures");return{littleEndian:t,glType:n,glFormat:r,glInternalFormat:i,pixelWidth:s,pixelHeight:a,numberOfMipmapLevels:u,offset:fn.FILE_HEADER_SIZE+d}}(n),d=fn.INTERNAL_FORMAT_TO_TEXTURE_FORMATS[a];if(!d)throw new Error("Unknown texture format ".concat(a));if(!t.includes(d))throw new Error("Unsupported texture format: ".concat(d,", supportedFormats: ").concat(t));const h=function(e,t,n){let r=fn.INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[n];0!==e&&(r=fn.TYPES_TO_BYTES_PER_COMPONENT[e]?fn.TYPES_TO_BYTES_PER_COMPONENT[e]*fn.FORMATS_TO_COMPONENTS[t]:fn.TYPES_TO_BYTES_PER_PIXEL[e]);if(void 0===r)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");return r}(i,s,a),p=function(e,t,n,r,i,s,a,o){const l=r+3&-4,c=i+3&-4;let u=r*i;0===t&&(u=l*c);let d=u*n,h=r,p=i,f=l,m=c,g=s;const v=new Array(a);for(let b=0;b<a;b++){const t=e.getUint32(g,o);let r=g+4;v[b]=new Uint8Array(e.buffer,r,d),r+=d,g+=t+4,g=g%4!==0?g+4-g%4:g,h=h>>1||1,p=p>>1||1,f=h+4-1&-4,m=p+4-1&-4,d=f*m*n}return v}(n,i,h,o,l,u,c,r);return{format:d,width:o,height:l,resource:p,alphaMode:"no-premultiply-alpha"}}const gn={extension:{type:u.Ag.LoadParser,priority:ce.T.High,name:"loadKTX"},name:"loadKTX",id:"ktx",test:e=>je(e,".ktx"),async load(e,t,n){const r=await Xt(),i=await fetch(e),s=mn(await i.arrayBuffer(),r);return nt(new It(s),n,e)},unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}};let vn=null;class bn{constructor(){vn||(vn=URL.createObjectURL(new Blob(['(function () {\n    \'use strict\';\n\n    const converters = {\n      rgb8unorm: {\n        convertedFormat: "rgba8unorm",\n        convertFunction: convertRGBtoRGBA\n      },\n      "rgb8unorm-srgb": {\n        convertedFormat: "rgba8unorm-srgb",\n        convertFunction: convertRGBtoRGBA\n      }\n    };\n    function convertFormatIfRequired(textureOptions) {\n      const format = textureOptions.format;\n      if (converters[format]) {\n        const convertFunction = converters[format].convertFunction;\n        const levelBuffers = textureOptions.resource;\n        for (let i = 0; i < levelBuffers.length; i++) {\n          levelBuffers[i] = convertFunction(levelBuffers[i]);\n        }\n        textureOptions.format = converters[format].convertedFormat;\n      }\n    }\n    function convertRGBtoRGBA(levelBuffer) {\n      const pixelCount = levelBuffer.byteLength / 3;\n      const levelBufferWithAlpha = new Uint32Array(pixelCount);\n      for (let i = 0; i < pixelCount; ++i) {\n        levelBufferWithAlpha[i] = levelBuffer[i * 3] + (levelBuffer[i * 3 + 1] << 8) + (levelBuffer[i * 3 + 2] << 16) + 4278190080;\n      }\n      return new Uint8Array(levelBufferWithAlpha.buffer);\n    }\n\n    function createLevelBuffersFromKTX(ktxTexture) {\n      const levelBuffers = [];\n      for (let i = 0; i < ktxTexture.numLevels; i++) {\n        const imageData = ktxTexture.getImageData(i, 0, 0);\n        const levelBuffer = new Uint8Array(imageData.byteLength);\n        levelBuffer.set(imageData);\n        levelBuffers.push(levelBuffer);\n      }\n      return levelBuffers;\n    }\n\n    const glFormatToGPUFormatMap = {\n      6408: "rgba8unorm",\n      32856: "bgra8unorm",\n      //\n      32857: "rgb10a2unorm",\n      33189: "depth16unorm",\n      33190: "depth24plus",\n      33321: "r8unorm",\n      33323: "rg8unorm",\n      33325: "r16float",\n      33326: "r32float",\n      33327: "rg16float",\n      33328: "rg32float",\n      33329: "r8sint",\n      33330: "r8uint",\n      33331: "r16sint",\n      33332: "r16uint",\n      33333: "r32sint",\n      33334: "r32uint",\n      33335: "rg8sint",\n      33336: "rg8uint",\n      33337: "rg16sint",\n      33338: "rg16uint",\n      33339: "rg32sint",\n      33340: "rg32uint",\n      33778: "bc2-rgba-unorm",\n      33779: "bc3-rgba-unorm",\n      34836: "rgba32float",\n      34842: "rgba16float",\n      35056: "depth24plus-stencil8",\n      35898: "rg11b10ufloat",\n      35901: "rgb9e5ufloat",\n      35907: "rgba8unorm-srgb",\n      // bgra8unorm-srgb\n      36012: "depth32float",\n      36013: "depth32float-stencil8",\n      36168: "stencil8",\n      36208: "rgba32uint",\n      36214: "rgba16uint",\n      36220: "rgba8uint",\n      36226: "rgba32sint",\n      36232: "rgba16sint",\n      36238: "rgba8sint",\n      36492: "bc7-rgba-unorm",\n      36756: "r8snorm",\n      36757: "rg8snorm",\n      36759: "rgba8snorm",\n      37496: "etc2-rgba8unorm",\n      37808: "astc-4x4-unorm"\n    };\n    function glFormatToGPUFormat(glInternalFormat) {\n      const format = glFormatToGPUFormatMap[glInternalFormat];\n      if (format) {\n        return format;\n      }\n      throw new Error(`Unsupported glInternalFormat: ${glInternalFormat}`);\n    }\n\n    const vkFormatToGPUFormatMap = {\n      23: "rgb8unorm",\n      // VK_FORMAT_R8G8B8_UNORM\n      37: "rgba8unorm",\n      // VK_FORMAT_R8G8B8A8_UNORM\n      43: "rgba8unorm-srgb"\n      // VK_FORMAT_R8G8B8A8_SRGB\n      // TODO add more!\n    };\n    function vkFormatToGPUFormat(vkFormat) {\n      const format = vkFormatToGPUFormatMap[vkFormat];\n      if (format) {\n        return format;\n      }\n      throw new Error(`Unsupported VkFormat: ${vkFormat}`);\n    }\n\n    function getTextureFormatFromKTXTexture(ktxTexture) {\n      if (ktxTexture.classId === 2) {\n        return vkFormatToGPUFormat(ktxTexture.vkFormat);\n      }\n      return glFormatToGPUFormat(ktxTexture.glInternalformat);\n    }\n\n    const gpuFormatToBasisTranscoderFormatMap = {\n      "bc3-rgba-unorm": "BC3_RGBA",\n      "bc7-rgba-unorm": "BC7_M5_RGBA",\n      "etc2-rgba8unorm": "ETC2_RGBA",\n      "astc-4x4-unorm": "ASTC_4x4_RGBA",\n      // Uncompressed\n      rgba8unorm: "RGBA32",\n      rg11b10ufloat: "R11F_G11F_B10F"\n    };\n    function gpuFormatToKTXBasisTranscoderFormat(transcoderFormat) {\n      const format = gpuFormatToBasisTranscoderFormatMap[transcoderFormat];\n      if (format) {\n        return format;\n      }\n      throw new Error(`Unsupported transcoderFormat: ${transcoderFormat}`);\n    }\n\n    const settings = {\n      jsUrl: "",\n      wasmUrl: ""\n    };\n    let basisTranscoderFormat;\n    let basisTranscodedTextureFormat;\n    let ktxPromise;\n    async function getKTX() {\n      if (!ktxPromise) {\n        const absoluteJsUrl = new URL(settings.jsUrl, location.origin).href;\n        const absoluteWasmUrl = new URL(settings.wasmUrl, location.origin).href;\n        importScripts(absoluteJsUrl);\n        ktxPromise = new Promise((resolve) => {\n          LIBKTX({\n            locateFile: (_file) => absoluteWasmUrl\n          }).then((libktx) => {\n            resolve(libktx);\n          });\n        });\n      }\n      return ktxPromise;\n    }\n    async function fetchKTXTexture(url, ktx) {\n      const ktx2Response = await fetch(url);\n      if (ktx2Response.ok) {\n        const ktx2ArrayBuffer = await ktx2Response.arrayBuffer();\n        return new ktx.ktxTexture(new Uint8Array(ktx2ArrayBuffer));\n      }\n      throw new Error(`Failed to load KTX(2) texture: ${url}`);\n    }\n    const preferredTranscodedFormat = [\n      "bc7-rgba-unorm",\n      "astc-4x4-unorm",\n      "etc2-rgba8unorm",\n      "bc3-rgba-unorm",\n      "rgba8unorm"\n    ];\n    async function load(url) {\n      const ktx = await getKTX();\n      const ktxTexture = await fetchKTXTexture(url, ktx);\n      let format;\n      if (ktxTexture.needsTranscoding) {\n        format = basisTranscodedTextureFormat;\n        const transcodeFormat = ktx.TranscodeTarget[basisTranscoderFormat];\n        const result = ktxTexture.transcodeBasis(transcodeFormat, 0);\n        if (result !== ktx.ErrorCode.SUCCESS) {\n          throw new Error("Unable to transcode basis texture.");\n        }\n      } else {\n        format = getTextureFormatFromKTXTexture(ktxTexture);\n      }\n      const levelBuffers = createLevelBuffersFromKTX(ktxTexture);\n      const textureOptions = {\n        width: ktxTexture.baseWidth,\n        height: ktxTexture.baseHeight,\n        format,\n        mipLevelCount: ktxTexture.numLevels,\n        resource: levelBuffers,\n        alphaMode: "no-premultiply-alpha"\n      };\n      convertFormatIfRequired(textureOptions);\n      return textureOptions;\n    }\n    async function init(jsUrl, wasmUrl, supportedTextures) {\n      if (jsUrl)\n        settings.jsUrl = jsUrl;\n      if (wasmUrl)\n        settings.wasmUrl = wasmUrl;\n      basisTranscodedTextureFormat = preferredTranscodedFormat.filter((format) => supportedTextures.includes(format))[0];\n      basisTranscoderFormat = gpuFormatToKTXBasisTranscoderFormat(basisTranscodedTextureFormat);\n      await getKTX();\n    }\n    const messageHandlers = {\n      init: async (data) => {\n        const { jsUrl, wasmUrl, supportedTextures } = data;\n        await init(jsUrl, wasmUrl, supportedTextures);\n      },\n      load: async (data) => {\n        try {\n          const textureOptions = await load(data.url);\n          return {\n            type: "load",\n            url: data.url,\n            success: true,\n            textureOptions,\n            transferables: textureOptions.resource?.map((arr) => arr.buffer)\n          };\n        } catch (e) {\n          throw e;\n        }\n      }\n    };\n    self.onmessage = async (messageEvent) => {\n      const message = messageEvent.data;\n      const response = await messageHandlers[message.type]?.(message);\n      if (response) {\n        self.postMessage(response, response.transferables);\n      }\n    };\n\n})();\n'],{type:"application/javascript"}))),this.worker=new Worker(vn)}}bn.revokeObjectURL=function(){vn&&(URL.revokeObjectURL(vn),vn=null)};const _n={jsUrl:"https://files.pixijs.download/transcoders/ktx/libktx.js",wasmUrl:"https://files.pixijs.download/transcoders/ktx/libktx.wasm"};function xn(e){Object.assign(_n,e)}let yn;const Sn={};function Tn(e,t){const n=function(e){return yn||(yn=(new bn).worker,yn.onmessage=e=>{const{success:t,url:n,textureOptions:r}=e.data;t||console.warn("Failed to load KTX texture",n),Sn[n](r)},yn.postMessage({type:"init",jsUrl:_n.jsUrl,wasmUrl:_n.wasmUrl,supportedTextures:e})),yn}(t);return new Promise(t=>{Sn[e]=t,n.postMessage({type:"load",url:e})})}const wn={extension:{type:u.Ag.LoadParser,priority:ce.T.High,name:"loadKTX2"},name:"loadKTX2",id:"ktx2",test:e=>je(e,".ktx2"),async load(e,t,n){const r=await Xt(),i=await Tn(e,r);return nt(new It(i),n,e)},async unload(e){Array.isArray(e)?e.forEach(e=>e.destroy(!0)):e.destroy(!0)}},An={rgb8unorm:{convertedFormat:"rgba8unorm",convertFunction:Cn},"rgb8unorm-srgb":{convertedFormat:"rgba8unorm-srgb",convertFunction:Cn}};function En(e){const t=e.format;if(An[t]){const n=An[t].convertFunction,r=e.resource;for(let e=0;e<r.length;e++)r[e]=n(r[e]);e.format=An[t].convertedFormat}}function Cn(e){const t=e.byteLength/3,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=e[3*r]+(e[3*r+1]<<8)+(e[3*r+2]<<16)+4278190080;return new Uint8Array(n.buffer)}function Rn(e){const t=[];for(let n=0;n<e.numLevels;n++){const r=e.getImageData(n,0,0),i=new Uint8Array(r.byteLength);i.set(r),t.push(i)}return t}const Mn={6408:"rgba8unorm",32856:"bgra8unorm",32857:"rgb10a2unorm",33189:"depth16unorm",33190:"depth24plus",33321:"r8unorm",33323:"rg8unorm",33325:"r16float",33326:"r32float",33327:"rg16float",33328:"rg32float",33329:"r8sint",33330:"r8uint",33331:"r16sint",33332:"r16uint",33333:"r32sint",33334:"r32uint",33335:"rg8sint",33336:"rg8uint",33337:"rg16sint",33338:"rg16uint",33339:"rg32sint",33340:"rg32uint",33778:"bc2-rgba-unorm",33779:"bc3-rgba-unorm",34836:"rgba32float",34842:"rgba16float",35056:"depth24plus-stencil8",35898:"rg11b10ufloat",35901:"rgb9e5ufloat",35907:"rgba8unorm-srgb",36012:"depth32float",36013:"depth32float-stencil8",36168:"stencil8",36208:"rgba32uint",36214:"rgba16uint",36220:"rgba8uint",36226:"rgba32sint",36232:"rgba16sint",36238:"rgba8sint",36492:"bc7-rgba-unorm",36756:"r8snorm",36757:"rg8snorm",36759:"rgba8snorm",37496:"etc2-rgba8unorm",37808:"astc-4x4-unorm"};function Pn(e){const t=Mn[e];if(t)return t;throw new Error("Unsupported glInternalFormat: ".concat(e))}const kn={23:"rgb8unorm",37:"rgba8unorm",43:"rgba8unorm-srgb"};function Bn(e){const t=kn[e];if(t)return t;throw new Error("Unsupported VkFormat: ".concat(e))}function On(e){return 2===e.classId?Bn(e.vkFormat):Pn(e.glInternalformat)}const In={"bc3-rgba-unorm":"BC3_RGBA","bc7-rgba-unorm":"BC7_M5_RGBA","etc2-rgba8unorm":"ETC2_RGBA","astc-4x4-unorm":"ASTC_4x4_RGBA",rgba8unorm:"RGBA32",rg11b10ufloat:"R11F_G11F_B10F"};function Fn(e){const t=In[e];if(t)return t;throw new Error("Unsupported transcoderFormat: ".concat(e))}const Gn=["basis","bc7","bc6h","astc","etc2","bc5","bc4","bc3","bc2","bc1","eac"],Nn={extension:u.Ag.ResolveParser,test:e=>je(e,[".ktx",".ktx2",".dds"]),parse:e=>{var t,n;let r;const i=e.split(".");if(i.length>2){const e=i[i.length-2];Gn.includes(e)&&(r=e)}else r=i[i.length-1];return{resolution:parseFloat(null!==(t=null===(n=et.x.RETINA_PREFIX.exec(e))||void 0===n?void 0:n[1])&&void 0!==t?t:"1"),format:r,src:e}}};let Dn;const Un={extension:{type:u.Ag.DetectionParser,priority:2},test:async()=>!!await J()||!!Z(),add:async e=>{const t=await Lt();return Dn=function(e){const t=["basis"],n={};return e.forEach(e=>{const r=e.split("-")[0];r&&!n[r]&&(n[r]=!0,t.push(r))}),t.sort((e,t)=>{const n=Gn.indexOf(e),r=Gn.indexOf(t);return-1===n?1:-1===r?-1:n-r}),t}(t),[...Dn,...e]},remove:async e=>Dn?e.filter(e=>!(e in Dn)):e};var Ln=n(6373),jn=n(5076);const zn=new Ln.c,Xn=class{cull(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._cullRecursive(e,t,n)}_cullRecursive(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.cullable&&e.measurable&&e.includeInBuild){var r;const i=null!==(r=e.cullArea)&&void 0!==r?r:(0,jn.f)(e,n,zn);e.culled=i.x>=t.x+t.width||i.y>=t.y+t.height||i.x+i.width<=t.x||i.y+i.height<=t.y}else e.culled=!1;if(e.cullableChildren&&!e.culled&&e.renderable&&e.measurable&&e.includeInBuild)for(let i=0;i<e.children.length;i++)this._cullRecursive(e.children[i],t,n)}};Xn.shared=new Xn;let Hn=Xn;class Vn{static init(e){this._renderRef=this.render.bind(this),this.render=()=>{var t;const n=!0!==(null===e||void 0===e||null===(t=e.culler)||void 0===t?void 0:t.updateTransform);Hn.shared.cull(this.stage,this.renderer.screen,n),this.renderer.render({container:this.stage})}}static destroy(){this.render=this._renderRef}}Vn.extension={priority:10,type:u.Ag.Application,name:"culler"};var Wn=n(3375),Yn=n(4586),qn=n(1960),Kn=n(8674);const Qn=["element","anchor"];class $n extends Kn.l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{element:t,anchor:n}=e,r=(0,i.A)(e,Qn);super((0,a.A)({label:"DOMContainer"},r)),this.renderPipeId="dom",this.batched=!1,this._anchor=new qn.b(0,0),n&&(this.anchor=n),this.element=e.element||document.createElement("div")}get anchor(){return this._anchor}set anchor(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}set element(e){this._element!==e&&(this._element=e,this.onViewUpdate())}get element(){return this._element}updateBounds(){const e=this._bounds,t=this._element;if(!t)return e.minX=0,e.minY=0,e.maxX=0,void(e.maxY=0);const{offsetWidth:n,offsetHeight:r}=t;e.minX=0,e.maxX=n,e.minY=0,e.maxY=r}destroy(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super.destroy(t),null===(e=this._element)||void 0===e||null===(e=e.parentNode)||void 0===e||e.removeChild(this._element),this._element=null,this._anchor=null}}var Zn=n(9236),Jn=n(9068),er=n(1365),tr=n(6899);const nr={createCanvas:(e,t)=>new OffscreenCanvas(null!==e&&void 0!==e?e:0,null!==t&&void 0!==t?t:0),createImage:()=>new Image,getCanvasRenderingContext2D:()=>OffscreenCanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>globalThis.location.href,getFontFaceSet:()=>globalThis.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>(new tr.DOMParser).parseFromString(e,"text/xml")};var rr=n(8955),ir=n(4314),sr=n(2399),ar=n(8671),or=n(8052),lr=n(2158),cr=n(680),ur=n(1366),dr="fn getLuminosity(c: vec3<f32>) -> f32 {\n  return 0.3 * c.r + 0.59 * c.g + 0.11 * c.b;\n}\n\nfn setLuminosity(c: vec3<f32>, lum: f32) -> vec3<f32> {\n  let d: f32 = lum - getLuminosity(c);\n  let newColor: vec3<f32> = c.rgb + vec3<f32>(d, d, d);\n\n  // clip back into legal range\n  let newLum: f32 = getLuminosity(newColor);\n  let cMin: f32 = min(newColor.r, min(newColor.g, newColor.b));\n  let cMax: f32 = max(newColor.r, max(newColor.g, newColor.b));\n\n  let t1: f32 = newLum / (newLum - cMin);\n  let t2: f32 = (1.0 - newLum) / (cMax - newLum);\n\n  let finalColor = mix(vec3<f32>(newLum, newLum, newLum), newColor, select(select(1.0, t2, cMax > 1.0), t1, cMin < 0.0));\n\n  return finalColor;\n}\n\nfn getSaturation(c: vec3<f32>) -> f32 {\n  return max(c.r, max(c.g, c.b)) - min(c.r, min(c.g, c.b));\n}\n\n// Set saturation if color components are sorted in ascending order.\nfn setSaturationMinMidMax(cSorted: vec3<f32>, s: f32) -> vec3<f32> {\n  var result: vec3<f32>;\n  if (cSorted.z > cSorted.x) {\n    let newY = (((cSorted.y - cSorted.x) * s) / (cSorted.z - cSorted.x));\n    result = vec3<f32>(0.0, newY, s);\n  } else {\n    result = vec3<f32>(0.0, 0.0, 0.0);\n  }\n  return vec3<f32>(result.x, result.y, result.z);\n}\n\nfn setSaturation(c: vec3<f32>, s: f32) -> vec3<f32> {\n    var result: vec3<f32> = c;\n\n    if (c.r <= c.g && c.r <= c.b) {\n        if (c.g <= c.b) {\n            result = setSaturationMinMidMax(result, s);\n        } else {\n            var temp: vec3<f32> = vec3<f32>(result.r, result.b, result.g);\n            temp = setSaturationMinMidMax(temp, s);\n            result = vec3<f32>(temp.r, temp.b, temp.g);\n        }\n    } else if (c.g <= c.r && c.g <= c.b) {\n        if (c.r <= c.b) {\n            var temp: vec3<f32> = vec3<f32>(result.g, result.r, result.b);\n            temp = setSaturationMinMidMax(temp, s);\n            result = vec3<f32>(temp.g, temp.r, temp.b);\n        } else {\n            var temp: vec3<f32> = vec3<f32>(result.g, result.b, result.r);\n            temp = setSaturationMinMidMax(temp, s);\n            result = vec3<f32>(temp.g, temp.b, temp.r);\n        }\n    } else {\n        if (c.r <= c.g) {\n            var temp: vec3<f32> = vec3<f32>(result.b, result.r, result.g);\n            temp = setSaturationMinMidMax(temp, s);\n            result = vec3<f32>(temp.b, temp.r, temp.g);\n        } else {\n            var temp: vec3<f32> = vec3<f32>(result.b, result.g, result.r);\n            temp = setSaturationMinMidMax(temp, s);\n            result = vec3<f32>(temp.b, temp.g, temp.r);\n        }\n    }\n\n    return result;\n}",hr="\nin vec2 vTextureCoord;\n\nout vec4 finalColor;\n\nuniform float uAlpha;\nuniform sampler2D uTexture;\n\nvoid main()\n{\n    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;\n}\n",pr="struct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct AlphaUniforms {\n  uAlpha:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>\n  };\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n  \n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>, \n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n \n    var sample = textureSample(uTexture, uSampler, uv);\n    \n    return sample * alphaUniforms.uAlpha;\n}",fr="\n\nstruct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct BlurUniforms {\n  uStrength:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;\n\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    %blur-struct%\n  };\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n\n\n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>, \n) -> VSOutput {\n\n  let filteredCord = filterTextureCoord(aPosition);\n\n  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;\n\n  return VSOutput(\n   filterVertexPosition(aPosition),\n    %blur-vertex-out%\n  );\n}\n\n@fragment\nfn mainFragment(\n  @builtin(position) position: vec4<f32>,\n  %blur-fragment-in%\n) -> @location(0) vec4<f32> {\n\n    var   finalColor = vec4(0.0);\n\n    %blur-sampling%\n\n    return finalColor;\n}",mr="\nin vec2 vTextureCoord;\nin vec4 vColor;\n\nout vec4 finalColor;\n\nuniform float uColorMatrix[20];\nuniform float uAlpha;\n\nuniform sampler2D uTexture;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture(uTexture, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * 0.2);\n    float diff = (randomValue - 0.5) *  0.5;\n\n    if (uAlpha == 0.0) {\n        finalColor = color;\n        return;\n    }\n\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    vec4 result;\n\n    result.r = (uColorMatrix[0] * color.r);\n        result.r += (uColorMatrix[1] * color.g);\n        result.r += (uColorMatrix[2] * color.b);\n        result.r += (uColorMatrix[3] * color.a);\n        result.r += uColorMatrix[4];\n\n    result.g = (uColorMatrix[5] * color.r);\n        result.g += (uColorMatrix[6] * color.g);\n        result.g += (uColorMatrix[7] * color.b);\n        result.g += (uColorMatrix[8] * color.a);\n        result.g += uColorMatrix[9];\n\n    result.b = (uColorMatrix[10] * color.r);\n       result.b += (uColorMatrix[11] * color.g);\n       result.b += (uColorMatrix[12] * color.b);\n       result.b += (uColorMatrix[13] * color.a);\n       result.b += uColorMatrix[14];\n\n    result.a = (uColorMatrix[15] * color.r);\n       result.a += (uColorMatrix[16] * color.g);\n       result.a += (uColorMatrix[17] * color.b);\n       result.a += (uColorMatrix[18] * color.a);\n       result.a += uColorMatrix[19];\n\n    vec3 rgb = mix(color.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    finalColor = vec4(rgb, result.a);\n}\n",gr="struct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct ColorMatrixUniforms {\n  uColorMatrix:array<vec4<f32>, 5>,\n  uAlpha:f32,\n};\n\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n@group(1) @binding(0) var<uniform> colorMatrixUniforms : ColorMatrixUniforms;\n\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n  };\n  \nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>, \n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition),\n  );\n}\n\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n) -> @location(0) vec4<f32> {\n\n\n  var c = textureSample(uTexture, uSampler, uv);\n  \n  if (colorMatrixUniforms.uAlpha == 0.0) {\n    return c;\n  }\n\n \n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.r /= c.a;\n      c.g /= c.a;\n      c.b /= c.a;\n    }\n\n    var cm = colorMatrixUniforms.uColorMatrix;\n\n\n    var result = vec4<f32>(0.);\n\n    result.r = (cm[0][0] * c.r);\n    result.r += (cm[0][1] * c.g);\n    result.r += (cm[0][2] * c.b);\n    result.r += (cm[0][3] * c.a);\n    result.r += cm[1][0];\n\n    result.g = (cm[1][1] * c.r);\n    result.g += (cm[1][2] * c.g);\n    result.g += (cm[1][3] * c.b);\n    result.g += (cm[2][0] * c.a);\n    result.g += cm[2][1];\n\n    result.b = (cm[2][2] * c.r);\n    result.b += (cm[2][3] * c.g);\n    result.b += (cm[3][0] * c.b);\n    result.b += (cm[3][1] * c.a);\n    result.b += cm[3][2];\n\n    result.a = (cm[3][3] * c.r);\n    result.a += (cm[4][0] * c.g);\n    result.a += (cm[4][1] * c.b);\n    result.a += (cm[4][2] * c.a);\n    result.a += cm[4][3];\n\n    var rgb = mix(c.rgb, result.rgb, colorMatrixUniforms.uAlpha);\n\n    rgb.r *= result.a;\n    rgb.g *= result.a;\n    rgb.b *= result.a;\n\n    return vec4(rgb, result.a);\n}",vr="in vec2 aPosition;\nout vec2 vTextureCoord;\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n    \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",br="\nin vec2 vTextureCoord;\nin vec2 vFilterUv;\n\nout vec4 finalColor;\n\nuniform sampler2D uTexture;\nuniform sampler2D uMapTexture;\n\nuniform vec4 uInputClamp;\nuniform highp vec4 uInputSize;\nuniform mat2 uRotation;\nuniform vec2 uScale;\n\nvoid main()\n{\n    vec4 map = texture(uMapTexture, vFilterUv);\n    \n    vec2 offset = uInputSize.zw * (uRotation * (map.xy - 0.5)) * uScale; \n\n    finalColor = texture(uTexture, clamp(vTextureCoord + offset, uInputClamp.xy, uInputClamp.zw));\n}\n",_r="in vec2 aPosition;\nout vec2 vTextureCoord;\nout vec2 vFilterUv;\n\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\n\nuniform mat3 uFilterMatrix;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n    \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvec2 getFilterCoord( void )\n{\n  return ( uFilterMatrix * vec3( filterTextureCoord(), 1.0)  ).xy;\n}\n\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n    vFilterUv = getFilterCoord();\n}\n",xr="\nstruct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct DisplacementUniforms {\n  uFilterMatrix:mat3x3<f32>,\n  uScale:vec2<f32>,\n  uRotation:mat2x2<f32>\n};\n\n\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> filterUniforms : DisplacementUniforms;\n@group(1) @binding(1) var uMapTexture: texture_2d<f32>;\n@group(1) @binding(2) var uMapSampler : sampler;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) filterUv : vec2<f32>,\n  };\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \n}\n\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}\n\nfn getSize() -> vec2<f32>\n{\n\n  \n  return gfu.uGlobalFrame.zw;\n}\n  \n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>, \n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition),\n   getFilterCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) filterUv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n\n    var map = textureSample(uMapTexture, uMapSampler, filterUv);\n\n    var offset =  gfu.uInputSize.zw * (filterUniforms.uRotation * (map.xy - 0.5)) * filterUniforms.uScale; \n   \n    return textureSample(uTexture, uSampler, clamp(uv + offset, gfu.uInputClamp.xy, gfu.uInputClamp.zw));\n}",yr="\nin vec2 vTextureCoord;\nin vec4 vColor;\n\nout vec4 finalColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uTexture;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture(uTexture, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) *  uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    finalColor = color;\n}\n",Sr="\n\nstruct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct NoiseUniforms {\n  uNoise:f32,\n  uSeed:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> noiseUniforms : NoiseUniforms;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>\n  };\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  \n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n  \n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>, \n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition)\n  );\n}\n\nfn rand(co:vec2<f32>) -> f32\n{\n  return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\n\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n\n    var pixelPosition =  globalTextureCoord(position.xy);// / (getSize());//-  gfu.uOutputFrame.xy);\n  \n    \n    var sample = textureSample(uTexture, uSampler, uv);\n    var randomValue =  rand(pixelPosition.xy * noiseUniforms.uSeed);\n    var diff = (randomValue - 0.5) * noiseUniforms.uNoise;\n  \n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (sample.a > 0.0) {\n      sample.r /= sample.a;\n      sample.g /= sample.a;\n      sample.b /= sample.a;\n    }\n\n    sample.r += diff;\n    sample.g += diff;\n    sample.b += diff;\n\n    // Premultiply alpha again.\n    sample.r *= sample.a;\n    sample.g *= sample.a;\n    sample.b *= sample.a;\n    \n    return sample;\n}",Tr=n(4008),wr=n(2721),Ar=n(4203);const Er=["alpha"],Cr=class e extends _.d{constructor(t){t=(0,a.A)((0,a.A)({},e.defaultOptions),t);const n=g.B.from({vertex:{source:pr,entryPoint:"mainVertex"},fragment:{source:pr,entryPoint:"mainFragment"}}),r=m.M.from({vertex:vr,fragment:hr,name:"alpha-filter"}),{alpha:s}=t,o=(0,i.A)(t,Er),l=new v.k({uAlpha:{value:s,type:"f32"}});super((0,a.A)((0,a.A)({},o),{},{gpuProgram:n,glProgram:r,resources:{alphaUniforms:l}}))}get alpha(){return this.resources.alphaUniforms.uniforms.uAlpha}set alpha(e){this.resources.alphaUniforms.uniforms.uAlpha=e}};Cr.defaultOptions={alpha:1};let Rr=Cr;var Mr=n(3202),Pr=n(6650);const kr={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Br=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join("\n");function Or(e){const t=kr[e],n=t.length;let r=Br,i="";let s;for(let a=0;a<e;a++){let r="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());s=a,a>=n&&(s=e-a-1),r=r.replace("%value%",t[s].toString()),i+=r,i+="\n"}return r=r.replace("%blur%",i),r=r.replace("%size%",e.toString()),r}const Ir="\n    in vec2 aPosition;\n\n    uniform float uStrength;\n\n    out vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 uInputSize;\n    uniform vec4 uOutputFrame;\n    uniform vec4 uOutputTexture;\n\n    vec4 filterVertexPosition( void )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\n    vec2 filterTextureCoord( void )\n    {\n        return aPosition * (uOutputFrame.zw * uInputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        float pixelStrength = uInputSize.%dimension% * uStrength;\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function Fr(e,t){const n=Math.ceil(e/2);let r,i=Ir,s="";r=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let a=0;a<e;a++){let e=r.replace("%index%",a.toString());e=e.replace("%sampleIndex%","".concat(a-(n-1),".0")),s+=e,s+="\n"}return i=i.replace("%blur%",s),i=i.replace("%size%",e.toString()),i=i.replace("%dimension%",t?"z":"w"),i}function Gr(e,t){const n=Fr(t,e),r=Or(t);return m.M.from({vertex:n,fragment:r,name:"blur-".concat(e?"horizontal":"vertical","-pass-filter")})}function Nr(e,t){const n=kr[t],r=n.length,i=[],s=[],a=[];for(let d=0;d<t;d++){i[d]="@location(".concat(d,") offset").concat(d,": vec2<f32>,"),s[d]=e?"filteredCord + vec2(".concat(d-r+1," * pixelStrength, 0.0),"):"filteredCord + vec2(0.0, ".concat(d-r+1," * pixelStrength),");const o=n[d<r?d:t-d-1].toString();a[d]="finalColor += textureSample(uTexture, uSampler, offset".concat(d,") * ").concat(o,";")}const o=i.join("\n"),l=s.join("\n"),c=a.join("\n"),u=fr.replace("%blur-struct%",o).replace("%blur-vertex-out%",l).replace("%blur-fragment-in%",o).replace("%blur-sampling%",c).replace("%dimension%",e?"z":"w");return g.B.from({vertex:{source:u,entryPoint:"mainVertex"},fragment:{source:u,entryPoint:"mainFragment"}})}const Dr=class e extends _.d{constructor(t){const n=Gr((t=(0,a.A)((0,a.A)({},e.defaultOptions),t)).horizontal,t.kernelSize),r=Nr(t.horizontal,t.kernelSize);super((0,a.A)({glProgram:n,gpuProgram:r,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}}},t)),this.horizontal=t.horizontal,this._quality=0,this.quality=t.quality,this.blur=t.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(e,t,n,r){if(this._uniforms.uStrength=this.strength/this.passes,1===this.passes)e.applyFilter(this,t,n,r);else{const i=Mr.W.getSameSizeTexture(t);let s=t,a=i;this._state.blend=!1;const o=e.renderer.type===Pr.W.WEBGPU;for(let t=0;t<this.passes-1;t++){e.applyFilter(this,s,a,0===t||o);const n=a;a=s,s=n}this._state.blend=!0,e.applyFilter(this,s,n,r),Mr.W.returnTexture(i)}}get blur(){return this.strength}set blur(e){this.padding=1+2*Math.abs(e),this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}};Dr.defaultOptions={strength:8,quality:4,kernelSize:5};let Ur=Dr;const Lr=["strength","strengthX","strengthY","quality"];class jr extends _.d{constructor(){var e;let t=null!==(e=arguments.length<=0?void 0:arguments[0])&&void 0!==e?e:{};"number"===typeof t&&((0,ie.t6)(ie.lj,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),t={strength:t},void 0!==(arguments.length<=1?void 0:arguments[1])&&(t.quality=arguments.length<=1?void 0:arguments[1]),void 0!==(arguments.length<=2?void 0:arguments[2])&&(t.resolution=(arguments.length<=2?void 0:arguments[2])||"inherit"),void 0!==(arguments.length<=3?void 0:arguments[3])&&(t.kernelSize=arguments.length<=3?void 0:arguments[3])),t=(0,a.A)((0,a.A)({},Ur.defaultOptions),t);const{strength:n,strengthX:r,strengthY:s,quality:o}=t,l=(0,i.A)(t,Lr);super((0,a.A)((0,a.A)({},l),{},{compatibleRenderers:Pr.W.BOTH,resources:{}})),this._repeatEdgePixels=!1,this.blurXFilter=new Ur((0,a.A)({horizontal:!0},t)),this.blurYFilter=new Ur((0,a.A)({horizontal:!1},t)),this.quality=o,this.strengthX=null!==r&&void 0!==r?r:n,this.strengthY=null!==s&&void 0!==s?s:n,this.repeatEdgePixels=!1}apply(e,t,n,r){const i=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(i&&s){const i=Mr.W.getSameSizeTexture(t);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(e,t,i,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,i,n,r),Mr.W.returnTexture(i)}else s?(this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(e,t,n,r)):(this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(e,t,n,r))}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))}get strength(){if(this.strengthX!==this.strengthY)throw new Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get strengthX(){return this.blurXFilter.blur}set strengthX(e){this.blurXFilter.blur=e,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(e){this.blurYFilter.blur=e,this.updatePadding()}get blur(){return(0,ie.t6)("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(e){(0,ie.t6)("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=e}get blurX(){return(0,ie.t6)("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(e){(0,ie.t6)("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=e}get blurY(){return(0,ie.t6)("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(e){(0,ie.t6)("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}jr.defaultOptions={strength:8,quality:4,kernelSize:5};class zr extends _.d{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new v.k({uColorMatrix:{value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],type:"f32",size:20},uAlpha:{value:1,type:"f32"}}),n=g.B.from({vertex:{source:gr,entryPoint:"mainVertex"},fragment:{source:gr,entryPoint:"mainFragment"}}),r=m.M.from({vertex:vr,fragment:mr,name:"color-matrix-filter"});super((0,a.A)((0,a.A)({},e),{},{gpuProgram:n,glProgram:r,resources:{colorMatrixUniforms:t}})),this.alpha=1}_loadMatrix(e){let t=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(t,this.matrix,e),t=this._colorMatrix(t)),this.resources.colorMatrixUniforms.uniforms.uColorMatrix=t,this.resources.colorMatrixUniforms.update()}_multiply(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19]+t[4],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19]+t[9],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19]+t[14],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19]+t[19],e}_colorMatrix(e){const t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t}brightness(e,t){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}tint(e,t){const[n,r,i]=kt.Q.shared.setValue(e).toArray(),s=[n,0,0,0,0,0,r,0,0,0,0,0,i,0,0,0,0,0,1,0];this._loadMatrix(s,t)}greyscale(e,t){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}grayscale(e,t){this.greyscale(e,t)}blackAndWhite(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)}hue(e,t){e=(e||0)/180*Math.PI;const n=Math.cos(e),r=Math.sin(e),i=1/3,s=(0,Math.sqrt)(i),a=[n+(1-n)*i,i*(1-n)-s*r,i*(1-n)+s*r,0,0,i*(1-n)+s*r,n+i*(1-n),i*(1-n)-s*r,0,0,i*(1-n)-s*r,i*(1-n)+s*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,t)}contrast(e,t){const n=(e||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,t)}saturate(){let e=arguments.length>1?arguments[1]:void 0;const t=2*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)/3+1,n=-.5*(t-1),r=[t,n,n,0,0,n,t,n,0,0,n,n,t,0,0,0,0,0,1,0];this._loadMatrix(r,e)}desaturate(){this.saturate(-1)}negative(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)}sepia(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)}technicolor(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)}polaroid(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)}toBGR(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)}kodachrome(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)}browni(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)}vintage(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)}colorTone(e,t,n,r,i){e||(e=.2),t||(t=.15),n||(n=16770432),r||(r=3375104);const s=kt.Q.shared,[a,o,l]=s.setValue(n).toArray(),[c,u,d]=s.setValue(r).toArray(),h=[.3,.59,.11,0,0,a,o,l,e,0,c,u,d,t,0,a-c,o-u,l-d,0,0];this._loadMatrix(h,i)}night(e,t){e||(e=.1);const n=[-2*e,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)}predator(e,t){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)}lsd(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.resources.colorMatrixUniforms.uniforms.uColorMatrix}set matrix(e){this.resources.colorMatrixUniforms.uniforms.uColorMatrix=e}get alpha(){return this.resources.colorMatrixUniforms.uniforms.uAlpha}set alpha(e){this.resources.colorMatrixUniforms.uniforms.uAlpha=e}}var Xr=n(3596),Hr=n(4853);const Vr=["sprite","scale"];class Wr extends _.d{constructor(){let e=arguments.length<=0?void 0:arguments[0];e instanceof Hr.k&&((arguments.length<=1?void 0:arguments[1])&&(0,ie.t6)(ie.lj,"DisplacementFilter now uses options object instead of params. {sprite, scale}"),e={sprite:e,scale:arguments.length<=1?void 0:arguments[1]});const{sprite:t,scale:n}=e,r=(0,i.A)(e,Vr);let s=null!==n&&void 0!==n?n:20;"number"===typeof s&&(s=new qn.b(s,s));const o=new v.k({uFilterMatrix:{value:new Xr.u,type:"mat3x3<f32>"},uScale:{value:s,type:"vec2<f32>"},uRotation:{value:new Float32Array([0,0,0,0]),type:"mat2x2<f32>"}}),l=m.M.from({vertex:_r,fragment:br,name:"displacement-filter"}),c=g.B.from({vertex:{source:xr,entryPoint:"mainVertex"},fragment:{source:xr,entryPoint:"mainFragment"}}),u=t.texture.source;super((0,a.A)((0,a.A)({},r),{},{gpuProgram:c,glProgram:l,resources:{filterUniforms:o,uMapTexture:u,uMapSampler:u.style}})),this._sprite=e.sprite,this._sprite.renderable=!1}apply(e,t,n,r){const i=this.resources.filterUniforms.uniforms;e.calculateSpriteMatrix(i.uFilterMatrix,this._sprite);const s=this._sprite.worldTransform,a=Math.sqrt(s.a*s.a+s.b*s.b),o=Math.sqrt(s.c*s.c+s.d*s.d);0!==a&&0!==o&&(i.uRotation[0]=s.a/a,i.uRotation[1]=s.b/a,i.uRotation[2]=s.c/o,i.uRotation[3]=s.d/o),this.resources.uMapTexture=this._sprite.texture.source,e.applyFilter(this,t,n,r)}get scale(){return this.resources.filterUniforms.uniforms.uScale}}const Yr=["noise","seed"],qr=class e extends _.d{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=(0,a.A)((0,a.A)({},e.defaultOptions),t);const n=g.B.from({vertex:{source:Sr,entryPoint:"mainVertex"},fragment:{source:Sr,entryPoint:"mainFragment"}}),r=m.M.from({vertex:vr,fragment:yr,name:"noise-filter"}),{noise:s,seed:o}=t,l=(0,i.A)(t,Yr);super((0,a.A)((0,a.A)({},l),{},{gpuProgram:n,glProgram:r,resources:{noiseUniforms:new v.k({uNoise:{value:1,type:"f32"},uSeed:{value:1,type:"f32"}})}})),this.noise=s,this.seed=null!==o&&void 0!==o?o:Math.random()}get noise(){return this.resources.noiseUniforms.uniforms.uNoise}set noise(e){this.resources.noiseUniforms.uniforms.uNoise=e}get seed(){return this.resources.noiseUniforms.uniforms.uSeed}set seed(e){this.resources.noiseUniforms.uniforms.uSeed=e}};qr.defaultOptions={noise:.5};let Kr=qr;var Qr=n(2290),$r=n(7349),Zr=n(6282),Jr=n(1024),ei=n(6887),ti=n(8186),ni=n(2512),ri=n(4973);function ii(e,t,n,r,i,s,a,o){const l=a-n,c=o-r,u=i-n,d=s-r,h=e-n,p=t-r,f=l*l+c*c,m=l*u+c*d,g=l*h+c*p,v=u*u+d*d,b=u*h+d*p,_=1/(f*v-m*m),x=(v*g-m*b)*_,y=(f*b-m*g)*_;return x>=0&&y>=0&&x+y<1}var si=n(8380),ai=n(8770),oi=n(7070),li=n(8570);class ci{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.type="triangle",this.x=e,this.y=t,this.x2=n,this.y2=r,this.x3=i,this.y3=s}contains(e,t){const n=(this.x-this.x3)*(t-this.y3)-(this.y-this.y3)*(e-this.x3),r=(this.x2-this.x)*(t-this.y)-(this.y2-this.y)*(e-this.x);if(n<0!==r<0&&0!==n&&0!==r)return!1;const i=(this.x3-this.x2)*(t-this.y2)-(this.y3-this.y2)*(e-this.x2);return 0===i||i<0===n+r<=0}strokeContains(e,t,n){const r=n/2,i=r*r,{x:s,x2:a,x3:o,y:l,y2:c,y3:u}=this;return(0,ni.z)(e,t,s,l,a,u)<=i||(0,ni.z)(e,t,a,c,o,u)<=i||(0,ni.z)(e,t,o,u,s,l)<=i}clone(){return new ci(this.x,this.y,this.x2,this.y2,this.x3,this.y3)}copyFrom(e){return this.x=e.x,this.y=e.y,this.x2=e.x2,this.y2=e.y2,this.x3=e.x3,this.y3=e.y3,this}copyTo(e){return e.copyFrom(this),e}getBounds(e){e||(e=new pe.M);const t=Math.min(this.x,this.x2,this.x3),n=Math.max(this.x,this.x2,this.x3),r=Math.min(this.y,this.y2,this.y3),i=Math.max(this.y,this.y2,this.y3);return e.x=t,e.y=r,e.width=n-t,e.height=i-r,e}}var ui=n(6493),di=n(5682);const hi=class e{constructor(t){this._tick=()=>{this.timeout=setTimeout(this._processQueue,0)},this._processQueue=()=>{const{queue:t}=this;let n=0;for(;t.length&&n<e.uploadsPerFrame;){const e=t.shift();this.uploadQueueItem(e),n++}t.length?di.R.system.addOnce(this._tick,this,ui.d.UTILITY):this._resolve()},this.renderer=t,this.queue=[],this.resolves=[]}getQueue(){return[...this.queue]}add(e){const t=Array.isArray(e)?e:[e];for(const n of t)n instanceof ne.mc?this._addContainer(n):this.resolveQueueItem(n,this.queue);return this}_addContainer(e){this.resolveQueueItem(e,this.queue);for(const t of e.children)this._addContainer(t)}upload(e){return e&&this.add(e),new Promise(e=>{this.queue.length?(this.resolves.push(e),this.dedupeQueue(),di.R.system.addOnce(this._tick,this,ui.d.UTILITY)):e()})}dedupeQueue(){const e=Object.create(null);let t=0;for(let n=0;n<this.queue.length;n++){const r=this.queue[n];e[r.uid]||(e[r.uid]=!0,this.queue[t++]=r)}this.queue.length=t}_resolve(){const{resolves:e}=this,t=e.slice(0);e.length=0;for(const n of t)n()}};hi.uploadsPerFrame=4;let pi=hi;var fi=n(4395),mi=n(818),gi=n(576),vi=n(9859);const bi=["geometry","shader","texture","roundPixels","state"];class _i extends Kn.l{constructor(){var e;let t=arguments.length<=0?void 0:arguments[0];t instanceof mi.V&&((0,ie.t6)(ie.lj,"Mesh: use new Mesh({ geometry, shader }) instead"),t={geometry:t,shader:arguments.length<=1?void 0:arguments[1]},(arguments.length<=3?void 0:arguments[3])&&((0,ie.t6)(ie.lj,"Mesh: drawMode argument has been removed, use geometry.topology instead"),t.geometry.topology=arguments.length<=3?void 0:arguments[3]));const{geometry:n,shader:r,texture:s,roundPixels:o,state:l}=t,c=(0,i.A)(t,bi);super((0,a.A)({label:"Mesh"},c)),this.renderPipeId="mesh",this._shader=null,this.allowChildren=!1,this.shader=null!==r&&void 0!==r?r:null,this.texture=null!==(e=null!==s&&void 0!==s?s:null===r||void 0===r?void 0:r.texture)&&void 0!==e?e:b.g.WHITE,this.state=null!==l&&void 0!==l?l:gi.U.for2d(),this._geometry=n,this._geometry.on("update",this.onViewUpdate,this),this.roundPixels=null!==o&&void 0!==o&&o}get material(){return(0,ie.t6)(ie.lj,"mesh.material property has been removed, use mesh.shader instead"),this._shader}set shader(e){this._shader!==e&&(this._shader=e,this.onViewUpdate())}get shader(){return this._shader}set geometry(e){var t;this._geometry!==e&&(null===(t=this._geometry)||void 0===t||t.off("update",this.onViewUpdate,this),e.on("update",this.onViewUpdate,this),this._geometry=e,this.onViewUpdate())}get geometry(){return this._geometry}set texture(e){e||(e=b.g.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this.shader&&(this.shader.texture=e),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}get batched(){return!this._shader&&(0===(12&this.state.data)&&(this._geometry instanceof vi.u&&("auto"===this._geometry.batchMode?this._geometry.positions.length/2<=100:"batch"===this._geometry.batchMode)))}get bounds(){return this._geometry.bounds}updateBounds(){this._bounds=this._geometry.bounds}containsPoint(e){const{x:t,y:n}=e;if(!this.bounds.containsPoint(t,n))return!1;const r=this.geometry.getBuffer("aPosition").data,i="triangle-strip"===this.geometry.topology?3:1;if(this.geometry.getIndex()){const e=this.geometry.getIndex().data,s=e.length;for(let a=0;a+2<s;a+=i){const i=2*e[a],s=2*e[a+1],o=2*e[a+2];if(ii(t,n,r[i],r[i+1],r[s],r[s+1],r[o],r[o+1]))return!0}}else{const e=r.length/2;for(let s=0;s+2<e;s+=i){const e=2*s,i=2*(s+1),a=2*(s+2);if(ii(t,n,r[e],r[e+1],r[i],r[i+1],r[a],r[a+1]))return!0}}return!1}destroy(e){var t;super.destroy(e);if("boolean"===typeof e?e:null===e||void 0===e?void 0:e.texture){const t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.textureSource;this._texture.destroy(t)}null===(t=this._geometry)||void 0===t||t.off("update",this.onViewUpdate,this),this._texture=null,this._geometry=null,this._shader=null,this._gpuData=null}}const xi=["animationSpeed","autoPlay","autoUpdate","loop","onComplete","onFrameChange","onLoop","textures","updateAnchor"];class yi extends Hr.k{constructor(){let e=arguments.length<=0?void 0:arguments[0];Array.isArray(arguments.length<=0?void 0:arguments[0])&&(e={textures:arguments.length<=0?void 0:arguments[0],autoUpdate:arguments.length<=1?void 0:arguments[1]});const{animationSpeed:t=1,autoPlay:n=!1,autoUpdate:r=!0,loop:s=!0,onComplete:o=null,onFrameChange:l=null,onLoop:c=null,textures:u,updateAnchor:d=!1}=e,h=(0,i.A)(e,xi),[p]=u;super((0,a.A)((0,a.A)({},h),{},{texture:p instanceof b.g?p:p.texture})),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=t,this.loop=s,this.updateAnchor=d,this.onComplete=o,this.onFrameChange=l,this.onLoop=c,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=u,n&&this.play()}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(di.R.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(di.R.shared.add(this.update,this,ui.d.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=e.deltaTime,n=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){let e=this._currentTime%1*this._durations[this.currentFrame];for(e+=n/60*1e3;e<0;)this._currentTime--,e+=this._durations[this.currentFrame];const r=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);e>=this._durations[this.currentFrame];)e-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=e/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this._updateTexture())}_updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this.texture=this._textures[e],this.updateAnchor&&this.texture.defaultAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("boolean"===typeof e?e:null===e||void 0===e?void 0:e.texture){const t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.textureSource;this._textures.forEach(e=>{this.texture!==e&&e.destroy(t)})}this._textures=[],this._durations=null,this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let n=0;n<e.length;++n)t.push(b.g.from(e[n]));return new yi(t)}static fromImages(e){const t=[];for(let n=0;n<e.length;++n)t.push(b.g.from(e[n]));return new yi(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof b.g)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error("[AnimatedSprite]: Invalid frame index value ".concat(e,", expected to be between 0 and totalFrames ").concat(this.totalFrames,"."));const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(di.R.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(di.R.shared.add(this.update,this),this._isConnectedToTicker=!0))}}class Si{constructor(){let{matrix:e,observer:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dirty=!0,this._matrix=null!==e&&void 0!==e?e:new Xr.u,this.observer=t,this.position=new ri.o(this,0,0),this.scale=new ri.o(this,1,1),this.pivot=new ri.o(this,0,0),this.skew=new ri.o(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const e=this._matrix;return this.dirty?(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this.dirty=!1,e):e}_onUpdate(e){var t;this.dirty=!0,e===this.skew&&this.updateSkew(),null===(t=this.observer)||void 0===t||t._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return"[pixi.js/math:Transform position=(".concat(this.position.x,", ").concat(this.position.y,") rotation=").concat(this.rotation," scale=(").concat(this.scale.x,", ").concat(this.scale.y,") skew=(").concat(this.skew.x,", ").concat(this.skew.y,") ]")}setFromMatrix(e){e.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this.skew))}}const Ti=["texture","anchor","tilePosition","tileScale","tileRotation","width","height","applyAnchorToTexture","roundPixels"],wi=class e extends Kn.l{constructor(){let t=(arguments.length<=0?void 0:arguments[0])||{};t instanceof b.g&&(t={texture:t}),arguments.length>1&&((0,ie.t6)(ie.lj,"use new TilingSprite({ texture, width:100, height:100 }) instead"),t.width=arguments.length<=1?void 0:arguments[1],t.height=arguments.length<=2?void 0:arguments[2]),t=(0,a.A)((0,a.A)({},e.defaultOptions),t);const n=null!==t&&void 0!==t?t:{},{texture:r,anchor:s,tilePosition:o,tileScale:l,tileRotation:c,width:u,height:d,applyAnchorToTexture:h,roundPixels:p}=n,f=(0,i.A)(n,Ti);super((0,a.A)({label:"TilingSprite"},f)),this.renderPipeId="tilingSprite",this.batched=!0,this.allowChildren=!1,this._anchor=new ri.o({_onUpdate:()=>{this.onViewUpdate()}}),this.applyAnchorToTexture=h,this.texture=r,this._width=null!==u&&void 0!==u?u:r.width,this._height=null!==d&&void 0!==d?d:r.height,this._tileTransform=new Si({observer:{_onUpdate:()=>this.onViewUpdate()}}),s&&(this.anchor=s),this.tilePosition=o,this.tileScale=l,this.tileRotation=c,this.roundPixels=null!==p&&void 0!==p&&p}static from(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new e("string"===typeof t?(0,a.A)({texture:Ae.l.get(t)},n):(0,a.A)({texture:t},n))}get uvRespectAnchor(){return(0,Te.R)("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture}set uvRespectAnchor(e){(0,Te.R)("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture=e}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(e){this._texture.textureMatrix.clampMargin=e}get anchor(){return this._anchor}set anchor(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get tilePosition(){return this._tileTransform.position}set tilePosition(e){this._tileTransform.position.copyFrom(e)}get tileScale(){return this._tileTransform.scale}set tileScale(e){"number"===typeof e?this._tileTransform.scale.set(e):this._tileTransform.scale.copyFrom(e)}set tileRotation(e){this._tileTransform.rotation=e}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}set texture(e){e||(e=b.g.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get texture(){return this._texture}set width(e){this._width=e,this.onViewUpdate()}get width(){return this._width}set height(e){this._height=e,this.onViewUpdate()}get height(){return this._height}setSize(e,t){var n;"object"===typeof e&&(t=null!==(n=e.height)&&void 0!==n?n:e.width,e=e.width);this._width=e,this._height=null!==t&&void 0!==t?t:e,this.onViewUpdate()}getSize(e){return e||(e={}),e.width=this._width,e.height=this._height,e}updateBounds(){const e=this._bounds,t=this._anchor,n=this._width,r=this._height;e.minX=-t._x*n,e.maxX=e.minX+n,e.minY=-t._y*r,e.maxY=e.minY+r}containsPoint(e){const t=this._width,n=this._height,r=-t*this._anchor._x;let i=0;return e.x>=r&&e.x<=r+t&&(i=-n*this._anchor._y,e.y>=i&&e.y<=i+n)}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super.destroy(e),this._anchor=null,this._tileTransform=null,this._bounds=null;if("boolean"===typeof e?e:null===e||void 0===e?void 0:e.texture){const t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.textureSource;this._texture.destroy(t)}this._texture=null}};wi.defaultOptions={texture:b.g.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let Ai=wi;var Ei=n(879);const Ci=["text","resolution","style","anchor","width","height","roundPixels"];class Ri extends Kn.l{constructor(e,t){const{text:n,resolution:r,style:s,anchor:o,width:l,height:c,roundPixels:u}=e,d=(0,i.A)(e,Ci);super((0,a.A)({},d)),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=t,this.text=null!==n&&void 0!==n?n:"",this.style=s,this.resolution=null!==r&&void 0!==r?r:null,this.allowChildren=!1,this._anchor=new ri.o({_onUpdate:()=>{this.onViewUpdate()}}),o&&(this.anchor=o),this.roundPixels=null!==u&&void 0!==u&&u,void 0!==l&&(this.width=l),void 0!==c&&(this.height=c)}get anchor(){return this._anchor}set anchor(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=null===e,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){var t;e||(e={}),null===(t=this._style)||void 0===t||t.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,t){var n;"object"===typeof e?(t=null!==(n=e.height)&&void 0!==n?n:e.width,e=e.width):null!==t&&void 0!==t||(t=e);void 0!==e&&this._setWidth(e,this.bounds.width),void 0!==t&&this._setHeight(t,this.bounds.height)}containsPoint(e){const t=this.bounds.width,n=this.bounds.height,r=-t*this.anchor.x;let i=0;return e.x>=r&&e.x<=r+t&&(i=-n*this.anchor.y,e.y>=i&&e.y<=i+n)}onViewUpdate(){this.didViewUpdate||(this._didTextUpdate=!0),super.onViewUpdate()}destroy(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,("boolean"===typeof e?e:null===e||void 0===e?void 0:e.style)&&this._style.destroy(e),this._style=null,this._text=null}}function Mi(e,t){var n;let r=null!==(n=e[0])&&void 0!==n?n:{};return("string"===typeof r||e[1])&&((0,ie.t6)(ie.lj,"use new ".concat(t,'({ text: "hi!", style }) instead')),r={text:r,style:e[1]}),r}var Pi=n(2077),ki=n(7821),Bi=n(2100);class Oi extends Ri{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Mi(t,"Text");super(r,Bi.x),this.renderPipeId="text",r.textureStyle&&(this.textureStyle=r.textureStyle instanceof Ei.n?r.textureStyle:new Ei.n(r.textureStyle))}updateBounds(){const e=this._bounds,t=this._anchor;let n=0,r=0;if(this._style.trim){const{frame:e,canvasAndContext:t}=Pi.v.getCanvasAndContext({text:this.text,style:this._style,resolution:1});Pi.v.returnCanvasAndContext(t),n=e.width,r=e.height}else{const e=ki.P.measureText(this._text,this._style);n=e.width,r=e.height}e.minX=-t._x*n,e.maxX=e.minX+n,e.minY=-t._y*r,e.maxY=e.minY+r}}class Ii extends pi{resolveQueueItem(e,t){return e instanceof ne.mc?this.resolveContainerQueueItem(e,t):e instanceof Ot.v||e instanceof b.g?t.push(e.source):e instanceof Je.T&&t.push(e),null}resolveContainerQueueItem(e,t){e instanceof Hr.k||e instanceof Ai||e instanceof _i?t.push(e.texture.source):e instanceof Oi?t.push(e):e instanceof fi.A?t.push(e.context):e instanceof yi&&e.textures.forEach(e=>{e.source?t.push(e.source):t.push(e.texture.source)})}resolveGraphicsContextQueueItem(e){this.renderer.graphicsContext.getGpuContext(e);const{instructions:t}=e;for(const n of t){if("texture"===n.action){const{image:e}=n.data;return e.source}if("fill"===n.action){const{texture:e}=n.data.style;return e.source}}return null}}class Fi extends Ri{constructor(){for(var e,t,n,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];const a=Mi(i,"BitmapText");null!==(e=a.style)&&void 0!==e||(a.style=a.style||{}),null!==(t=(n=a.style).fill)&&void 0!==t||(n.fill=16777215),super(a,Bi.x),this.renderPipeId="bitmapText"}updateBounds(){const e=this._bounds,t=this._anchor,n=me.c.measureText(this.text,this._style),r=n.scale,i=n.offsetY*r;let s=n.width*r,a=n.height*r;const o=this._style._stroke;o&&(s+=o.width,a+=o.width),e.minX=-t._x*s,e.maxX=e.minX+s,e.minY=-t._y*(a+i),e.maxY=e.minY+a}set resolution(e){null!==e&&(0,Te.R)("[BitmapText] dynamically updating the resolution is not supported. Resolution should be managed by the BitmapFont.")}get resolution(){return this._resolution}}function Gi(e){const t=e._stroke,n=e._fill,r=["color: ".concat(kt.Q.shared.setValue(n.color).toHex()),"font-size: ".concat(e.fontSize,"px"),"font-family: ".concat(e.fontFamily),"font-weight: ".concat(e.fontWeight),"font-style: ".concat(e.fontStyle),"font-variant: ".concat(e.fontVariant),"letter-spacing: ".concat(e.letterSpacing,"px"),"text-align: ".concat(e.align),"padding: ".concat(e.padding,"px"),"white-space: ".concat("pre"===e.whiteSpace&&e.wordWrap?"pre-wrap":e.whiteSpace),...e.lineHeight?["line-height: ".concat(e.lineHeight,"px")]:[],...e.wordWrap?["word-wrap: ".concat(e.breakWords?"break-all":"break-word"),"max-width: ".concat(e.wordWrapWidth,"px")]:[],...t?[Di(t)]:[],...e.dropShadow?[Ni(e.dropShadow)]:[],...e.cssOverrides].join(";"),i=["div { ".concat(r," }")];return function(e,t){for(const n in e){const r=e[n],i=[];for(const e in r)Li[e]?i.push(Li[e](r[e])):Ui[e]&&i.push(Ui[e].replace("{{VALUE}}",r[e]));t.push("".concat(n," { ").concat(i.join(";")," }"))}}(e.tagStyles,i),i.join(" ")}function Ni(e){const t=kt.Q.shared.setValue(e.color).setAlpha(e.alpha).toHexa(),n=Math.round(Math.cos(e.angle)*e.distance),r=Math.round(Math.sin(e.angle)*e.distance),i="".concat(n,"px ").concat(r,"px");return e.blur>0?"text-shadow: ".concat(i," ").concat(e.blur,"px ").concat(t):"text-shadow: ".concat(i," ").concat(t)}function Di(e){return["-webkit-text-stroke-width: ".concat(e.width,"px"),"-webkit-text-stroke-color: ".concat(kt.Q.shared.setValue(e.color).toHex()),"text-stroke-width: ".concat(e.width,"px"),"text-stroke-color: ".concat(kt.Q.shared.setValue(e.color).toHex()),"paint-order: stroke"].join(";")}const Ui={fontSize:"font-size: {{VALUE}}px",fontFamily:"font-family: {{VALUE}}",fontWeight:"font-weight: {{VALUE}}",fontStyle:"font-style: {{VALUE}}",fontVariant:"font-variant: {{VALUE}}",letterSpacing:"letter-spacing: {{VALUE}}px",align:"text-align: {{VALUE}}",padding:"padding: {{VALUE}}px",whiteSpace:"white-space: {{VALUE}}",lineHeight:"line-height: {{VALUE}}px",wordWrapWidth:"max-width: {{VALUE}}px"},Li={fill:e=>"color: ".concat(kt.Q.shared.setValue(e).toHex()),breakWords:e=>"word-wrap: ".concat(e?"break-all":"break-word"),stroke:Di,dropShadow:Ni};class ji extends Bi.x{constructor(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(n),this._cssOverrides=[],this.cssOverrides=null!==(e=n.cssOverrides)&&void 0!==e?e:[],this.tagStyles=null!==(t=n.tagStyles)&&void 0!==t?t:{}}set cssOverrides(e){this._cssOverrides=e instanceof Array?e:[e],this.update()}get cssOverrides(){return this._cssOverrides}update(){this._cssStyle=null,super.update()}clone(){return new ji({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow?(0,a.A)({},this.dropShadow):null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,cssOverrides:this.cssOverrides,tagStyles:(0,a.A)({},this.tagStyles)})}get cssStyle(){return this._cssStyle||(this._cssStyle=Gi(this)),this._cssStyle}addOverride(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.filter(e=>!this.cssOverrides.includes(e));r.length>0&&(this.cssOverrides.push(...r),this.update())}removeOverride(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.filter(e=>this.cssOverrides.includes(e));r.length>0&&(this.cssOverrides=this.cssOverrides.filter(e=>!r.includes(e)),this.update())}set fill(e){"string"!==typeof e&&"number"!==typeof e&&(0,Te.R)("[HTMLTextStyle] only color fill is not supported by HTMLText"),super.fill=e}set stroke(e){e&&"string"!==typeof e&&"number"!==typeof e&&(0,Te.R)("[HTMLTextStyle] only color stroke is not supported by HTMLText"),super.stroke=e}}var zi=n(8792);class Xi extends Ri{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Mi(t,"HtmlText");super(r,ji),this.renderPipeId="htmlText",r.textureStyle&&(this.textureStyle=r.textureStyle instanceof Ei.n?r.textureStyle:new Ei.n(r.textureStyle))}updateBounds(){const e=this._bounds,t=this._anchor,n=(0,zi.r)(this.text,this._style),{width:r,height:i}=n;e.minX=-t._x*r,e.maxX=e.minX+r,e.minY=-t._y*i,e.maxY=e.minY+i}get text(){return this._text}set text(e){const t=this._sanitiseText(e.toString());super.text=t}_sanitiseText(e){return this._removeInvalidHtmlTags(e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;"))}_removeInvalidHtmlTags(e){return e.replace(/<[^>]*?(?=<|$)/g,"")}}class Hi extends Ii{uploadQueueItem(e){e instanceof Ot.v?this.uploadTextureSource(e):e instanceof Oi?this.uploadText(e):e instanceof Xi?this.uploadHTMLText(e):e instanceof Fi?this.uploadBitmapText(e):e instanceof Je.T&&this.uploadGraphicsContext(e)}uploadTextureSource(e){this.renderer.texture.initSource(e)}uploadText(e){this.renderer.renderPipes.text.initGpuText(e)}uploadBitmapText(e){this.renderer.renderPipes.bitmapText.initGpuText(e)}uploadHTMLText(e){this.renderer.renderPipes.htmlText.initGpuText(e)}uploadGraphicsContext(e){this.renderer.graphicsContext.getGpuContext(e);const{instructions:t}=e;for(const n of t)if("texture"===n.action){const{image:e}=n.data;this.uploadTextureSource(e.source)}else if("fill"===n.action){const{texture:e}=n.data.style;this.uploadTextureSource(e.source)}return null}}class Vi extends Hi{destroy(){clearTimeout(this.timeout),this.renderer=null,this.queue=null,this.resolves=null}}Vi.extension={type:[u.Ag.WebGLSystem,u.Ag.WebGPUSystem],name:"prepare"};var Wi=n(2054),Yi=n(6857),qi=n(53);function Ki(e){const t=[];let n=0;for(let r=0;r<e;r++)t[n]={texture:{sampleType:"float",viewDimension:"2d",multisampled:!1},binding:n,visibility:GPUShaderStage.FRAGMENT},n++,t[n]={sampler:{type:"filtering"},binding:n,visibility:GPUShaderStage.FRAGMENT},n++;return t}function Qi(e){const t={};let n=0;for(let r=0;r<e;r++)t["textureSource".concat(r+1)]=n++,t["textureSampler".concat(r+1)]=n++;return t}var $i=n(9530),Zi=n(4618),Ji=n(5351),es=n(4251),ts=n(5514),ns=n(66),rs=n(9266),is=n(9658),ss=n(6220),as=n(2147),os=n(8892),ls=n(1130),cs=n(4929),us=n(2856);function ds(e){const t=e.split(/([\n{}])/g).map(e=>e.trim()).filter(e=>e.length);let n="";return t.map(e=>{let t=n+e;return"{"===e?n+="    ":"}"===e&&(n=n.substr(0,n.length-4),t=n+e),t}).join("\n")}var hs=n(9708),ps=n(4834),fs=n(3144),ms=n(1193),gs=n(3629),vs=n(454),bs=n(4994),_s=n(2388),xs=n(8700),ys=n(8608),Ss=n(8140),Ts=n(9216),ws=n(3021),As=n(4397),Es=n(8244);class Cs{constructor(e){this.priority=0,this.pipe="scissorMask",this.mask=e,this.mask.renderable=!1,this.mask.measurable=!1}addBounds(e,t){(0,As.d)(this.mask,e,t)}addLocalBounds(e,t){(0,Es.U)(this.mask,e,t)}containsPoint(e,t){return t(this.mask,e)}reset(){this.mask.measurable=!0,this.mask=null}destroy(){this.reset()}}var Rs=n(7740),Ms=n(8176),Ps=n(1695),ks=n(285),Bs=n(2182),Os=n(7422),Is=n(1398),Fs=n(8073),Gs=n(2646),Ns=n(5732),Ds=n(209),Us=n(1155),Ls=n(8907),js=n(5579),zs=n(7523),Xs=n(6515),Hs=n(1538),Vs=n(5759),Ws=n(9777),Ys=n(9963),qs=n(3224),Ks=n(5656),Qs=n(7686);function $s(e){return e=e.replaceAll("texture2D","texture").replaceAll("gl_FragColor","finalColor").replaceAll("varying","in"),e="\n        out vec4 finalColor;\n    ".concat(e,"\n    ")}var Zs=n(446),Js=n(7976),ea=n(2559),ta=n(249),na=n(6445),ra=n(7452),ia=n(87),sa=n(6258),aa=n(7533),oa=n(7170);const la={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ca(e){return la[e]}var ua=n(1447),da=n(4193),ha=n(8021),pa=n(6850),fa=n(7044),ma=n(7015),ga=n(5113),va=n(6663),ba=n(7059),_a=n(4988),xa=n(8155),ya=n(3862),Sa=n(3126),Ta=n(6021),wa=n(4845),Aa=n(9590),Ea=n(4164),Ca=n(9253),Ra=n(9514),Ma=n(7572),Pa=n(1498),ka=n(8625),Ba=n(7962),Oa=n(1500),Ia=n(2372);function Fa(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let n=0;n<t;n+=4){const t=e[n+3];if(0!==t){const r=255.001/t;e[n]=e[n]*r+.5,e[n+1]=e[n+1]*r+.5,e[n+2]=e[n+2]*r+.5}}}var Ga=n(1937),Na=n(3739),Da=n(8474),Ua=n(4643),La=n(1946),ja=n(7301),za=n(359),Xa=n(4983),Ha=n(4959),Va=n(607),Wa=n(1312),Ya=n(6490),qa=n(9707),Ka=n(1989),Qa=n(9984),$a=n(4670),Za=n(2590),Ja=n(4190),eo=n(6922),to=n(2864),no=n(3700),ro=n(9665),io=n(2888),so=n(1785),ao=n(9997),oo=n(971),lo=n(3662),co=n(7054),uo=n(6717),ho=n(4738),po=n(8983),fo=n(4101),mo=n(9121),go=n(6783),vo=n(4217),bo=n(1479),_o=n(2086),xo=n(4001),yo=n(5202),So=n(9486),To=n(6333),wo=n(7799),Ao=n(8403),Eo=n(618);const Co={POINTS:"point-list",LINES:"line-list",LINE_STRIP:"line-strip",TRIANGLES:"triangle-list",TRIANGLE_STRIP:"triangle-strip"},Ro=new Proxy(Co,{get:(e,t)=>((0,ie.t6)(ie.lj,"DRAW_MODES.".concat(t," is deprecated, use '").concat(Co[t],"' instead")),e[t])});var Mo=n(6876),Po=n(8980),ko=n(7393),Bo=n(663),Oo=n(1101),Io=n(347),Fo=n(6481),Go=n(5738),No=n(348),Do=n(9027),Uo=n(61),Lo=n(2084),jo=n(3636),zo=n(3702),Xo=n(9194),Ho=n(7526),Vo=n(9705),Wo=n(4709),Yo=n(8517),qo=n(9316),Ko=n(7358),Qo=n(2080),$o=n(8722),Zo=n(7574),Jo=n(9445),el=(e=>(e.CLAMP="clamp-to-edge",e.REPEAT="repeat",e.MIRRORED_REPEAT="mirror-repeat",e))(el||{});const tl=new Proxy(el,{get:(e,t)=>((0,ie.t6)(ie.lj,"DRAW_MODES.".concat(t," is deprecated, use '").concat(el[t],"' instead")),e[t])});var nl=(e=>(e.NEAREST="nearest",e.LINEAR="linear",e))(nl||{});const rl=new Proxy(nl,{get:(e,t)=>((0,ie.t6)(ie.lj,"DRAW_MODES.".concat(t," is deprecated, use '").concat(nl[t],"' instead")),e[t])});var il=n(8342),sl=n(7736),al=n(5852),ol=n(5937),ll=n(1333),cl=n(4055);class ul{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,n){const r=t.width,i=t.height;if(n){const t=e.width/2/r,s=e.height/2/i,a=e.x/r+t,o=e.y/i+s;n=he.E.add(n,he.E.NW),this.x0=a+t*he.E.uX(n),this.y0=o+s*he.E.uY(n),n=he.E.add(n,2),this.x1=a+t*he.E.uX(n),this.y1=o+s*he.E.uY(n),n=he.E.add(n,2),this.x2=a+t*he.E.uX(n),this.y2=o+s*he.E.uY(n),n=he.E.add(n,2),this.x3=a+t*he.E.uX(n),this.y3=o+s*he.E.uY(n)}else this.x0=e.x/r,this.y0=e.y/i,this.x1=(e.x+e.width)/r,this.y1=e.y/i,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/i,this.x3=e.x/r,this.y3=(e.y+e.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return"[pixi.js/core:TextureUvs x0=".concat(this.x0," y0=").concat(this.y0," x1=").concat(this.x1," y1=").concat(this.y1," x2=").concat(this.x2," y2=").concat(this.y2," x3=").concat(this.x3," y3=").concat(this.y3,"]")}}var dl=n(4664),hl=n(9258),pl=n(801);function fl(e){const t=e.toString(),n=t.indexOf("{"),r=t.lastIndexOf("}");if(-1===n||-1===r)throw new Error("getFunctionBody: No body found in function definition");return t.slice(n+1,r).trim()}var ml=n(1755),gl=n(958),vl=n(6395),bl=n(353);function _l(e,t){return(0,ie.t6)("8.7.0","Use container.getFastGlobalBounds() instead"),e.getFastGlobalBounds(!0,t)}var xl=n(1232),yl=n(5137),Sl=n(8263),Tl=n(119),wl=n(5681),Al=n(9921),El=n(3226),Cl=n(4445),Rl=n(616),Ml=n(3499),Pl=n(1364),kl=n(9447),Bl=n(4854),Ol=n(9667),Il=n(5157);const Fl=["render"];class Gl extends Kn.l{constructor(e){var t,n;"function"===typeof e&&(e={render:e});const{render:r}=e,s=(0,i.A)(e,Fl);super((0,a.A)({label:"RenderContainer"},s)),this.renderPipeId="customRender",this.batched=!1,r&&(this.render=r),this.containsPoint=null!==(t=e.containsPoint)&&void 0!==t?t:()=>!1,this.addBounds=null!==(n=e.addBounds)&&void 0!==n?n:()=>!1}updateBounds(){this._bounds.clear(),this.addBounds(this._bounds)}render(e){}}var Nl=n(1329),Dl=n(8381),Ul=n(1202),Ll=n(9787),jl=n(5398),zl=n(4985);function Xl(e,t,n){(0,ie.t6)("8.7.0","Please use container.collectRenderables instead.");const r=n.renderPipes?n:n.batch.renderer;return e.collectRenderables(t,r,null)}var Hl=n(4841),Vl=n(2300),Wl=n(1686),Yl=n(6225);function ql(e,t){const n=t._scale,r=t._pivot,i=t._position,s=n._x,a=n._y,o=r._x,l=r._y;e.a=t._cx*s,e.b=t._sx*s,e.c=t._cy*a,e.d=t._sy*a,e.tx=i._x-(o*e.a+l*e.c),e.ty=i._y-(o*e.b+l*e.d)}var Kl=n(6933);function Ql(e,t,n){const r=e.a,i=e.b,s=e.c,a=e.d,o=e.tx,l=e.ty,c=t.a,u=t.b,d=t.c,h=t.d;n.a=r*c+i*d,n.b=r*u+i*h,n.c=s*c+a*d,n.d=s*u+a*h,n.tx=o*c+l*d+t.tx,n.ty=o*u+l*h+t.ty}var $l=n(8215),Zl=n(7539),Jl=n(9385),ec=n(207),tc=n(9211),nc=n(5100),rc=n(6325),ic=n(193),sc=n(2442),ac=n(1288),oc=n(8039),lc=n(5221),cc=n(4679),uc=n(1823),dc=n(8046),hc=n(4579),pc=n(1845),fc=n(4325),mc=n(1201),gc=n(3027),vc=n(7927),bc=n(1070),_c=n(7867),xc=n(2678),yc=n(7078),Sc=n(1750),Tc=n(909),wc=n(1067),Ac=n(5084),Ec=n(2264),Cc=n(8933),Rc=n(4839),Mc=n(356),Pc=n(882),kc=n(6001);const Bc=class e extends ne.mc{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=(0,a.A)((0,a.A)({},e.defaultOptions),t),super(),this.renderLayerChildren=[],this.sortableChildren=t.sortableChildren,this.sortFunction=t.sortFunction}attach(){for(let e=0;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e];if(t.parentRenderLayer){if(t.parentRenderLayer===this)continue;t.parentRenderLayer.detach(t)}this.renderLayerChildren.push(t),t.parentRenderLayer=this;const n=this.renderGroup||this.parentRenderGroup;n&&(n.structureDidChange=!0)}return arguments.length<=0?void 0:arguments[0]}detach(){for(let e=0;e<arguments.length;e++){const t=e<0||arguments.length<=e?void 0:arguments[e],n=this.renderLayerChildren.indexOf(t);-1!==n&&this.renderLayerChildren.splice(n,1),t.parentRenderLayer=null;const r=this.renderGroup||this.parentRenderGroup;r&&(r.structureDidChange=!0)}return arguments.length<=0?void 0:arguments[0]}detachAll(){const e=this.renderLayerChildren;for(let t=0;t<e.length;t++)e[t].parentRenderLayer=null;this.renderLayerChildren.length=0}collectRenderables(e,t,n){const r=this.renderLayerChildren,i=r.length;this.sortableChildren&&this.sortRenderLayerChildren();for(let s=0;s<i;s++)r[s].parent||(0,Te.R)("Container must be added to both layer and scene graph. Layers only handle render order - the scene graph is required for transforms (addChild)",r[s]),r[s].collectRenderables(e,t,this)}sortRenderLayerChildren(){this.renderLayerChildren.sort(this.sortFunction)}_getGlobalBoundsRecursive(e,t,n){if(!e)return;const r=this.renderLayerChildren;for(let i=0;i<r.length;i++)r[i]._getGlobalBoundsRecursive(!0,t,this)}};Bc.defaultOptions={sortableChildren:!1,sortFunction:(e,t)=>e.zIndex-t.zIndex};const Oc=Bc;var Ic=n(9682);function Fc(e,t,n,r){const i=n.buffers[0],s=i.data,{verticesX:a,verticesY:o}=n,l=e/(a-1),c=t/(o-1);let u=0;const d=r[0],h=r[1],p=r[2],f=r[3],m=r[4],g=r[5],v=r[6],b=r[7],_=r[8];for(let x=0;x<s.length;x+=2){const e=u%a*l,t=(u/a|0)*c,n=d*e+h*t+p,r=f*e+m*t+g,i=v*e+b*t+_;s[x]=n/i,s[x+1]=r/i,u++}i.update()}function Gc(e,t){const n=t[0],r=t[1],i=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8];return e[0]=a*u-o*c,e[1]=i*c-r*u,e[2]=r*o-i*a,e[3]=o*l-s*u,e[4]=n*u-i*l,e[5]=i*s-n*o,e[6]=s*c-a*l,e[7]=r*l-n*c,e[8]=n*a-r*s,e}function Nc(e,t,n){const r=t[0],i=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],d=t[8],h=n[0],p=n[1],f=n[2],m=n[3],g=n[4],v=n[5],b=n[6],_=n[7],x=n[8];return e[0]=h*r+p*a+f*c,e[1]=h*i+p*o+f*u,e[2]=h*s+p*l+f*d,e[3]=m*r+g*a+v*c,e[4]=m*i+g*o+v*u,e[5]=m*s+g*l+v*d,e[6]=b*r+_*a+x*c,e[7]=b*i+_*o+x*u,e[8]=b*s+_*l+x*d,e}const Dc=[0,0,0,0,0,0,0,0,0],Uc=[0,0,0],Lc=[0,0,0];function jc(e,t,n,r,i,s,a,o,l){const c=Dc;c[0]=t,c[1]=r,c[2]=s,c[3]=n,c[4]=i,c[5]=a,c[6]=1,c[7]=1,c[8]=1;const u=Gc(e,c);Lc[0]=o,Lc[1]=l,Lc[2]=1;const d=function(e,t,n){const r=n[0],i=n[1],s=n[2];return e[0]=t[0]*r+t[1]*i+t[2]*s,e[1]=t[3]*r+t[4]*i+t[5]*s,e[2]=t[6]*r+t[7]*i+t[8]*s,e}(Uc,u,Lc),h=e;return e[0]=d[0],e[1]=0,e[2]=0,e[3]=0,e[4]=d[1],e[5]=0,e[6]=0,e[7]=0,e[8]=d[2],Nc(e,h,c)}const zc=[0,0,0,0,0,0,0,0,0],Xc=[0,0,0,0,0,0,0,0,0];function Hc(e,t,n,r,i,s,a,o,l,c,u,d,h,p,f,m,g){const v=jc(zc,t,n,s,a,c,u,p,f),b=jc(Xc,r,i,o,l,d,h,m,g);return Nc(e,Gc(v,v),b)}class Vc extends Ic.b{constructor(e){super(e),this._projectionMatrix=[0,0,0,0,0,0,0,0,0];const{width:t,height:n}=e;this.corners=[0,0,t,0,t,n,0,n]}setCorners(e,t,n,r,i,s,a,o){const l=this.corners;l[0]=e,l[1]=t,l[2]=n,l[3]=r,l[4]=i,l[5]=s,l[6]=a,l[7]=o,this.updateProjection()}updateProjection(){const{width:e,height:t}=this,n=this.corners;Fc(e,t,this,Hc(this._projectionMatrix,0,0,n[0],n[1],e,0,n[2],n[3],e,t,n[4],n[5],0,t,n[6],n[7]))}}const Wc=["texture","verticesX","verticesY"],Yc=class e extends _i{constructor(t){t=(0,a.A)((0,a.A)({},e.defaultOptions),t);const{texture:n,verticesX:r,verticesY:s}=t,o=(0,i.A)(t,Wc),l=new Vc((0,Hl.S)({width:n.width,height:n.height,verticesX:r,verticesY:s}));super((0,Hl.S)((0,a.A)((0,a.A)({},o),{},{geometry:l}))),this._texture=n,this.geometry.setCorners(t.x0,t.y0,t.x1,t.y1,t.x2,t.y2,t.x3,t.y3)}textureUpdated(){const e=this.geometry;if(!e)return;const{width:t,height:n}=this.texture;e.width===t&&e.height===n||(e.width=t,e.height=n,e.updateProjection())}set texture(e){this._texture!==e&&(super.texture=e,this.textureUpdated())}get texture(){return this._texture}setCorners(e,t,n,r,i,s,a,o){this.geometry.setCorners(e,t,n,r,i,s,a,o)}};Yc.defaultOptions={texture:b.g.WHITE,verticesX:10,verticesY:10,x0:0,y0:0,x1:100,y1:0,x2:100,y2:100,x3:0,y3:100};let qc=Yc;const Kc=["texture","verticesX","verticesY"];class Qc extends _i{constructor(e){const{texture:t,verticesX:n,verticesY:r}=e,s=(0,i.A)(e,Kc),o=new Ic.b((0,Hl.S)({width:t.width,height:t.height,verticesX:n,verticesY:r}));super((0,Hl.S)((0,a.A)((0,a.A)({},s),{},{geometry:o,texture:t}))),this.texture=t,this.autoResize=!0}textureUpdated(){const e=this.geometry,{width:t,height:n}=this.texture;!this.autoResize||e.width===t&&e.height===n||(e.width=t,e.height=n,e.build({}))}set texture(e){var t;null===(t=this._texture)||void 0===t||t.off("update",this.textureUpdated,this),super.texture=e,e.on("update",this.textureUpdated,this),this.textureUpdated()}get texture(){return this._texture}destroy(e){this.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const $c=class e extends vi.u{constructor(t){const{width:n,points:r,textureScale:i}=(0,a.A)((0,a.A)({},e.defaultOptions),t);super({positions:new Float32Array(4*r.length),uvs:new Float32Array(4*r.length),indices:new Uint32Array(6*(r.length-1))}),this.points=r,this._width=n,this.textureScale=i,this._build()}get width(){return this._width}_build(){const e=this.points;if(!e)return;const t=this.getBuffer("aPosition"),n=this.getBuffer("aUV"),r=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),n.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));const i=n.data,s=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;let a=0,o=e[0];const l=this._width*this.textureScale,c=e.length;for(let d=0;d<c;d++){const t=4*d;if(this.textureScale>0){const t=o.x-e[d].x,n=o.y-e[d].y,r=Math.sqrt(t*t+n*n);o=e[d],a+=r/l}else a=d/(c-1);i[t]=a,i[t+1]=0,i[t+2]=a,i[t+3]=1}let u=0;for(let d=0;d<c-1;d++){const e=2*d;s[u++]=e,s[u++]=e+1,s[u++]=e+2,s[u++]=e+2,s[u++]=e+1,s[u++]=e+3}n.update(),r.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t,n=e[0],r=0,i=0;const s=this.buffers[0].data,a=e.length,o=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let l=0;l<a;l++){const c=e[l],u=4*l;t=l<e.length-1?e[l+1]:c,i=-(t.x-n.x),r=t.y-n.y;let d=10*(1-l/(a-1));d>1&&(d=1);const h=Math.sqrt(r*r+i*i);h<1e-6?(r=0,i=0):(r/=h,i/=h,r*=o,i*=o),s[u]=c.x+r,s[u+1]=c.y+i,s[u+2]=c.x-r,s[u+3]=c.y-i,n=c}this.buffers[0].update()}update(){this.textureScale>0?this._build():this.updateVertices()}};$c.defaultOptions={width:200,points:[],textureScale:0};let Zc=$c;const Jc=["texture","points","textureScale"],eu=class e extends _i{constructor(t){const n=(0,a.A)((0,a.A)({},e.defaultOptions),t),{texture:r,points:s,textureScale:o}=n,l=(0,i.A)(n,Jc),c=new Zc((0,Hl.S)({width:r.height,points:s,textureScale:o}));o>0&&(r.source.style.addressMode="repeat"),super((0,Hl.S)((0,a.A)((0,a.A)({},l),{},{texture:r,geometry:c}))),this.autoUpdate=!0,this.onRender=this._render}_render(){const e=this.geometry;(this.autoUpdate||e._width!==this.texture.height)&&(e._width=this.texture.height,e.update())}};eu.defaultOptions={textureScale:0};let tu=eu;const nu=["texture","vertices","uvs","indices","topology"];class ru extends _i{constructor(e){const{texture:t,vertices:n,uvs:r,indices:s,topology:o}=e,l=(0,i.A)(e,nu),c=new vi.u((0,Hl.S)({positions:n,uvs:r,indices:s,topology:o}));super((0,Hl.S)((0,a.A)((0,a.A)({},l),{},{texture:t,geometry:c}))),this.autoUpdate=!0,this.onRender=this._render}get vertices(){return this.geometry.getBuffer("aPosition").data}set vertices(e){this.geometry.getBuffer("aPosition").data=e}_render(){this.autoUpdate&&this.geometry.getBuffer("aPosition").update()}}var iu=n(3063),su=n(1009),au=n(475);function ou(e,t){const{width:n,height:r}=e.frame;return t.scale(1/n,1/r),t}var lu=n(8551),cu=n(3798),uu=n(4794),du=n(3097),hu=n(106);const pu=class e{constructor(t){if(t instanceof b.g)this.texture=t,(0,Ll.s)(this,e.defaultOptions,{});else{const n=(0,a.A)((0,a.A)({},e.defaultOptions),t);(0,Ll.s)(this,n,{})}}get alpha(){return this._alpha}set alpha(e){this._alpha=Math.min(Math.max(e,0),1),this._updateColor()}get tint(){return(0,Ml.D)(this._tint)}set tint(e){this._tint=kt.Q.shared.setValue(null!==e&&void 0!==e?e:16777215).toBgrNumber(),this._updateColor()}_updateColor(){this.color=this._tint+(255*this._alpha<<24)}};pu.defaultOptions={anchorX:0,anchorY:0,x:0,y:0,scaleX:1,scaleY:1,rotation:0,tint:16777215,alpha:1};let fu=pu;var mu=n(1887);const gu={vertex:{attributeName:"aVertex",format:"float32x2",code:"\n            const texture = p.texture;\n            const sx = p.scaleX;\n            const sy = p.scaleY;\n            const ax = p.anchorX;\n            const ay = p.anchorY;\n            const trim = texture.trim;\n            const orig = texture.orig;\n\n            if (trim)\n            {\n                w1 = trim.x - (ax * orig.width);\n                w0 = w1 + trim.width;\n\n                h1 = trim.y - (ay * orig.height);\n                h0 = h1 + trim.height;\n            }\n            else\n            {\n                w1 = -ax * (orig.width);\n                w0 = w1 + orig.width;\n\n                h1 = -ay * (orig.height);\n                h0 = h1 + orig.height;\n            }\n\n            f32v[offset] = w1 * sx;\n            f32v[offset + 1] = h1 * sy;\n\n            f32v[offset + stride] = w0 * sx;\n            f32v[offset + stride + 1] = h1 * sy;\n\n            f32v[offset + (stride * 2)] = w0 * sx;\n            f32v[offset + (stride * 2) + 1] = h0 * sy;\n\n            f32v[offset + (stride * 3)] = w1 * sx;\n            f32v[offset + (stride * 3) + 1] = h0 * sy;\n        ",dynamic:!1},position:{attributeName:"aPosition",format:"float32x2",code:"\n            var x = p.x;\n            var y = p.y;\n\n            f32v[offset] = x;\n            f32v[offset + 1] = y;\n\n            f32v[offset + stride] = x;\n            f32v[offset + stride + 1] = y;\n\n            f32v[offset + (stride * 2)] = x;\n            f32v[offset + (stride * 2) + 1] = y;\n\n            f32v[offset + (stride * 3)] = x;\n            f32v[offset + (stride * 3) + 1] = y;\n        ",dynamic:!0},rotation:{attributeName:"aRotation",format:"float32",code:"\n            var rotation = p.rotation;\n\n            f32v[offset] = rotation;\n            f32v[offset + stride] = rotation;\n            f32v[offset + (stride * 2)] = rotation;\n            f32v[offset + (stride * 3)] = rotation;\n        ",dynamic:!1},uvs:{attributeName:"aUV",format:"float32x2",code:"\n            var uvs = p.texture.uvs;\n\n            f32v[offset] = uvs.x0;\n            f32v[offset + 1] = uvs.y0;\n\n            f32v[offset + stride] = uvs.x1;\n            f32v[offset + stride + 1] = uvs.y1;\n\n            f32v[offset + (stride * 2)] = uvs.x2;\n            f32v[offset + (stride * 2) + 1] = uvs.y2;\n\n            f32v[offset + (stride * 3)] = uvs.x3;\n            f32v[offset + (stride * 3) + 1] = uvs.y3;\n        ",dynamic:!1},color:{attributeName:"aColor",format:"unorm8x4",code:"\n            const c = p.color;\n\n            u32v[offset] = c;\n            u32v[offset + stride] = c;\n            u32v[offset + (stride * 2)] = c;\n            u32v[offset + (stride * 3)] = c;\n        ",dynamic:!1}},vu=["dynamicProperties","shader","roundPixels","texture","particles"],bu=new Ln.c(0,0,0,0),_u=class e extends Kn.l{constructor(){var t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=(0,a.A)((0,a.A)((0,a.A)({},e.defaultOptions),n),{},{dynamicProperties:(0,a.A)((0,a.A)({},e.defaultOptions.dynamicProperties),null===(t=n)||void 0===t?void 0:t.dynamicProperties)});const{dynamicProperties:r,shader:s,roundPixels:o,texture:l,particles:c}=n,u=(0,i.A)(n,vu);super((0,a.A)({label:"ParticleContainer"},u)),this.renderPipeId="particle",this.batched=!1,this._childrenDirty=!1,this.texture=l||null,this.shader=s,this._properties={};for(const e in gu){const t=gu[e],n=r[e];this._properties[e]=(0,a.A)((0,a.A)({},t),{},{dynamic:n})}this.allowChildren=!0,this.roundPixels=null!==o&&void 0!==o&&o,this.particleChildren=null!==c&&void 0!==c?c:[]}addParticle(){for(let e=0;e<arguments.length;e++)this.particleChildren.push(e<0||arguments.length<=e?void 0:arguments[e]);return this.onViewUpdate(),arguments.length<=0?void 0:arguments[0]}removeParticle(){let e=!1;for(let t=0;t<arguments.length;t++){const n=this.particleChildren.indexOf(t<0||arguments.length<=t?void 0:arguments[t]);n>-1&&(this.particleChildren.splice(n,1),e=!0)}return e&&this.onViewUpdate(),arguments.length<=0?void 0:arguments[0]}update(){this._childrenDirty=!0}onViewUpdate(){this._childrenDirty=!0,super.onViewUpdate()}get bounds(){return bu}updateBounds(){}destroy(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];super.destroy(t);if("boolean"===typeof t?t:null===t||void 0===t?void 0:t.texture){var n,r;const e="boolean"===typeof t?t:null===t||void 0===t?void 0:t.textureSource,i=null!==(n=this.texture)&&void 0!==n?n:null===(r=this.particleChildren[0])||void 0===r?void 0:r.texture;i&&i.destroy(e)}this.texture=null,null===(e=this.shader)||void 0===e||e.destroy()}removeParticles(e,t){null!==e&&void 0!==e||(e=0),null!==t&&void 0!==t||(t=this.particleChildren.length);const n=this.particleChildren.splice(e,t-e);return this.onViewUpdate(),n}removeParticleAt(e){const t=this.particleChildren.splice(e,1);return this.onViewUpdate(),t[0]}addParticleAt(e,t){return this.particleChildren.splice(t,0,e),this.onViewUpdate(),e}addChild(){throw new Error("ParticleContainer.addChild() is not available. Please use ParticleContainer.addParticle()")}removeChild(){throw new Error("ParticleContainer.removeChild() is not available. Please use ParticleContainer.removeParticle()")}removeChildren(e,t){throw new Error("ParticleContainer.removeChildren() is not available. Please use ParticleContainer.removeParticles()")}removeChildAt(e){throw new Error("ParticleContainer.removeChildAt() is not available. Please use ParticleContainer.removeParticleAt()")}getChildAt(e){throw new Error("ParticleContainer.getChildAt() is not available. Please use ParticleContainer.getParticleAt()")}setChildIndex(e,t){throw new Error("ParticleContainer.setChildIndex() is not available. Please use ParticleContainer.setParticleIndex()")}getChildIndex(e){throw new Error("ParticleContainer.getChildIndex() is not available. Please use ParticleContainer.getParticleIndex()")}addChildAt(e,t){throw new Error("ParticleContainer.addChildAt() is not available. Please use ParticleContainer.addParticleAt()")}swapChildren(e,t){throw new Error("ParticleContainer.swapChildren() is not available. Please use ParticleContainer.swapParticles()")}reparentChild(){throw new Error("ParticleContainer.reparentChild() is not available with the particle container")}reparentChildAt(e,t){throw new Error("ParticleContainer.reparentChildAt() is not available with the particle container")}};_u.defaultOptions={dynamicProperties:{vertex:!1,position:!0,rotation:!1,uvs:!1,color:!1},roundPixels:!1};let xu=_u;var yu=n(9978),Su=n(5270),Tu=n(8563),wu=n(4513),Au=n(1306);const Eu=["width","height","anchor","leftWidth","rightWidth","topHeight","bottomHeight","texture","roundPixels"],Cu=class e extends Kn.l{constructor(t){var n,r,s,o,l,c,u,d,h,p;t instanceof b.g&&(t={texture:t});const{width:f,height:m,anchor:g,leftWidth:v,rightWidth:_,topHeight:x,bottomHeight:y,texture:S,roundPixels:T}=t,w=(0,i.A)(t,Eu);super((0,a.A)({label:"NineSliceSprite"},w)),this.renderPipeId="nineSliceSprite",this.batched=!0,this._leftWidth=null!==(n=null!==v&&void 0!==v?v:null===S||void 0===S||null===(r=S.defaultBorders)||void 0===r?void 0:r.left)&&void 0!==n?n:Au.P.defaultOptions.leftWidth,this._topHeight=null!==(s=null!==x&&void 0!==x?x:null===S||void 0===S||null===(o=S.defaultBorders)||void 0===o?void 0:o.top)&&void 0!==s?s:Au.P.defaultOptions.topHeight,this._rightWidth=null!==(l=null!==_&&void 0!==_?_:null===S||void 0===S||null===(c=S.defaultBorders)||void 0===c?void 0:c.right)&&void 0!==l?l:Au.P.defaultOptions.rightWidth,this._bottomHeight=null!==(u=null!==y&&void 0!==y?y:null===S||void 0===S||null===(d=S.defaultBorders)||void 0===d?void 0:d.bottom)&&void 0!==u?u:Au.P.defaultOptions.bottomHeight,this._width=null!==(h=null!==f&&void 0!==f?f:S.width)&&void 0!==h?h:Au.P.defaultOptions.width,this._height=null!==(p=null!==m&&void 0!==m?m:S.height)&&void 0!==p?p:Au.P.defaultOptions.height,this.allowChildren=!1,this.texture=null!==S&&void 0!==S?S:e.defaultOptions.texture,this.roundPixels=null!==T&&void 0!==T&&T,this._anchor=new ri.o({_onUpdate:()=>{this.onViewUpdate()}}),g?this.anchor=g:this.texture.defaultAnchor&&(this.anchor=this.texture.defaultAnchor)}get anchor(){return this._anchor}set anchor(e){"number"===typeof e?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return this._width}set width(e){this._width=e,this.onViewUpdate()}get height(){return this._height}set height(e){this._height=e,this.onViewUpdate()}setSize(e,t){var n;"object"===typeof e&&(t=null!==(n=e.height)&&void 0!==n?n:e.width,e=e.width);this._width=e,this._height=null!==t&&void 0!==t?t:e,this.onViewUpdate()}getSize(e){return e||(e={}),e.width=this._width,e.height=this._height,e}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this.onViewUpdate()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this.onViewUpdate()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this.onViewUpdate()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this.onViewUpdate()}get texture(){return this._texture}set texture(e){e||(e=b.g.EMPTY);const t=this._texture;t!==e&&(t&&t.dynamic&&t.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this.onViewUpdate())}get originalWidth(){return this._texture.width}get originalHeight(){return this._texture.height}destroy(e){super.destroy(e);if("boolean"===typeof e?e:null===e||void 0===e?void 0:e.texture){const t="boolean"===typeof e?e:null===e||void 0===e?void 0:e.textureSource;this._texture.destroy(t)}this._texture=null}updateBounds(){const e=this._bounds,t=this._anchor,n=this._width,r=this._height;e.minX=-t._x*n,e.maxX=e.minX+n,e.minY=-t._y*r,e.maxY=e.minY+r}};Cu.defaultOptions={texture:b.g.EMPTY};let Ru=Cu;class Mu extends Ru{constructor(){let e=arguments.length<=0?void 0:arguments[0];e instanceof b.g&&((0,ie.t6)(ie.lj,"NineSlicePlane now uses the options object {texture, leftWidth, rightWidth, topHeight, bottomHeight}"),e={texture:e,leftWidth:arguments.length<=1?void 0:arguments[1],topHeight:arguments.length<=2?void 0:arguments[2],rightWidth:arguments.length<=3?void 0:arguments[3],bottomHeight:arguments.length<=4?void 0:arguments[4]}),(0,ie.t6)(ie.lj,"NineSlicePlane is deprecated. Use NineSliceSprite instead."),super(e)}}var Pu=n(1285),ku=n(5680),Bu=n(4963),Ou=n(3134),Iu=n(8693),Fu=n(4119),Gu=n(794),Nu=n(7810),Du=n(1669),Uu=n(3545),Lu=n(9834),ju=n(131),zu=n(5310);function Xu(e){const{text:t,style:n,chars:r}=e,i=n,s=me.c.getFont(t,i),a=ki.P.graphemeSegmenter(t),o=(0,zu.Z)(a,i,s,!0),l=o.scale,c=[],u=[],d=[],h=n.lineHeight?n.lineHeight:s.lineHeight*l;let p=0;for(const f of o.lines){if(0===f.chars.length)continue;const e=new ne.mc({label:"line"});e.y=p,d.push(e);let t=new ne.mc({label:"word"}),n=0;for(let a=0;a<f.chars.length;a++){const o=f.chars[a];if(!o)continue;if(!s.chars[o])continue;const d=" "===o,h=a===f.chars.length-1;let p;r.length>0?(p=r.shift(),p.text=o,p.style=i,p.label="char-".concat(o),p.x=f.charPositions[a]*l-f.charPositions[n]*l):p=new Fi({text:o,style:i,label:"char-".concat(o),x:f.charPositions[a]*l-f.charPositions[n]*l}),d||(c.push(p),t.addChild(p)),(d||h)&&t.children.length>0&&(t.x=f.charPositions[n]*l,u.push(t),e.addChild(t),t=new ne.mc({label:"word"}),n=a+1)}p+=h}return{chars:c,lines:d,words:u}}var Hu=n(4984),Vu=n(1394),Wu=n(9918),Yu=n(2794),qu=n(8017),Ku=n(7338),Qu=n(1062),$u=n(6379),Zu=n(3994),Ju=n(7616),ed=n(798),td=n(5567);const nd=["text","style","autoSplit","lineAnchor","wordAnchor","charAnchor"];class rd extends ne.mc{constructor(e){const{text:t,style:n,autoSplit:r,lineAnchor:s,wordAnchor:a,charAnchor:o}=e;super((0,i.A)(e,nd)),this._dirty=!1,this._canReuseChars=!1,this.chars=[],this.words=[],this.lines=[],this._originalText=t,this._autoSplit=r,this._lineAnchor=s,this._wordAnchor=a,this._charAnchor=o,this.style=n}split(){const e=this.splitFn();this.chars=e.chars,this.words=e.words,this.lines=e.lines,this.addChild(...this.lines),this.charAnchor=this._charAnchor,this.wordAnchor=this._wordAnchor,this.lineAnchor=this._lineAnchor,this._dirty=!1,this._canReuseChars=!0}get text(){return this._originalText}set text(e){this._originalText=e,this.lines.forEach(e=>e.destroy({children:!0})),this.lines.length=0,this.words.length=0,this.chars.length=0,this._canReuseChars=!1,this.onTextUpdate()}_setOrigin(e,t,n){let r;r="number"===typeof e?{x:e,y:e}:{x:e.x,y:e.y},t.forEach(e=>{const t=e.getLocalBounds(),n=t.minX+t.width*r.x,i=t.minY+t.height*r.y;e.origin.set(n,i)}),this[n]=e}get lineAnchor(){return this._lineAnchor}set lineAnchor(e){this._setOrigin(e,this.lines,"_lineAnchor")}get wordAnchor(){return this._wordAnchor}set wordAnchor(e){this._setOrigin(e,this.words,"_wordAnchor")}get charAnchor(){return this._charAnchor}set charAnchor(e){this._setOrigin(e,this.chars,"_charAnchor")}get style(){return this._style}set style(e){e||(e={}),this._style=new Bi.x(e),this.words.forEach(e=>e.destroy()),this.words.length=0,this.lines.forEach(e=>e.destroy()),this.lines.length=0,this._canReuseChars=!0,this.onTextUpdate()}onTextUpdate(){this._dirty=!0,this._autoSplit&&this.split()}destroy(e){super.destroy(e),this.chars=[],this.words=[],this.lines=[],("boolean"===typeof e?e:null===e||void 0===e?void 0:e.style)&&this._style.destroy(e),this._style=null,this._originalText=""}}const id=class e extends rd{constructor(t){super((0,a.A)((0,a.A)({},e.defaultOptions),t))}static from(t,n){const r=(0,a.A)((0,a.A)((0,a.A)({},e.defaultOptions),n),{},{text:t.text,style:new Bi.x(t.style)});return new e((0,a.A)({},r))}splitFn(){return Xu({text:this._originalText,style:this._style,chars:this._canReuseChars?this.chars:[]})}};id.defaultOptions={autoSplit:!0,lineAnchor:0,wordAnchor:0,charAnchor:0};let sd=id;function ad(e){return"\r"===e||"\n"===e||"\r\n"===e}function od(e){var t,n;const{text:r,style:i,chars:s}=e,a=i,o=ki.P.measureText(r,a),l=function(e,t,n){const r=[];let i=t.lines[0],s="",a=[],o=0;return n.wordWrap=!1,e.forEach(e=>{const l=/^\s*$/.test(e),c=ad(e),u=0===s.length&&l;if(l&&!c&&u)return;c||(s+=e);const d=ki.P.measureText(e,n);a.push({char:e,metric:d}),s.length>=i.length&&(r.push({line:s,chars:a,width:a.reduce((e,t)=>e+t.metric.width,0)}),a=[],s="",o++,i=t.lines[o])}),r}(ki.P.graphemeSegmenter(r),o,a.clone()),c=a.align,u=o.lineWidths.reduce((e,t)=>Math.max(e,t),0),d=[],h=[],p=[];let f=0;const m=(null===(t=a.stroke)||void 0===t?void 0:t.width)||0,g=(null===(n=a.dropShadow)||void 0===n?void 0:n.distance)||0;return l.forEach((e,t)=>{const n=new ne.mc({label:"line-".concat(t)});n.y=f,h.push(n);const r=o.lineWidths[t];let i=function(e,t,n){switch(e){case"center":return(n-t)/2;case"right":return n-t;default:return 0}}(c,r,u),l=new ne.mc({label:"word"});l.x=i,e.chars.forEach((e,t)=>{if(0!==e.metric.width)if(ad(e.char))i+=e.metric.width-m;else if(" "===e.char)l.children.length>0&&(p.push(l),n.addChild(l)),i+=e.metric.width+a.letterSpacing-m,l=new ne.mc({label:"word"}),l.x=i;else{let n;s.length>0?(n=s.shift(),n.text=e.char,n.style=a,n.setFromMatrix(Xr.u.IDENTITY),n.x=i-l.x-g*t):n=new Oi({text:e.char,style:a,x:i-l.x-g*t}),d.push(n),l.addChild(n),i+=e.metric.width+a.letterSpacing-m}}),l.children.length>0&&(p.push(l),n.addChild(l)),f+=o.lineHeight}),{chars:d,lines:h,words:p}}const ld=class e extends rd{constructor(t){super((0,a.A)((0,a.A)({},e.defaultOptions),t))}static from(t,n){const r=(0,a.A)((0,a.A)((0,a.A)({},e.defaultOptions),n),{},{text:t.text,style:new Bi.x(t.style)});return new e((0,a.A)({},r))}splitFn(){return od({text:this._originalText,style:this._style,chars:this._canReuseChars?this.chars:[]})}};ld.defaultOptions={autoSplit:!0,lineAnchor:0,wordAnchor:0,charAnchor:0};let cd=ld;var ud=n(9736),dd=n(8742),hd=n(7625),pd=n(1915),fd=n(5435),md=n(9521),gd=n(3552),vd=n(7381),bd=n(3686),_d=n(4749),xd=n(6595),yd=n(9652),Sd=n(8984),Td=n(6978),wd=n(9471),Ad=n(5750),Ed=n(4668),Cd=n(4999),Rd=n(1274),Md=n(2604),Pd=n(4479),kd=n(3772),Bd=n(2026),Od=n(3693),Id=n(1013);async function Fd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;const r=await t.extract.base64(e);await t.encoder.commandFinished;const i=n;console.log("logging texture ".concat(e.source.width,"px ").concat(e.source.height,"px"));const s=["font-size: 1px;","padding: ".concat(i,"px ",300,"px;"),"background: url(".concat(r,") no-repeat;"),"background-size: contain;"].join(" ");console.log("%c ",s)}const Gd=["#000080","#228B22","#8B0000","#4169E1","#008080","#800000","#9400D3","#FF8C00","#556B2F","#8B008B"];let Nd=0;function Dd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{color:"#000000"};e.renderGroup&&(n.color=Gd[Nd++]);let r="";for(let a=0;a<t;a++)r+="    ";let i=e.label;!i&&e instanceof Hr.k&&(i="sprite:".concat(e.texture.label));let s="%c ".concat(r,"|- ").concat(i," (worldX:").concat(e.worldTransform.tx,", relativeRenderX:").concat(e.relativeGroupTransform.tx,", renderX:").concat(e.groupTransform.tx,", localX:").concat(e.x,")");e.renderGroup&&(s+=" (RenderGroup)"),e.filters&&(s+="(*filters)"),console.log(s,"color:".concat(n.color,"; font-weight:bold;")),t++;for(let o=0;o<e.children.length;o++){Dd(e.children[o],t,(0,a.A)({},n))}}function Ud(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{index:0,color:"#000000"},r="";for(let s=0;s<t;s++)r+="    ";const i="%c ".concat(r,"- ").concat(n.index,": ").concat(e.root.label," worldX:").concat(e.worldTransform.tx);console.log(i,"color:".concat(n.color,"; font-weight:bold;")),t++;for(let s=0;s<e.renderGroupChildren.length;s++){Ud(e.renderGroupChildren[s],t,(0,a.A)((0,a.A)({},n),{},{index:s}))}}var Ld=n(8964),jd=n(8152),zd=n(9769),Xd=n(1446),Hd=n(1411);u.XO.add(d,h);const Vd=n=>{let{isActive:r,element:i}=n;const s=(0,t.useRef)(null),a=(0,t.useRef)(null),l=(0,t.useMemo)(()=>window.innerWidth<=768||window.innerHeight<=768,[]),c=(0,t.useMemo)(()=>window.innerWidth<=480||window.innerHeight<=480,[]),u=(0,t.useMemo)(()=>({fire:{primary:16729943,secondary:16739179,glow:16726072},water:{primary:3621626,secondary:5460717,glow:3093826},earth:{primary:3069299,secondary:2547329,glow:2146155}}),[]);return(0,t.useEffect)(()=>{if(s.current&&r&&e)try{const e=new ae({width:window.innerWidth,height:window.innerHeight,backgroundColor:0,antialias:!l,resolution:c?1:window.devicePixelRatio||1,powerPreference:"high-performance"});e.view&&e.view instanceof HTMLCanvasElement&&s.current.appendChild(e.view),a.current=e;const t=u[i],n=()=>{const n=new fi.A;if(n.beginFill(t.secondary),c)n.drawPolygon([0,-8,8,0,0,8,-8,0]);else if(l){const e=[];for(let t=0;t<8;t++){const n=t*Math.PI/4,r=t%2===0?8:4;e.push(Math.cos(n)*r,Math.sin(n)*r)}n.drawPolygon(e)}else{const e=[];for(let t=0;t<10;t++){const n=t*Math.PI/5,r=t%2===0?10:5;e.push(Math.cos(n)*r,Math.sin(n)*r)}n.drawPolygon(e)}n.endFill(),n.x=Math.random()*e.screen.width,n.y=Math.random()*e.screen.height,n.alpha=.8,e.stage.addChild(n);const r=()=>{const t=c?1:l?1.5:2,i=c?.025:l?.022:.02,s=c?.08:l?.09:.1;n.y-=t,n.alpha-=i,n.rotation+=s,n.alpha<=0||n.y<-20?(e.stage.removeChild(n),n.destroy()):requestAnimationFrame(r)};r()},r=()=>{if("fire"===i){const n=c?1:l?2:3;for(let r=0;r<n;r++){const n=new fi.A;n.beginFill(t.primary);const r=c?2*Math.random()+1:3*Math.random()+2;n.drawCircle(0,0,r),n.endFill(),n.x=Math.random()*e.screen.width,n.y=e.screen.height+10,e.stage.addChild(n);const i=()=>{const t=c?2*Math.random()+.5:3*Math.random()+1,r=c?1:2;n.y-=t,n.x+=(Math.random()-.5)*r,n.alpha-=.01,n.alpha<=0||n.y<-10?(e.stage.removeChild(n),n.destroy()):requestAnimationFrame(i)};i()}}else if("water"===i){const n=new fi.A,r=c?1:l?1.5:2,i=c?20:l?25:30;n.lineStyle(r,t.primary,.6),n.drawCircle(0,0,i),n.x=Math.random()*e.screen.width,n.y=Math.random()*e.screen.height,e.stage.addChild(n);const s=()=>{const t=c?.025:l?.028:.03,r=c?.025:l?.023:.02;n.scale.x+=t,n.scale.y+=t,n.alpha-=r,n.alpha<=0?(e.stage.removeChild(n),n.destroy()):requestAnimationFrame(s)};s()}else if("earth"===i){const n=new fi.A;n.beginFill(t.primary),c?n.drawPolygon([-3,6,3,6,5,0,3,-6,-3,-6,-5,0]):l?n.drawPolygon([-4,8,4,8,6,0,4,-8,-4,-8,-6,0]):n.drawPolygon([-5,10,5,10,8,0,5,-10,-5,-10,-8,0]),n.endFill(),n.x=Math.random()*e.screen.width,n.y=Math.random()*e.screen.height,n.alpha=.8,e.stage.addChild(n);const r=()=>{const t=c?.5:l?.8:1,i=c?.03:l?.04:.05;n.y-=t,n.rotation+=i,n.alpha-=.01,n.alpha<=0||n.y<-20?(e.stage.removeChild(n),n.destroy()):requestAnimationFrame(r)};r()}},o=setInterval(()=>{const n=new fi.A,r=c?1:l?2:3,i=c?30:l?40:50;n.lineStyle(r,t.primary,.8),n.drawCircle(0,0,i),n.x=Math.random()*e.screen.width,n.y=Math.random()*e.screen.height,e.stage.addChild(n);const s=()=>{const t=c?.015:l?.018:.02,r=c?.015:l?.012:.01;n.scale.x+=t,n.scale.y+=t,n.alpha-=r,n.alpha<=0?(e.stage.removeChild(n),n.destroy()):requestAnimationFrame(s)};s()},c?300:l?250:200),d=setInterval(n,c?250:l?200:150),h=setInterval(r,c?400:l?350:300);return()=>{clearInterval(o),clearInterval(d),clearInterval(h),e&&e.destroy(!0)}}catch(t){return}},[r,i,u,l,c]),r?(0,o.jsx)("div",{ref:s,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:9999}}):null},Wd=n=>{var r,i,s,a,l,c,u,d,h;let{gameState:p,opponentElement:f,onAnimationComplete:m,battleResult:g}=n;const[v,_]=(0,t.useState)("intro"),[x,y]=(0,t.useState)("player"),[S,T]=(0,t.useState)(window.innerWidth<768),w=(0,t.useRef)(null),A=(0,t.useRef)(null),E=(0,t.useRef)(null),C={fire:{emoji:"\ud83d\udd25",color:"#ff4757",name:"Fire"},water:{emoji:"\ud83d\udca7",color:"#3742fa",name:"Water"},earth:{emoji:"\ud83c\udf0d",color:"#2ed573",name:"Earth"}};(0,t.useEffect)(()=>{if(w.current&&e)try{const e=new ae({width:window.innerWidth,height:window.innerHeight,backgroundColor:657930,antialias:!0,resolution:Math.min(window.devicePixelRatio||1,2)});e.view&&e.view instanceof HTMLCanvasElement&&w.current.appendChild(e.view),A.current=e;const t=new ne.mc;e.stage.addChild(t),E.current=t;const n=S?50:100;for(let i=0;i<n;i++){const n=new Hr.k(b.g.WHITE);n.width=n.height=2*Math.random()+.5,n.x=Math.random()*e.screen.width,n.y=Math.random()*e.screen.height,n.alpha=.5*Math.random()+.1,n.tint=16777215,t.addChild(n)}const r=()=>{t.children.forEach(t=>{t instanceof Hr.k&&(t.y-=.5,t.alpha=.3*Math.sin(.001*Date.now()+.01*t.x)+.2,t.y<-10&&(t.y=e.screen.height+10))})};return e.ticker.add(r),()=>{e&&e.destroy(!0)}}catch(t){return}},[S]),(0,t.useEffect)(()=>{const e=()=>{T(window.innerWidth<768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,t.useEffect)(()=>{var e;const t=[],n=p.player.selectedElemental,r=null===(e=p.currentOpponent)||void 0===e?void 0:e.elemental;return[{delay:2e3,action:()=>_("intro")},{delay:5e3,action:()=>_("cards")},...n&&r?[{delay:9e3,action:()=>_("elementals")},{delay:21e3,action:()=>_("result")},{delay:25e3,action:m}]:[{delay:9e3,action:()=>_("result")},{delay:13e3,action:m}]].forEach(e=>{let{delay:n,action:r}=e;const i=setTimeout(r,n);t.push(i)}),()=>{t.forEach(e=>clearTimeout(e))}},[m,p.player.selectedElemental,null===(r=p.currentOpponent)||void 0===r?void 0:r.elemental]),(0,t.useEffect)(()=>{var e;if("elementals"!==v)return void y("player");const t=p.player.selectedElemental,n=null===(e=p.currentOpponent)||void 0===e?void 0:e.elemental;if(!(t&&n))return;const r=[];return[{delay:0,action:()=>y("player")},{delay:2e3,action:()=>y("opponent")},{delay:4e3,action:()=>y("battle")},{delay:6e3,action:()=>y("winner")}].forEach(e=>{let{delay:t,action:n}=e;const i=setTimeout(n,t);r.push(i)}),()=>{r.forEach(e=>clearTimeout(e))}},[v,p.player.selectedElemental,null===(i=p.currentOpponent)||void 0===i?void 0:i.elemental]);const R=e=>{let{element:t,isAnimating:n=!1}=e;const r=C[t];return(0,o.jsxs)("div",{className:"user-card ".concat(n?"card-animate":""),style:{background:"linear-gradient(135deg, ".concat(r.color,"20 0%, ").concat(r.color,"10 100%)"),borderRadius:"10px",padding:S?"8px":"10px",width:S?"120px":"140px",textAlign:"center",color:"white",position:"relative",overflow:"hidden"},children:[(0,o.jsx)("div",{className:"card-glow",style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at center, ".concat(r.color,"30 0%, transparent 70%)"),borderRadius:"10px",animation:n?"glowPulse 1s ease-in-out infinite":"none"}}),(0,o.jsxs)("div",{style:{background:"".concat(r.color,"30"),padding:S?"6px":"8px",borderRadius:"8px"},children:[(0,o.jsx)("div",{style:{fontSize:S?"1.5rem":"2rem",marginBottom:"5px"},children:r.emoji}),(0,o.jsx)("div",{style:{fontSize:S?"0.7rem":"0.8rem",opacity:.9},children:r.name})]})]})};return(0,o.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1e4,background:"linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[(0,o.jsx)("div",{ref:w,style:{position:"absolute",top:0,left:0}}),(0,o.jsx)(Vd,{isActive:"elementals"===v,element:p.player.selectedElement||"fire"}),(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"\n            radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),\n            radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),\n            radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%)\n          ",animation:"pulse 4s ease-in-out infinite"}}),(0,o.jsx)("div",{style:{position:"absolute",width:S?"200px":"300px",height:S?"200px":"300px",border:"2px solid rgba(255, 255, 255, 0.1)",borderRadius:"50%",animation:"rotate 20s linear infinite"}}),(0,o.jsx)("div",{style:{position:"absolute",width:S?"150px":"250px",height:S?"150px":"250px",border:"1px solid rgba(255, 255, 255, 0.05)",borderRadius:"50%",animation:"rotate 15s linear infinite reverse"}}),(0,o.jsxs)("div",{style:{textAlign:"center",color:"white",zIndex:1,width:"100%",maxWidth:"800px"},children:["intro"===v&&(0,o.jsxs)("div",{style:{animation:"fadeIn 1s ease-in"},children:[(0,o.jsx)("h1",{style:{fontSize:S?"1.8rem":"2.5rem",marginBottom:S?"1rem":"1.5rem",textShadow:"0 0 20px rgba(255, 255, 255, 0.8)",background:"linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",padding:S?"0 1rem":"0"},children:"\u2694\ufe0f BATTLE \u2694\ufe0f"}),(0,o.jsx)("div",{style:{fontSize:S?"0.9rem":"1rem",opacity:.8,padding:S?"0 1rem":"0"},children:"Prepare for the ultimate elemental clash!"})]}),"cards"===v&&(0,o.jsxs)("div",{style:{animation:"fadeIn 1s ease-in"},children:[(0,o.jsx)("h2",{style:{fontSize:S?"1.4rem":"1.8rem",marginBottom:S?"1.5rem":"2rem",padding:S?"0 1rem":"0"},children:"Champions Enter the Arena!"}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:S?"1.5rem":"2.5rem",flexWrap:"wrap",padding:S?"0 1rem":"0"},children:[(0,o.jsx)(R,{element:p.player.selectedElement||"fire",isAnimating:!0}),(0,o.jsx)("div",{style:{fontSize:S?"1.5rem":"2rem",animation:"pulse 1s ease-in-out infinite",textShadow:"0 0 15px rgba(255, 255, 255, 0.8)"},children:"\u2694\ufe0f"}),(0,o.jsx)(R,{element:f,isAnimating:!0})]})]}),"elementals"===v&&(0,o.jsxs)("div",{style:{animation:"fadeIn 1s ease-in"},children:[(0,o.jsxs)("h2",{style:{fontSize:S?"1.4rem":"1.8rem",marginBottom:S?"1.5rem":"2rem",padding:S?"0 1rem":"0"},children:["player"===x&&"Your Elemental Appears!","opponent"===x&&"Opponent's Elemental Appears!","battle"===x&&"Elementals Battle!","winner"===x&&"Battle Result!"]}),(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:S?"1.5rem":"3rem",flexWrap:"wrap",padding:S?"0 1rem":"0"},children:[p.player.selectedElemental&&(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"1rem",border:"2px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",backdropFilter:"blur(20px)",animation:"player"===x?"elementalSummon 1s ease-in-out":"battle"===x?"playerBattle 0.25s ease-in-out infinite":"winner"===x?"player"===g?"winnerScale 1s ease-in-out":"opponent"===g?"loserScale 1s ease-in-out":"drawScale 1s ease-in-out":"none",width:S?"120px":"160px",height:S?"150px":"200px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",opacity:"player"===x||"battle"===x||"winner"===x?1:.3,transform:"player"===x?"scale(0)":"scale(1)"},children:["winner"===x&&(0,o.jsx)("div",{style:{position:"absolute",top:S?"-30px":"-40px",left:"50%",transform:"translateX(-50%)",fontSize:S?"1rem":"1.2rem",fontWeight:"bold",color:"player"===g?"#10b981":"opponent"===g?"#ef4444":"#daa520",textShadow:"0 0 10px rgba(255, 255, 255, 0.8)",animation:"fadeIn 0.5s ease-in-out",zIndex:10},children:"player"===g?"WIN!":"opponent"===g?"LOSE!":"DRAW!"}),(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at center, ".concat("common"===p.player.selectedElemental?"#9ca3af40":"rare"===p.player.selectedElemental?"#3b82f640":"epic"===p.player.selectedElemental?"#8b5cf640":"#f59e0b40"," 0%, transparent 70%)"),borderRadius:"16px"}}),(0,o.jsx)("img",{src:"".concat("/code-with-kiro-hackathon","/resources/elmental/").concat(p.player.selectedElement||"fire","_").concat((null===(s=p.player.selectedElemental)||void 0===s?void 0:s.charAt(0).toUpperCase())+(null===(a=p.player.selectedElemental)||void 0===a?void 0:a.slice(1))||"Common",".png"),alt:"".concat(p.player.selectedElement||"fire"," ").concat(p.player.selectedElemental||"common"),style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"12px",filter:"drop-shadow(0 0 15px rgba(255, 255, 255, 0.8))",zIndex:1,position:"absolute",top:0,left:0},onError:e=>{const t=e.target;t.style.display="none";const n=t.nextElementSibling;n&&(n.style.display="block")}}),(0,o.jsx)("div",{style:{fontSize:S?"2rem":"3rem",marginBottom:S?"0.5rem":"1rem",filter:"drop-shadow(0 0 15px rgba(255, 255, 255, 0.8))",zIndex:1,display:"none"},children:(()=>{const e=p.player.selectedElement||"fire",t=p.player.selectedElemental;return{fire:{common:"\ud83d\udd25",rare:"\ud83d\udd25",epic:"\ud83d\udd25",immortal:"\ud83d\udd25"},water:{common:"\ud83d\udca7",rare:"\ud83d\udca7",epic:"\ud83d\udca7",immortal:"\ud83d\udca7"},earth:{common:"\ud83c\udf0d",rare:"\ud83c\udf0d",epic:"\ud83c\udf0d",immortal:"\ud83c\udf0d"}}[e][t]})()}),(0,o.jsx)("div",{style:{position:"absolute",bottom:S?"8px":"12px",left:"50%",transform:"translateX(-50%)",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:"common"===p.player.selectedElemental?"#9ca3af":"rare"===p.player.selectedElemental?"#3b82f6":"epic"===p.player.selectedElemental?"#8b5cf6":"#f59e0b",color:"white",zIndex:2,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:p.player.selectedElemental})]}),(0,o.jsx)("div",{style:{fontSize:S?"1.5rem":"2rem",animation:"pulse 1s ease-in-out infinite",textShadow:"0 0 15px rgba(255, 255, 255, 0.8)",color:"#ff6b6b"},children:"\u2694\ufe0f"}),(null===(l=p.currentOpponent)||void 0===l?void 0:l.elemental)&&(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"1rem",border:"2px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",backdropFilter:"blur(20px)",animation:"opponent"===x?"elementalSummon 1s ease-in-out":"battle"===x?"opponentBattle 0.25s ease-in-out infinite":"winner"===x?"opponent"===g?"winnerScale 1s ease-in-out":"player"===g?"loserScale 1s ease-in-out":"drawScale 1s ease-in-out":"none",width:S?"120px":"160px",height:S?"150px":"200px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",opacity:"opponent"===x||"battle"===x||"winner"===x?1:.3,transform:"opponent"===x?"scale(0)":"scale(1)"},children:["winner"===x&&(0,o.jsx)("div",{style:{position:"absolute",top:S?"-30px":"-40px",left:"50%",transform:"translateX(-50%)",fontSize:S?"1rem":"1.2rem",fontWeight:"bold",color:"opponent"===g?"#10b981":"player"===g?"#ef4444":"#daa520",textShadow:"0 0 10px rgba(255, 255, 255, 0.8)",animation:"fadeIn 0.5s ease-in-out",zIndex:10},children:"opponent"===g?"WIN!":"player"===g?"LOSE!":"DRAW!"}),(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at center, ".concat("common"===p.currentOpponent.elemental?"#9ca3af40":"rare"===p.currentOpponent.elemental?"#3b82f640":"epic"===p.currentOpponent.elemental?"#8b5cf640":"#f59e0b40"," 0%, transparent 70%)"),borderRadius:"16px"}}),(0,o.jsx)("img",{src:"".concat("/code-with-kiro-hackathon","/resources/elmental/").concat(f,"_").concat((null===(c=p.currentOpponent.elemental)||void 0===c?void 0:c.charAt(0).toUpperCase())+(null===(u=p.currentOpponent.elemental)||void 0===u?void 0:u.slice(1))||"Common",".png"),alt:"".concat(f," ").concat(p.currentOpponent.elemental||"common"),style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"12px",filter:"drop-shadow(0 0 15px rgba(255, 255, 255, 0.8))",zIndex:1,position:"absolute",top:0,left:0},onError:e=>{const t=e.target;t.style.display="none";const n=t.nextElementSibling;n&&(n.style.display="block")}}),(0,o.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem",filter:"drop-shadow(0 0 15px rgba(255, 255, 255, 0.8))",zIndex:1,display:"none"},children:(()=>{const e=f,t=p.currentOpponent.elemental;return{fire:{common:"\ud83d\udd25",rare:"\ud83d\udd25",epic:"\ud83d\udd25",immortal:"\ud83d\udd25"},water:{common:"\ud83d\udca7",rare:"\ud83d\udca7",epic:"\ud83d\udca7",immortal:"\ud83d\udca7"},earth:{common:"\ud83c\udf0d",rare:"\ud83c\udf0d",epic:"\ud83c\udf0d",immortal:"\ud83c\udf0d"}}[e][t]})()}),(0,o.jsx)("div",{style:{position:"absolute",bottom:S?"8px":"12px",left:"50%",transform:"translateX(-50%)",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:"common"===p.currentOpponent.elemental?"#9ca3af":"rare"===p.currentOpponent.elemental?"#3b82f6":"epic"===p.currentOpponent.elemental?"#8b5cf6":"#f59e0b",color:"white",zIndex:2,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:p.currentOpponent.elemental})]})]}),(0,o.jsx)("div",{style:{fontSize:S?"0.9rem":"1rem",marginTop:S?"1rem":"1.5rem",opacity:.8,padding:S?"0 1rem":"0"},children:"The ancient spirits answer the call!"})]}),"result"===v&&(0,o.jsxs)("div",{style:{animation:"fadeIn 1s ease-in"},children:[(0,o.jsx)("h2",{style:{fontSize:S?"1.4rem":"1.8rem",marginBottom:S?"1rem":"1.5rem",padding:S?"0 1rem":"0"},children:"Battle Complete!"}),"player"===g&&p.player.selectedElemental&&(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"center",marginBottom:S?"1rem":"1.5rem",position:"relative"},children:[(0,o.jsx)("div",{style:{position:"absolute",top:S?"-30px":"-40px",left:"50%",transform:"translateX(-50%)",fontSize:S?"1rem":"1.2rem",fontWeight:"bold",color:"#10b981",textShadow:"0 0 10px rgba(255, 255, 255, 0.8)",animation:"fadeIn 0.5s ease-in-out",zIndex:10},children:"WIN!"}),(0,o.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"16px",padding:"1rem",border:"2px solid rgba(255, 255, 255, 0.2)",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",backdropFilter:"blur(20px)",animation:"winnerScale 2s ease-in-out infinite",width:S?"120px":"160px",height:S?"150px":"200px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:[(0,o.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at center, ".concat("common"===p.player.selectedElemental?"#9ca3af40":"rare"===p.player.selectedElemental?"#3b82f640":"epic"===p.player.selectedElemental?"#8b5cf640":"#f59e0b40"," 0%, transparent 70%)"),borderRadius:"16px"}}),(0,o.jsx)("img",{src:"".concat("/code-with-kiro-hackathon","/resources/elmental/").concat(p.player.selectedElement||"fire","_").concat((null===(d=p.player.selectedElemental)||void 0===d?void 0:d.charAt(0).toUpperCase())+(null===(h=p.player.selectedElemental)||void 0===h?void 0:h.slice(1))||"Common",".png"),alt:"".concat(p.player.selectedElement||"fire"," ").concat(p.player.selectedElemental||"common"),style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"12px",filter:"drop-shadow(0 0 15px rgba(255, 255, 255, 0.8))",zIndex:1,position:"absolute",top:0,left:0},onError:e=>{const t=e.target;t.style.display="none";const n=t.nextElementSibling;n&&(n.style.display="block")}}),(0,o.jsx)("div",{style:{fontSize:S?"2rem":"3rem",marginBottom:S?"0.5rem":"1rem",filter:"drop-shadow(0 0 15px rgba(255, 255, 255, 0.8))",zIndex:1,display:"none"},children:(()=>{const e=p.player.selectedElement||"fire",t=p.player.selectedElemental;return{fire:{common:"\ud83d\udd25",rare:"\ud83d\udd25",epic:"\ud83d\udd25",immortal:"\ud83d\udd25"},water:{common:"\ud83d\udca7",rare:"\ud83d\udca7",epic:"\ud83d\udca7",immortal:"\ud83d\udca7"},earth:{common:"\ud83c\udf0d",rare:"\ud83c\udf0d",epic:"\ud83c\udf0d",immortal:"\ud83c\udf0d"}}[e][t]})()}),(0,o.jsx)("div",{style:{position:"absolute",bottom:S?"8px":"12px",left:"50%",transform:"translateX(-50%)",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:"common"===p.player.selectedElemental?"#9ca3af":"rare"===p.player.selectedElemental?"#3b82f6":"epic"===p.player.selectedElemental?"#8b5cf6":"#f59e0b",color:"white",zIndex:2,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:p.player.selectedElemental})]})]}),("opponent"===g||"draw"===g)&&(0,o.jsx)("div",{style:{fontSize:S?"3rem":"4rem",animation:"resultPulse 3s ease-in-out infinite",filter:"opponent"===g?"drop-shadow(0 0 20px rgba(239, 68, 68, 0.8))":"drop-shadow(0 0 20px rgba(218, 165, 32, 0.8))"},children:"opponent"===g?"\ud83d\udc80":"\ud83e\udd1d"}),(0,o.jsx)("div",{style:{fontSize:S?"0.9rem":"1rem",marginTop:S?"1rem":"1.5rem",opacity:.8,color:"player"===g?"#10b981":"opponent"===g?"#ef4444":"#daa520",padding:S?"0 1rem":"0"},children:"player"===g?"Victory! You have emerged triumphant!":"opponent"===g?"Defeat! The opponent was stronger this time.":"Draw! The battle ended in a stalemate."})]})]}),(0,o.jsx)("style",{children:"\n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(30px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n\n        @keyframes pulse {\n          0%, 100% { opacity: 0.5; }\n          50% { opacity: 0.8; }\n        }\n\n        @keyframes rotate {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n\n        @keyframes glowPulse {\n          0%, 100% { opacity: 0.3; }\n          50% { opacity: 0.6; }\n        }\n\n        @keyframes elementFloat {\n           0%, 100% { transform: translateY(0) scale(1); opacity: 0.8; }\n           50% { transform: translateY(-10px) scale(1.02); opacity: 1; }\n        }\n\n        @keyframes shake {\n          0%, 100% { transform: translateX(0); }\n          25% { transform: translateX(-8px); }\n          75% { transform: translateX(8px); }\n        }\n\n        @keyframes elementalSummon {\n           0% { transform: scale(0); opacity: 0; }\n           50% { transform: scale(1.1); opacity: 1; }\n           100% { transform: scale(1); opacity: 1; }\n          }\n\n         @keyframes playerBattle {\n           0%, 100% { transform: translateX(0); }\n           50% { transform: translateX(10px); }\n          }\n\n                   @keyframes opponentBattle {\n            0%, 100% { transform: translateX(0); }\n            50% { transform: translateX(-10px); }\n          }\n\n          @keyframes winnerScale {\n            0% { transform: scale(1); }\n            50% { transform: scale(1.1); }\n            100% { transform: scale(1.1); }\n          }\n\n                     @keyframes loserScale {\n             0% { transform: scale(1); }\n             50% { transform: scale(0.9); }\n             100% { transform: scale(0.9); }\n         }\n\n           @keyframes drawScale {\n             0% { transform: scale(1); }\n             50% { transform: scale(1.05); }\n             100% { transform: scale(1.05); }\n        }\n\n        @keyframes epicClash {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.3); }\n        }\n\n        @keyframes victoryDance {\n          0%, 100% { transform: scale(1) rotate(0deg); }\n          25% { transform: scale(1.1) rotate(5deg); }\n          50% { transform: scale(1.2) rotate(0deg); }\n          75% { transform: scale(1.1) rotate(-5deg); }\n        }\n\n        @keyframes resultPulse {\n          0%, 100% { transform: scale(1); }\n          50% { transform: scale(1.1); }\n        }\n\n        .user-card {\n          transition: all 0.3s ease;\n        }\n\n        .card-animate {\n          animation: cardEntrance 1s ease-out;\n        }\n\n        @keyframes cardEntrance {\n          0% {\n            transform: translateY(100px) scale(0.8);\n            opacity: 0;\n          }\n          100% {\n            transform: translateY(0) scale(1);\n            opacity: 1;\n          }\n        }\n      "})]})},Yd={earth:{name:"Earth",emoji:"\ud83d\uddff",color:"#A8A8A8"},water:{name:"Water",emoji:"\ud83d\udca7",color:"#00AFFF"},fire:{name:"Fire",emoji:"\ud83d\udd25",color:"#FF4500"}},qd={free:{name:"Free",emoji:"\ud83c\udfaf",mana:0},swamp:{name:"Swamp",emoji:"\ud83d\udc38",mana:100},village:{name:"Village",emoji:"\ud83c\udfd8\ufe0f",mana:300},castle:{name:"Castle",emoji:"\ud83c\udff0",mana:500}},Kd={earth:{common:{name:"Earth Golem",emoji:"\ud83d\uddff",rarity:"Common",protection:.1,evolutionCost:50},rare:{name:"Stone Guardian",emoji:"\ud83c\udfd4\ufe0f",rarity:"Rare",protection:.2,evolutionCost:150},epic:{name:"Mountain Lord",emoji:"\u26f0\ufe0f",rarity:"Epic",protection:.4,evolutionCost:500},immortal:{name:"Earth Titan",emoji:"\ud83c\udf0b",rarity:"Immortal",protection:.8,evolutionCost:1e3}},water:{common:{name:"Water Nymph",emoji:"\ud83d\udca7",rarity:"Common",protection:.1,evolutionCost:50},rare:{name:"Sea Sprite",emoji:"\ud83c\udf0a",rarity:"Rare",protection:.2,evolutionCost:150},epic:{name:"Ocean Master",emoji:"\ud83c\udf00",rarity:"Epic",protection:.4,evolutionCost:500},immortal:{name:"Leviathan",emoji:"\ud83d\udc0b",rarity:"Immortal",protection:.8,evolutionCost:1e3}},fire:{common:{name:"Fire Sprite",emoji:"\ud83d\udd25",rarity:"Common",protection:.1,evolutionCost:50},rare:{name:"Flame Dancer",emoji:"\ud83d\udd25",rarity:"Rare",protection:.2,evolutionCost:150},epic:{name:"Inferno Lord",emoji:"\ud83c\udf0b",rarity:"Epic",protection:.4,evolutionCost:500},immortal:{name:"Phoenix King",emoji:"\ud83d\udd25",rarity:"Immortal",protection:.8,evolutionCost:1e3}}},Qd=(e,t)=>"".concat(e,"_").concat(t,"_").concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),$d=e=>Kd[e.element][e.rarity].protection,Zd=e=>{const t={common:25,rare:50,epic:100,immortal:200}[e.rarity]||25;return e.level*t},Jd=e=>({common:100,rare:300,epic:800,immortal:0}[e]||0),eh=(e,t)=>{if("immortal"===e.rarity)return!1;const n=th(e.rarity);if(e.level>=n){return t>=Jd(e.rarity)}const r=Zd(e);return e.level<n&&t>=r},th=e=>{switch(e){case"common":case"rare":case"epic":default:return 4;case"immortal":return 1}},nh=e=>{switch(e){case"common":return"rare";case"rare":return"epic";case"epic":case"immortal":return"immortal";default:return"common"}},rh=e=>!!e.cooldownEndTime&&Date.now()<e.cooldownEndTime,ih=e=>{if(!e.cooldownEndTime)return 0;const t=e.cooldownEndTime-Date.now();return Math.max(0,t)},sh=["DragonSlayer","MysticMage","ElementMaster","StormBringer","EarthShaker","FlameWarden","WaterSpirit","CrystalGuard","ShadowHunter","LightBringer"],ah=["\ud83d\udc09","\ud83e\uddd9\u200d\u2642\ufe0f","\u2694\ufe0f","\ud83d\udee1\ufe0f","\ud83d\udd25","\ud83d\udca7","\ud83d\uddff","\u26a1","\ud83c\udf1f","\ud83d\udc51"],oh=(e,t)=>{if(e===t)return"draw";return{earth:"water",water:"fire",fire:"earth"}[e]===t?"player":"opponent"},lh=()=>{const e=["earth","water","fire"];return e[Math.floor(Math.random()*e.length)]||"earth"},ch=()=>[{id:"first_victory",icon:"\ud83c\udfc6",name:"First Victory",desc:"Win your first battle",condition:e=>e.wins>=1},{id:"veteran",icon:"\u2694\ufe0f",name:"Veteran",desc:"Win 5 battles",condition:e=>e.wins>=5},{id:"champion",icon:"\ud83d\udc51",name:"Champion",desc:"Win 10 battles",condition:e=>e.wins>=10},{id:"legend",icon:"\ud83c\udf1f",name:"Legend",desc:"Win 25 battles",condition:e=>e.wins>=25},{id:"immortal",icon:"\ud83d\udcab",name:"Immortal",desc:"Win 50 battles",condition:e=>e.wins>=50},{id:"win_streak_3",icon:"\ud83d\udd25",name:"Triple Threat",desc:"Win 3 battles in a row",condition:e=>e.winStreak>=3},{id:"win_streak_5",icon:"\ud83d\udd25\ud83d\udd25",name:"Unstoppable",desc:"Win 5 battles in a row",condition:e=>e.winStreak>=5},{id:"win_streak_10",icon:"\ud83d\udd25\ud83d\udd25\ud83d\udd25",name:"Dominator",desc:"Win 10 battles in a row",condition:e=>e.winStreak>=10},{id:"mana_master",icon:"\ud83d\udc8e",name:"Mana Master",desc:"Accumulate 2000 mana",condition:e=>e.mana>=2e3},{id:"mana_lord",icon:"\ud83d\udc8e\ud83d\udc8e",name:"Mana Lord",desc:"Accumulate 2500 mana",condition:e=>e.mana>=2500},{id:"mana_god",icon:"\ud83d\udc8e\ud83d\udc8e\ud83d\udc8e",name:"Mana God",desc:"Accumulate 5000 mana",condition:e=>e.mana>=5e3},{id:"fire_master",icon:"\ud83d\udd25",name:"Fire Master",desc:"Win 10 battles with Fire",condition:e=>e.elementStats.fire>=10},{id:"water_master",icon:"\ud83d\udca7",name:"Water Master",desc:"Win 10 battles with Water",condition:e=>e.elementStats.water>=10},{id:"earth_master",icon:"\ud83d\uddff",name:"Earth Master",desc:"Win 10 battles with Earth",condition:e=>e.elementStats.earth>=10},{id:"elemental_master",icon:"\ud83c\udf08",name:"Elemental Master",desc:"Master all elements",condition:e=>e.elementStats.fire>=10&&e.elementStats.water>=10&&e.elementStats.earth>=10},{id:"experienced",icon:"\ud83d\udcda",name:"Experienced",desc:"Reach level 5",condition:e=>e.level>=5},{id:"expert",icon:"\ud83c\udf93",name:"Expert",desc:"Reach level 10",condition:e=>e.level>=10},{id:"master",icon:"\ud83e\uddd9\u200d\u2642\ufe0f",name:"Master",desc:"Reach level 15",condition:e=>e.level>=15},{id:"warrior",icon:"\u2694\ufe0f",name:"Warrior",desc:"Fight 25 battles",condition:e=>e.totalBattles>=25},{id:"gladiator",icon:"\ud83d\udee1\ufe0f",name:"Gladiator",desc:"Fight 50 battles",condition:e=>e.totalBattles>=50},{id:"arena_master",icon:"\ud83c\udfdf\ufe0f",name:"Arena Master",desc:"Fight 100 battles",condition:e=>e.totalBattles>=100},{id:"perfectionist",icon:"\ud83d\udcaf",name:"Perfectionist",desc:"Win 10 battles without losing",condition:e=>e.wins>=10&&0===e.losses},{id:"comeback_king",icon:"\ud83d\udd04",name:"Comeback King",desc:"Win after losing 5 in a row",condition:e=>e.winStreak>=1&&e.maxLossStreak>=5},{id:"collector",icon:"\ud83d\udce6",name:"Collector",desc:"Own 10 elementals",condition:e=>e.totalElementalsCollected>=10},{id:"elemental_master",icon:"\ud83c\udf1f",name:"Elemental Master",desc:"Own 25 elementals",condition:e=>e.totalElementalsCollected>=25},{id:"immortal_hunter",icon:"\ud83c\udf0b",name:"Immortal Hunter",desc:"Own an immortal elemental",condition:e=>e.immortalElementalsOwned>=1},{id:"immortal_collector",icon:"\ud83c\udf0b\ud83c\udf0b",name:"Immortal Collector",desc:"Own 3 immortal elementals",condition:e=>e.immortalElementalsOwned>=3},{id:"level_master",icon:"\u2728",name:"Level Master",desc:"Level up an elemental to max level",condition:e=>Object.values(e.elementalCollection.elementals).filter(e=>e.level>=4).length>=1}],uh=(e,t)=>Kd[e][t],dh=(e,t,n,r,i,s)=>{if(0===e){const e=oh(t,r);if("player"===e)return{playerManaChange:0,opponentManaChange:0,winner:"player",protectionSaved:0};if("opponent"===e)return{playerManaChange:0,opponentManaChange:0,winner:"opponent",protectionSaved:0};{const e=n?uh(t,n).protection:0,s=i?uh(r,i).protection:0;return e===s?{playerManaChange:0,opponentManaChange:0,winner:"draw",protectionSaved:0}:e>s?{playerManaChange:0,opponentManaChange:0,winner:"player",protectionSaved:0}:{playerManaChange:0,opponentManaChange:0,winner:"opponent",protectionSaved:0}}}const a=oh(t,r);let o=0;n&&s?o=((e,t,n)=>{const r=Object.values(e.elementals).find(e=>e.isOwned&&e.element===t&&e.rarity===n);return r?$d(r):0})(s,t,n):n&&(o=uh(t,n).protection);const l=i?uh(r,i).protection:0;if("player"===a){const t=e-Math.floor(e*l);return{playerManaChange:t,opponentManaChange:-t,winner:"player",protectionSaved:0}}if("opponent"===a){const t=Math.floor(e*o),n=e-t;return{playerManaChange:-n,opponentManaChange:n,winner:"opponent",protectionSaved:t}}if(o===l)return{playerManaChange:0,opponentManaChange:0,winner:"draw",protectionSaved:0};if(o>l){const t=o-l,n=Math.floor(e*t);return{playerManaChange:n,opponentManaChange:-n,winner:"player",protectionSaved:0}}{const t=l-o,n=Math.floor(e*t);return{playerManaChange:-n,opponentManaChange:n,winner:"opponent",protectionSaved:Math.floor(e*o)}}},hh=(e,t)=>e>=qd[t].mana,ph=e=>{let{gameState:t,onSelectLocation:n,onSelectElement:r,onSelectElemental:i,onStartMatchmaking:s,onStartBattle:a,onReturnToMenu:l,onReturnToLocationSelection:c,onReturnToElementSelection:u}=e;const{player:d,gamePhase:h}=t;return(0,o.jsxs)(o.Fragment,{children:["menu"===h&&(0,o.jsxs)("div",{className:"battle-section",children:[(0,o.jsxs)("div",{className:"battle-header",children:[(0,o.jsx)("div",{className:"battle-icon",children:"\ud83c\udfdf\ufe0f"}),(0,o.jsx)("h3",{className:"battle-title",children:"Battle Arena"}),(0,o.jsx)("p",{className:"battle-subtitle",children:"Choose Your Battle Location"}),(0,o.jsxs)("div",{className:"battle-step-indicator",children:[(0,o.jsx)("div",{className:"step-dot active"}),(0,o.jsx)("div",{className:"step-dot"}),(0,o.jsx)("div",{className:"step-dot"})]})]}),(0,o.jsx)("div",{className:"location-section",children:(0,o.jsx)("div",{className:"location-grid",children:Object.entries(qd).map(e=>{let[t,r]=e;return(0,o.jsxs)("div",{className:"location-btn ".concat(d.selectedLocation===t?"selected":""),onClick:()=>hh(d.mana,t)&&n(t),style:{opacity:hh(d.mana,t)?1:.5,cursor:hh(d.mana,t)?"pointer":"not-allowed"},children:[(0,o.jsx)("span",{className:"location-emoji",children:r.emoji}),(0,o.jsx)("div",{className:"location-name",children:r.name}),(0,o.jsxs)("div",{className:"location-mana",children:[r.mana," Mana"]})]},t)})})})]}),"elementSelection"===h&&(()=>{const e="free"===d.selectedLocation;return(0,o.jsxs)("div",{className:"battle-section",children:[(0,o.jsxs)("div",{className:"battle-navigation",children:[(0,o.jsx)("button",{className:"back-btn",onClick:c,children:"\u2190"}),(0,o.jsx)("div",{className:"battle-progress",children:e?"Step 2 of 2":"Step 2 of 3"})]}),(0,o.jsxs)("div",{className:"battle-header",children:[(0,o.jsx)("div",{className:"battle-icon",children:"\u2694\ufe0f"}),(0,o.jsx)("h3",{className:"battle-title",children:"Element"}),(0,o.jsx)("p",{className:"battle-subtitle",children:"Choose the element that will guide your battle"}),(0,o.jsxs)("div",{className:"battle-step-indicator",children:[(0,o.jsx)("div",{className:"step-dot completed"}),(0,o.jsx)("div",{className:"step-dot active"}),!e&&(0,o.jsx)("div",{className:"step-dot"})]})]}),(0,o.jsx)("div",{className:"element-grid",children:Object.entries(Yd).map(e=>{let[t,n]=e;return(0,o.jsxs)("div",{className:"element-btn ".concat(d.selectedElement===t?"selected":""),onClick:()=>r(t),children:[(0,o.jsx)("span",{className:"element-emoji",children:n.emoji}),(0,o.jsx)("div",{className:"element-name",children:n.name})]},t)})}),(0,o.jsx)("button",{className:"battle-btn",disabled:!d.selectedElement,onClick:s,children:e?"\u2694\ufe0f Start Battle":"\ud83c\udf1f Select Elemental"})]})})(),"elementalSelection"===h&&(()=>{if(!d.selectedElement)return null;const e=d.selectedElement,t=Object.values(d.elementalCollection.elementals).filter(t=>t.isOwned&&t.element===e);return(0,o.jsxs)("div",{className:"battle-section",children:[(0,o.jsxs)("div",{className:"battle-navigation",children:[(0,o.jsx)("button",{className:"back-btn",onClick:u,children:"\u2190"}),(0,o.jsx)("div",{className:"battle-progress",children:"Step 3 of 3"})]}),(0,o.jsxs)("div",{className:"battle-header",children:[(0,o.jsx)("div",{className:"battle-icon",children:"\ud83c\udf1f"}),(0,o.jsx)("h3",{className:"battle-title",children:"Elemental"}),(0,o.jsx)("p",{className:"battle-subtitle",children:"Select a powerful elemental from your collection"}),(0,o.jsxs)("div",{className:"battle-step-indicator",children:[(0,o.jsx)("div",{className:"step-dot completed"}),(0,o.jsx)("div",{className:"step-dot completed"}),(0,o.jsx)("div",{className:"step-dot active"})]})]}),t.length>0?(0,o.jsx)("div",{className:"elemental-grid",children:t.map(t=>{const n=uh(e,t.rarity),r=d.selectedElemental===t.rarity,s=rh(t),a=(e=>{if(e<=0)return"Ready";const t=Math.floor(e/36e5),n=Math.floor(e%36e5/6e4);return t>0?"".concat(t,"h ").concat(n,"m"):"".concat(n,"m")})(ih(t));return(0,o.jsxs)("div",{className:"elemental-btn ".concat(t.rarity," ").concat(r?"selected":""," ").concat(s?"on-cooldown":""),onClick:()=>!s&&i(t.rarity),style:{cursor:s?"not-allowed":"pointer"},children:[(0,o.jsx)("span",{className:"elemental-emoji",children:n.emoji}),(0,o.jsxs)("div",{className:"elemental-info",children:[(0,o.jsx)("div",{className:"elemental-rarity-badge",children:n.rarity}),(0,o.jsxs)("div",{className:"elemental-level",children:["Lv.",t.level]}),s&&(0,o.jsx)("div",{className:"cooldown-indicator",children:(0,o.jsx)("span",{className:"cooldown-text",children:a})})]})]},t.id)})}):(0,o.jsxs)("div",{className:"no-elementals",children:[(0,o.jsx)("div",{className:"no-elementals-icon",children:"\ud83d\udce6"}),(0,o.jsx)("h3",{children:"No Elementals Available"}),(0,o.jsxs)("p",{children:["You don't have any ",Yd[e].name," ","elementals in your collection."]}),(0,o.jsx)("p",{children:"Win battles to collect more elementals!"})]}),(0,o.jsx)("button",{className:"battle-btn",onClick:a,children:"\u2694\ufe0f Start Battle"})]})})(),!["menu","elementSelection","elementalSelection","result"].includes(h)&&(0,o.jsxs)("div",{style:{textAlign:"center",color:"var(--error)"},children:["Unknown game phase: ",h]})]})},fh=e=>{let{gameState:t,onReturnToMenu:n}=e;const{player:r,currentOpponent:i,battleLog:s}=t;if(!s||!i)return null;const a="player"===s.winner,l="opponent"===s.winner,c=s.playerElemental?uh(s.playerElement,s.playerElemental):null,u=s.opponentElemental?uh(s.opponentElement,s.opponentElemental):null;return(0,o.jsx)("div",{id:"resultsTab",className:"tab-content",children:(0,o.jsxs)("main",{style:{padding:"1rem",flex:1,display:"flex",flexDirection:"column",background:"#18182C"},children:[(0,o.jsxs)("div",{className:"card",children:[(0,o.jsxs)("div",{className:"results-header",children:[(0,o.jsxs)("div",{className:"results-title ".concat(a?"victory":l?"defeat":"draw"),children:[(0,o.jsx)("span",{className:"results-icon",children:a?"\ud83c\udf89":l?"\ud83d\udc80":"\ud83e\udd1d"}),a?"Victory!":l?"Defeat!":"Draw!"]}),(0,o.jsx)("div",{className:"results-subtitle",children:a?"You defeated ".concat(i.name):l?"".concat(i.name," defeated you"):"You drew with ".concat(i.name)})]}),(0,o.jsxs)("div",{className:"results-stats",children:[(0,o.jsx)("div",{className:"results-stats-header",children:(0,o.jsx)("span",{className:"results-stats-title",children:"Battle Summary"})}),(0,o.jsxs)("div",{className:"results-stat-row",children:[(0,o.jsx)("span",{className:"results-stat-label",children:"Mana Change:"}),(0,o.jsx)("span",{className:"results-stat-value ".concat(a?"victory":l?"defeat":"primary"),children:0===s.baseWager?"No change (free)":"".concat(s.finalChange>0?"+":"").concat(s.finalChange)})]}),(0,o.jsxs)("div",{className:"results-stat-row",children:[(0,o.jsx)("span",{className:"results-stat-label",children:"New Total:"}),(0,o.jsx)("span",{className:"results-stat-value primary",children:r.mana})]}),(0,o.jsxs)("div",{className:"results-stat-row",children:[(0,o.jsx)("span",{className:"results-stat-label",children:"Victory Streak:"}),(0,o.jsx)("span",{className:"results-stat-value gold",children:r.winStreak})]})]}),(0,o.jsx)("div",{className:"results-battle-again",children:(0,o.jsx)("button",{className:"btn-primary",onClick:n,children:"\u2694\ufe0f Battle Again"})})]}),(0,o.jsxs)("div",{className:"card",children:[(0,o.jsx)("div",{className:"battle-log-header",children:"\u2694\ufe0f Battle Log"}),(0,o.jsxs)("div",{className:"results-battle-log",children:[(0,o.jsxs)("div",{className:"element-battle-section",children:[(0,o.jsx)("div",{className:"element-battle-title",children:"Element Battle:"}),(0,o.jsxs)("div",{className:"element-battle-display",children:[(0,o.jsxs)("div",{className:"element-battle-choice",children:[(0,o.jsx)("div",{className:"element-battle-emoji",style:{color:Yd[s.playerElement].color||"#00AFFF"},children:Yd[s.playerElement].emoji}),(0,o.jsx)("div",{className:"element-battle-name",children:Yd[s.playerElement].name})]}),(0,o.jsx)("div",{className:"element-battle-vs",children:"VS"}),(0,o.jsxs)("div",{className:"element-battle-choice",children:[(0,o.jsx)("div",{className:"element-battle-emoji",style:{color:Yd[s.opponentElement].color||"#A8A8A8"},children:Yd[s.opponentElement].emoji}),(0,o.jsx)("div",{className:"element-battle-name",children:Yd[s.opponentElement].name})]})]}),(0,o.jsx)("div",{className:"element-battle-result",children:s.playerElement===s.opponentElement?"Same elements - ".concat("player"===s.winner?"You Win!":"opponent"===s.winner?"You Lose!":"Draw!"):"".concat(Yd[s.playerElement].name," ").concat("player"===s.winner?"beats":"opponent"===s.winner?"loses to":"draws with"," ").concat(Yd[s.opponentElement].name," - ").concat("player"===s.winner?"You Win!":"opponent"===s.winner?"You Lose!":"Draw!")})]}),(0,o.jsxs)("div",{className:"elementals-used-section",children:[(0,o.jsx)("div",{className:"elementals-used-title",children:"Elementals Used:"}),(0,o.jsxs)("div",{className:"elementals-used-display",children:[(0,o.jsxs)("div",{className:"elemental-used-card ".concat(c?"player":"opponent"),children:[(0,o.jsx)("div",{className:"elemental-used-emoji",children:c?c.emoji:"\u274c"}),(0,o.jsx)("div",{className:"elemental-used-name",children:c?c.name:"No Protection"}),(0,o.jsx)("div",{className:"elemental-used-protection ".concat(c?"player":"opponent"),children:c?"".concat(Math.round(100*c.protection),"% protection"):"0% protection"})]}),(0,o.jsxs)("div",{className:"elemental-used-card opponent",children:[(0,o.jsx)("div",{className:"elemental-used-emoji",style:{color:u?"#FFD700":"#FF4C4C"},children:u?u.emoji:"\u274c"}),(0,o.jsx)("div",{className:"elemental-used-name",children:u?u.name:"No Protection"}),(0,o.jsx)("div",{className:"elemental-used-protection opponent",children:u?"".concat(Math.round(100*u.protection),"% protection"):"0% protection"})]})]})]}),(0,o.jsxs)("div",{className:"final-calculation-section",children:[(0,o.jsx)("div",{className:"final-calculation-title",children:"Final Calculation:"}),(0,o.jsxs)("div",{className:"final-calculation-row",children:[(0,o.jsx)("span",{className:"final-calculation-label",children:"Base wager:"}),(0,o.jsx)("span",{className:"final-calculation-value",children:0===s.baseWager?"Free battle (0 mana)":"".concat(s.baseWager," mana")})]}),s.protectionSaved>0&&(0,o.jsxs)("div",{className:"final-calculation-row",children:[(0,o.jsx)("span",{className:"final-calculation-label",children:"Protection saved:"}),(0,o.jsxs)("span",{className:"final-calculation-value",children:[s.protectionSaved," mana"]})]}),(0,o.jsxs)("div",{className:"final-calculation-row total",children:[(0,o.jsxs)("span",{className:"final-calculation-label total",children:["Final ",a?"gain":l?"loss":"change",":"]}),(0,o.jsx)("span",{className:"final-calculation-value total ".concat(a?"victory":l?"defeat":""),children:0===s.baseWager?"No mana change (free battle)":"".concat(s.finalChange>0?"+":"").concat(s.finalChange," mana")})]})]})]})]})]})})};var mh=n(7950);const gh=e=>{let{elemental:n,onLevelUpClick:r,playerMana:i}=e;const[s,l]=t.useState(!1);t.useEffect(()=>{const e=n.id;return window.triggerCardVibration=(0,a.A)((0,a.A)({},window.triggerCardVibration),{},{[e]:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];l(!0);const t=e=>{var t,n;let r=!1;if(null!==(t=window.Telegram)&&void 0!==t&&null!==(n=t.WebApp)&&void 0!==n&&n.HapticFeedback)try{window.Telegram.WebApp.HapticFeedback.impactOccurred("medium"),r=!0,Array.isArray(e)&&e.length>3&&(setTimeout(()=>{try{var e,t;null!==(e=window.Telegram)&&void 0!==e&&null!==(t=e.WebApp)&&void 0!==t&&t.HapticFeedback&&window.Telegram.WebApp.HapticFeedback.impactOccurred("heavy")}catch(n){}},200),setTimeout(()=>{try{var e,t;null!==(e=window.Telegram)&&void 0!==e&&null!==(t=e.WebApp)&&void 0!==t&&t.HapticFeedback&&window.Telegram.WebApp.HapticFeedback.impactOccurred("medium")}catch(n){}},400),setTimeout(()=>{try{var e,t;null!==(e=window.Telegram)&&void 0!==e&&null!==(t=e.WebApp)&&void 0!==t&&t.HapticFeedback&&window.Telegram.WebApp.HapticFeedback.impactOccurred("light")}catch(n){}},600))}catch(u){}if(!r&&"vibrate"in navigator)try{navigator.vibrate(e),r=!0}catch(u){}if(!r&&"vibrate"in window)try{var i,s;null===(i=(s=window).vibrate)||void 0===i||i.call(s,e),r=!0}catch(u){}if(!r)try{var a,o;if(navigator.vibrate)navigator.vibrate(100);else if(window.vibrate){var l,c;null===(l=(c=window).vibrate)||void 0===l||l.call(c,100)}else null!==(a=window.Telegram)&&void 0!==a&&null!==(o=a.WebApp)&&void 0!==o&&o.HapticFeedback&&window.Telegram.WebApp.HapticFeedback.impactOccurred("light")}catch(u){}};t(e?[150,30,150,30,150,30,150,30,150]:[100,50,100,50,100,50,100]),setTimeout(()=>{l(!1)},800)}}),()=>{const t=window.triggerCardVibration;t&&delete t[e]}},[n.id]);const c=e=>{switch(e){case"common":default:return"#9ca3af";case"rare":return"#3b82f6";case"epic":return"#8b5cf6";case"immortal":return"#f59e0b"}},u=(e=>{const t=Kd[e.element][e.rarity],n=$d(e),r=th(e.rarity),s=e.level>=r&&"immortal"!==e.rarity,a=s?Jd(e.rarity):Zd(e),o=e.element.charAt(0).toUpperCase()+e.element.slice(1),l=e.rarity.charAt(0).toUpperCase()+e.rarity.slice(1);return{currentName:"".concat(o,"_").concat(l),currentEmoji:t.emoji,currentProtection:n,canLevelUp:eh(e,i),levelUpCost:a,maxLevel:r,canUpgradeRarity:s,isImmortal:"immortal"===e.rarity}})(n);return(0,o.jsxs)("div",{className:"collectible-card ".concat((e=>{switch(e){case"common":default:return"rarity-common";case"rare":return"rarity-rare";case"epic":return"rarity-epic";case"immortal":return"rarity-immortal"}})(n.rarity)," element-").concat(n.element," ").concat(s?"level-up-vibration":""),style:{"--rarity-color":c(n.rarity),"--rarity-glow":"".concat(c(n.rarity),"40"),"--element-color":(e=>{switch(e){case"earth":return"#059669";case"water":return"#0ea5e9";case"fire":return"#dc2626";default:return"#6b7280"}})(n.element)},children:[(0,o.jsx)("div",{className:"card-artwork",children:(0,o.jsxs)("div",{className:"artwork-container ".concat(rh(n)?"on-cooldown":""),children:[(0,o.jsx)("img",{className:"artwork-image",src:"".concat("/code-with-kiro-hackathon","/resources/elmental/").concat(encodeURIComponent(u.currentName),".png"),alt:u.currentName,onError:e=>{const t=e.target;t.style.display="none";const n=t.nextElementSibling;n&&n.classList.add("show")},onLoad:e=>{const t=e.target.nextElementSibling;t&&t.classList.remove("show")}}),(0,o.jsx)("div",{className:"artwork-emoji",children:u.currentEmoji}),(0,o.jsx)("div",{className:"artwork-background"}),(0,o.jsx)("div",{className:"artwork-rarity-indicator rarity-".concat(n.rarity),children:n.rarity.toUpperCase()}),rh(n)&&(0,o.jsx)("div",{className:"cooldown-indicator",children:(0,o.jsxs)("div",{className:"cooldown-timer",children:[(0,o.jsx)("div",{className:"cooldown-time-unit",children:(0,o.jsx)("span",{className:"time-value",children:Math.floor(ih(n)/36e5).toString().padStart(2,"0")})}),(0,o.jsx)("div",{className:"cooldown-separator",children:":"}),(0,o.jsx)("div",{className:"cooldown-time-unit",children:(0,o.jsx)("span",{className:"time-value",children:Math.floor(ih(n)%36e5/6e4).toString().padStart(2,"0")})}),(0,o.jsx)("div",{className:"cooldown-separator",children:":"}),(0,o.jsx)("div",{className:"cooldown-time-unit",children:(0,o.jsx)("span",{className:"time-value",children:Math.floor(ih(n)%6e4/1e3).toString().padStart(2,"0")})})]})}),(0,o.jsx)("button",{className:"compact-action-btn ".concat(u.canUpgradeRarity?"upgrade":"level-up"," ").concat(u.canLevelUp?"":"disabled"),onClick:()=>{u.canLevelUp&&r(n,u)},disabled:!u.canLevelUp,title:u.isImmortal&&n.level>=th(n.rarity)?"Maximum Level Reached":u.canUpgradeRarity?"Upgrade Rarity":"Level Up",children:u.isImmortal&&n.level>=th(n.rarity)?"MAX":u.canUpgradeRarity?"Upgrade":"LVL UP"})]})}),(0,o.jsxs)("div",{className:"character-name-block",children:[(0,o.jsx)("div",{className:"character-name-text",children:((e,t,n)=>{const r=n.split("").reduce((e,t)=>(e=(e<<5)-e+t.charCodeAt(0))&e,0),i={earth:{adjectives:["Ancient","Mighty","Solid","Eternal","Granite","Mossy","Stony","Earthen","Mountainous","Rocky","Dense","Heavy","Buried","Deep","Solid","Unbreakable","Timeless","Enduring","Stable","Grounded","Terrestrial","Mineral","Crystalline","Basaltic","Sedimentary","Igneous","Metamorphic","Bedrock","Foundation","Core"],nouns:["Guardian","Sentinel","Protector","Defender","Shield","Wall","Barrier","Fortress","Citadel","Tower","Monolith","Pillar","Column","Foundation","Bedrock","Boulder","Stone","Rock","Crystal","Gem","Ore","Mineral","Mountain","Hill","Cliff","Ridge","Summit","Peak","Crag","Bluff"]},water:{adjectives:["Flowing","Deep","Clear","Pure","Mystic","Ancient","Eternal","Boundless","Fluid","Liquid","Transparent","Reflective","Mirror","Crystal","Azure","Sapphire","Turquoise","Aqua","Marine","Oceanic","Abyssal","Pelagic","Tidal","Wavy","Rippling","Cascading","Flowing","Streaming","Gushing"],nouns:["Guardian","Spirit","Essence","Force","Power","Energy","Flow","Stream","River","Ocean","Sea","Lake","Pond","Spring","Well","Fountain","Cascade","Waterfall","Rapids","Current","Tide","Wave","Ripple","Drop","Bubble","Mist","Vapor","Dew","Rain","Storm"]},fire:{adjectives:["Burning","Blazing","Flaming","Fiery","Scorching","Searing","Intense","Fierce","Wild","Untamed","Eternal","Everlasting","Unquenchable","Consuming","Devouring","Raging","Furious","Violent","Explosive","Volcanic","Magmatic","Incandescent","Luminous","Radiant","Glowing","Bright","Brilliant","Dazzling","Blinding","Illuminating"],nouns:["Guardian","Spirit","Essence","Force","Power","Energy","Flame","Fire","Blaze","Inferno","Conflagration","Bonfire","Pyre","Hearth","Furnace","Forge","Kiln","Oven","Stove","Torch","Lamp","Lantern","Beacon","Signal","Light","Glow","Spark","Ember","Ash","Smoke"]}}[e];if(!i)return"Unknown";const s=Math.abs(r)%i.adjectives.length,a=Math.abs(r+t.length)%i.nouns.length,o=i.adjectives[s],l=i.nouns[a];return"".concat(o," ").concat(l)})(n.element,n.rarity,n.id)}),(0,o.jsx)("div",{className:"character-divider"}),(0,o.jsx)("div",{className:"character-description-text",children:"earth"===n.element?(0,o.jsxs)(o.Fragment,{children:["A mighty guardian of stone and soil, protecting allies with"," ",(0,o.jsxs)("strong",{children:[(100*u.currentProtection).toFixed(0),"%"]})," ","defense."]}):"water"===n.element?(0,o.jsxs)(o.Fragment,{children:["A flowing spirit of healing and purification, restoring strength with"," ",(0,o.jsxs)("strong",{children:[(100*u.currentProtection).toFixed(0),"%"]})," ","protection."]}):(0,o.jsxs)(o.Fragment,{children:["A fierce warrior of flame and destruction, burning through enemies with"," ",(0,o.jsxs)("strong",{children:[(100*u.currentProtection).toFixed(0),"%"]})," ","power."]})}),(0,o.jsx)("div",{className:"character-divider"}),(0,o.jsxs)("div",{className:"level-text-description",children:["LVL ",n.level]})]})]})},vh=e=>{let{player:n,onLevelUpElemental:r}=e;const[i,s]=(0,t.useState)("all"),[a,l]=(0,t.useState)("all"),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null),[,m]=(0,t.useState)(0);(0,t.useEffect)(()=>{const e=setInterval(()=>{m(e=>e+1)},1e3);return()=>clearInterval(e)},[m]),(0,t.useEffect)(()=>(c?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[c]),(0,t.useEffect)(()=>{const e=e=>{"Escape"===e.key&&c&&b()};return c&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[c]);const g=Object.values(n.elementalCollection.elementals).filter(e=>e.isOwned).filter(e=>("all"===i||e.element===i)&&("all"===a||e.rarity===a)).sort((e,t)=>{const n={immortal:4,epic:3,rare:2,common:1},r=n[e.rarity],i=n[t.rarity];if(r!==i)return i-r;const s={fire:1,water:2,earth:3};return s[e.element]-s[t.element]}),v=(e,t)=>{h(e),f(t),u(!0)},b=()=>{u(!1),h(null),f(null)};return(0,o.jsxs)("main",{className:"collection-container-modern",children:[(0,o.jsxs)("div",{className:"collection-filters-modern",children:[(0,o.jsxs)("div",{className:"filter-section",children:[(0,o.jsx)("div",{className:"filter-label",children:"Filter by Element"}),(0,o.jsxs)("div",{className:"filter-buttons",children:[(0,o.jsx)("button",{className:"filter-btn ".concat("all"===i?"active":""),onClick:()=>s("all"),children:"\ud83c\udf08 All"}),(0,o.jsx)("button",{className:"filter-btn ".concat("earth"===i?"active":""),onClick:()=>s("earth"),children:"\ud83d\uddff Earth"}),(0,o.jsx)("button",{className:"filter-btn ".concat("water"===i?"active":""),onClick:()=>s("water"),children:"\ud83d\udca7 Water"}),(0,o.jsx)("button",{className:"filter-btn ".concat("fire"===i?"active":""),onClick:()=>s("fire"),children:"\ud83d\udd25 Fire"})]})]}),(0,o.jsxs)("div",{className:"filter-section",children:[(0,o.jsx)("div",{className:"filter-label",children:"Filter by Rarity"}),(0,o.jsxs)("div",{className:"filter-buttons",children:[(0,o.jsx)("button",{className:"filter-btn ".concat("all"===a?"active":""),onClick:()=>l("all"),children:"\u2728 All"}),(0,o.jsx)("button",{className:"filter-btn rarity-common ".concat("common"===a?"active":""),onClick:()=>l("common"),children:"Common"}),(0,o.jsx)("button",{className:"filter-btn rarity-rare ".concat("rare"===a?"active":""),onClick:()=>l("rare"),children:"Rare"}),(0,o.jsx)("button",{className:"filter-btn rarity-epic ".concat("epic"===a?"active":""),onClick:()=>l("epic"),children:"Epic"}),(0,o.jsx)("button",{className:"filter-btn rarity-immortal ".concat("immortal"===a?"active":""),onClick:()=>l("immortal"),children:"Immortal"})]})]})]}),(0,o.jsx)("div",{className:"collectible-cards-grid",children:g.map(e=>(0,o.jsx)(gh,{elemental:e,onLevelUpClick:v,playerMana:n.mana},e.id))}),0===g.length&&(0,o.jsxs)("div",{className:"empty-collection-modern",children:[(0,o.jsx)("div",{className:"empty-icon-modern",children:"\ud83d\udce6"}),(0,o.jsx)("h3",{children:"No Elementals Found"}),(0,o.jsx)("p",{children:"Try adjusting your filters or win battles to collect more elementals!"}),(0,o.jsxs)("div",{className:"empty-actions",children:[(0,o.jsx)("button",{className:"empty-action-btn",onClick:()=>s("all"),children:"Show All Elements"}),(0,o.jsx)("button",{className:"empty-action-btn",onClick:()=>l("all"),children:"Show All Rarities"})]})]}),c&&d&&p&&mh.createPortal((0,o.jsx)("div",{className:"level-up-modal-overlay active",onClick:b,children:(0,o.jsxs)("div",{className:"level-up-modal element-".concat(d.element),onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"level-up-modal-header",children:[(0,o.jsxs)("h3",{children:["Confirm"," ",p.canUpgradeRarity?"Upgrade":"Level Up"]}),(0,o.jsx)("button",{className:"level-up-modal-close",onClick:b,children:"\xd7"})]}),(0,o.jsxs)("div",{className:"level-up-modal-content",children:[(0,o.jsx)("div",{className:"level-up-elemental-info",children:(0,o.jsxs)("div",{className:"level-up-elemental-details",children:[(0,o.jsxs)("span",{children:["Level ",d.level," \u2192"," ",d.level+1]}),p.canUpgradeRarity&&(0,o.jsxs)("span",{className:"level-up-rarity-upgrade",children:[d.rarity.charAt(0).toUpperCase()+d.rarity.slice(1)," ","\u2192","common"===d.rarity?" Rare":"rare"===d.rarity?" Epic":"epic"===d.rarity?" Immortal":""]})]})}),(0,o.jsxs)("div",{className:"level-up-cost-info",children:[(0,o.jsxs)("div",{className:"level-up-cost-amount",children:[(0,o.jsx)("span",{className:"level-up-cost-label",children:"Cost:"}),(0,o.jsxs)("span",{className:"level-up-cost-value",children:[p.levelUpCost," Mana"]})]}),(0,o.jsxs)("div",{className:"level-up-balance-info",children:[(0,o.jsx)("span",{className:"level-up-balance-label",children:"Your Balance:"}),(0,o.jsxs)("span",{className:"level-up-balance-value",children:[n.mana," Mana"]})]}),(0,o.jsxs)("div",{className:"level-up-remaining-balance",children:[(0,o.jsx)("span",{className:"level-up-remaining-label",children:"Remaining:"}),(0,o.jsxs)("span",{className:"level-up-remaining-value ".concat(n.mana-p.levelUpCost<100?"warning":""),children:[n.mana-p.levelUpCost," Mana"]})]})]})]}),(0,o.jsxs)("div",{className:"level-up-modal-actions",children:[(0,o.jsx)("button",{className:"level-up-cancel-btn",onClick:b,children:"Cancel"}),(0,o.jsx)("button",{className:"level-up-confirm-btn ".concat(p.canUpgradeRarity?"upgrade":""," ").concat(n.mana-p.levelUpCost<100?"disabled":""),onClick:()=>{d&&p&&(r(d.id),u(!1),h(null),f(null),setTimeout(()=>{const e=window;if(e.triggerCardVibration&&d){const t=e.triggerCardVibration[d.id];t&&t(p.canUpgradeRarity)}},100))},disabled:n.mana-p.levelUpCost<100,children:p.canUpgradeRarity?"Upgrade":"Level Up"})]})]})}),document.body)]})},bh=()=>(0,o.jsx)("div",{className:"glass-gradient-header",children:(0,o.jsx)("div",{className:"glass-gradient-overlay"})}),_h=e=>{let{activeTab:t,onTabChange:n,onOpenSettings:r}=e;const i=e=>{n(e),navigator.vibrate&&navigator.vibrate(50)};return(0,o.jsx)("nav",{className:"mobile-nav",children:(0,o.jsxs)("div",{className:"nav-container",children:[(0,o.jsxs)("div",{className:"nav-item ".concat("profile"===t?"active":""),onClick:()=>i("profile"),children:[(0,o.jsx)("div",{className:"nav-icon",children:"\ud83d\udc64"}),(0,o.jsx)("div",{className:"nav-label",children:"Profile"})]}),(0,o.jsxs)("div",{className:"nav-item ".concat("battle"===t?"active":""),onClick:()=>i("battle"),children:[(0,o.jsx)("div",{className:"nav-icon",children:"\u2694\ufe0f"}),(0,o.jsx)("div",{className:"nav-label",children:"Battle"})]}),(0,o.jsxs)("div",{className:"nav-item ".concat("collection"===t?"active":""),onClick:()=>i("collection"),children:[(0,o.jsx)("div",{className:"nav-icon",children:"\ud83d\udce6"}),(0,o.jsx)("div",{className:"nav-label",children:"Collection"})]}),r&&(0,o.jsxs)("div",{className:"nav-item",onClick:r,children:[(0,o.jsx)("div",{className:"nav-icon",children:"\u2699\ufe0f"}),(0,o.jsx)("div",{className:"nav-label",children:"Settings"})]})]})})},xh=e=>{let{player:n,onClick:r}=e;const[i,s]=(0,t.useState)(0);(0,t.useEffect)(()=>{const e=document.querySelector(".app");if(!e)return;const t=()=>{const t=e.scrollTop||0,n=Math.max(0,Math.min(1,t/60));s(n)};return t(),e.addEventListener("scroll",t,{passive:!0}),()=>e.removeEventListener("scroll",t)},[]);const a={opacity:1-i,transform:"translateY(".concat(-6*i,"px) scale(").concat(1-.02*i,")")},l=n.avatar?(0,o.jsx)("img",{className:"ph-avatar-img",src:n.avatar,alt:"Avatar"}):(0,o.jsx)("span",{className:"ph-avatar",children:"\u2694\ufe0f"}),c=(u=n.mana,(d=n.selectedLocation)?u-qd[d].mana:u);var u,d;return(0,o.jsxs)("div",{className:"profile-header-modern",style:a,children:[(0,o.jsxs)("button",{className:"ph-left",onClick:r,"aria-label":"Open profile",children:[(0,o.jsx)("span",{className:"ph-avatar-wrap",children:l}),(0,o.jsx)("span",{className:"ph-name",children:n.name})]}),(0,o.jsx)("div",{className:"ph-right",title:"Your mana",children:(0,o.jsxs)("span",{className:"ph-mana",children:["\ud83d\udc8e ",c]})})]})},yh=e=>{let{player:t,rank:n,title:r}=e;const i=1e3*t.level,s=t.experience/i*100,a=t.totalBattles>0?Math.round(t.wins/t.totalBattles*100):0,l=ch(),c=l.filter(e=>t.achievements.includes(e.id)),u=l.filter(e=>!t.achievements.includes(e.id)),d=[...c.slice(-3),...u.slice(0,2)];return(0,o.jsxs)("main",{className:"profile-container",children:[(0,o.jsxs)("div",{className:"profile-hero",children:[(0,o.jsxs)("div",{className:"hero-background",children:[(0,o.jsx)("div",{className:"hero-gradient"}),(0,o.jsx)("div",{className:"hero-pattern"})]}),(0,o.jsxs)("div",{className:"hero-content",children:[(0,o.jsxs)("div",{className:"profile-avatar-modern",children:[(0,o.jsx)("div",{className:"avatar-glow"}),(0,o.jsx)("div",{className:"avatar-circle",children:(0,o.jsx)("span",{className:"avatar-emoji",children:"\u2694\ufe0f"})})]}),(0,o.jsxs)("div",{className:"profile-identity",children:[(0,o.jsx)("h1",{className:"player-name-modern",children:t.name}),(0,o.jsx)("div",{className:"player-title-modern",children:n})]})]}),(0,o.jsxs)("div",{className:"experience-section",children:[(0,o.jsxs)("div",{className:"exp-header",children:[(0,o.jsx)("span",{className:"exp-label",children:"Experience"}),(0,o.jsxs)("span",{className:"exp-values",children:[t.experience," / ",i," XP"]})]}),(0,o.jsx)("div",{className:"exp-bar-modern",children:(0,o.jsx)("div",{className:"exp-fill-modern",style:{width:"".concat(s,"%")},children:(0,o.jsx)("div",{className:"exp-shine"})})})]})]}),(0,o.jsxs)("div",{className:"stats-grid-modern",children:[(0,o.jsxs)("div",{className:"stat-card-modern",children:[(0,o.jsx)("div",{className:"stat-value-modern",children:t.mana.toLocaleString()}),(0,o.jsx)("div",{className:"stat-label-modern",children:"Mana"})]}),(0,o.jsxs)("div",{className:"stat-card-modern",children:[(0,o.jsx)("div",{className:"stat-value-modern",children:t.wins}),(0,o.jsx)("div",{className:"stat-label-modern",children:"Wins"})]}),(0,o.jsxs)("div",{className:"stat-card-modern",children:[(0,o.jsx)("div",{className:"stat-value-modern",children:t.winStreak}),(0,o.jsx)("div",{className:"stat-label-modern",children:"Streak"})]}),(0,o.jsxs)("div",{className:"stat-card-modern",children:[(0,o.jsx)("div",{className:"stat-value-modern",children:t.totalBattles}),(0,o.jsx)("div",{className:"stat-label-modern",children:"Battles"})]})]}),(0,o.jsx)("div",{className:"additional-stats",children:(0,o.jsxs)("div",{className:"stats-row",children:[(0,o.jsxs)("div",{className:"mini-stat",children:[(0,o.jsx)("div",{className:"mini-stat-icon",children:"\ud83c\udfaf"}),(0,o.jsxs)("div",{className:"mini-stat-content",children:[(0,o.jsxs)("div",{className:"mini-stat-value",children:[a,"%"]}),(0,o.jsx)("div",{className:"mini-stat-label",children:"Win Rate"})]})]}),(0,o.jsxs)("div",{className:"mini-stat",children:[(0,o.jsx)("div",{className:"mini-stat-icon",children:"\ud83d\udc8e"}),(0,o.jsxs)("div",{className:"mini-stat-content",children:[(0,o.jsx)("div",{className:"mini-stat-value",children:t.totalManaWon.toLocaleString()}),(0,o.jsx)("div",{className:"mini-stat-label",children:"Mana Won"})]})]}),(0,o.jsxs)("div",{className:"mini-stat",children:[(0,o.jsx)("div",{className:"mini-stat-icon",children:"\ud83c\udf1f"}),(0,o.jsxs)("div",{className:"mini-stat-content",children:[(0,o.jsx)("div",{className:"mini-stat-value",children:t.favoriteElement||"None"}),(0,o.jsx)("div",{className:"mini-stat-label",children:"Element"})]})]})]})}),(0,o.jsxs)("div",{className:"achievements-modern",children:[(0,o.jsxs)("div",{className:"section-header-modern",children:[(0,o.jsxs)("h2",{className:"section-title-modern",children:[(0,o.jsx)("span",{className:"section-icon",children:"\ud83c\udfc5"}),"Achievements"]}),(0,o.jsxs)("div",{className:"achievements-count",children:[c.length," / ",l.length]})]}),(0,o.jsx)("div",{className:"achievements-grid",children:d.map(e=>{const n=t.achievements.includes(e.id);return(0,o.jsxs)("div",{className:"achievement-card-modern ".concat(n?"unlocked":"locked"),children:[(0,o.jsx)("div",{className:"achievement-icon-modern",children:n?e.icon:"\ud83d\udd12"}),(0,o.jsxs)("div",{className:"achievement-content",children:[(0,o.jsx)("div",{className:"achievement-name-modern",children:e.name}),(0,o.jsx)("div",{className:"achievement-desc-modern",children:e.desc})]}),n&&(0,o.jsx)("div",{className:"achievement-glow"})]},e.id)})})]})]})},Sh=()=>(0,o.jsxs)("main",{className:"rules-container",children:[(0,o.jsxs)("div",{className:"rules-card",children:[(0,o.jsxs)("div",{className:"rules-card-header",children:[(0,o.jsx)("div",{className:"rules-card-icon",children:"\ud83c\udfae"}),(0,o.jsx)("h2",{className:"rules-card-title",children:"Game Overview"})]}),(0,o.jsxs)("div",{className:"game-overview",children:[(0,o.jsxs)("div",{className:"overview-item",children:[(0,o.jsx)("span",{className:"overview-label",children:"Objective:"}),(0,o.jsx)("span",{className:"overview-value",children:"Master elements, collect elementals, become the ultimate champion!"})]}),(0,o.jsxs)("div",{className:"overview-item",children:[(0,o.jsx)("span",{className:"overview-label",children:"Core Loop:"}),(0,o.jsx)("span",{className:"overview-value",children:"Battle \u2192 Win Mana \u2192 Collect Elementals \u2192 Level Up \u2192 Repeat"})]}),(0,o.jsxs)("div",{className:"overview-item",children:[(0,o.jsx)("span",{className:"overview-label",children:"Progression:"}),(0,o.jsx)("span",{className:"overview-value",children:"Experience \u2192 Levels \u2192 Achievements \u2192 Titles \u2192 Mastery"})]})]})]}),(0,o.jsxs)("div",{className:"rules-card",children:[(0,o.jsxs)("div",{className:"rules-card-header",children:[(0,o.jsx)("div",{className:"rules-card-icon",children:"\u26a1"}),(0,o.jsx)("h2",{className:"rules-card-title",children:"Quick Start Guide"})]}),(0,o.jsxs)("div",{className:"rules-steps-grid",children:[(0,o.jsxs)("div",{className:"rules-step-card",children:[(0,o.jsx)("div",{className:"step-number",children:"1"}),(0,o.jsx)("div",{className:"step-icon",children:"\ud83c\udfdf\ufe0f"}),(0,o.jsx)("h3",{className:"step-title",children:"Choose Arena"}),(0,o.jsx)("p",{className:"step-description",children:"Select battle location & wager mana"})]}),(0,o.jsxs)("div",{className:"rules-step-card",children:[(0,o.jsx)("div",{className:"step-number",children:"2"}),(0,o.jsx)("div",{className:"step-icon",children:"\ud83d\udd25"}),(0,o.jsx)("h3",{className:"step-title",children:"Pick Element"}),(0,o.jsx)("p",{className:"step-description",children:"Choose your elemental power"})]}),(0,o.jsxs)("div",{className:"rules-step-card",children:[(0,o.jsx)("div",{className:"step-number",children:"3"}),(0,o.jsx)("div",{className:"step-icon",children:"\ud83d\udee1\ufe0f"}),(0,o.jsx)("h3",{className:"step-title",children:"Summon Guardian"}),(0,o.jsx)("p",{className:"step-description",children:"Select elemental for protection"})]}),(0,o.jsxs)("div",{className:"rules-step-card",children:[(0,o.jsx)("div",{className:"step-number",children:"4"}),(0,o.jsx)("div",{className:"step-icon",children:"\u2694\ufe0f"}),(0,o.jsx)("h3",{className:"step-title",children:"Engage Battle"}),(0,o.jsx)("p",{className:"step-description",children:"Fight & claim your rewards"})]})]})]}),(0,o.jsxs)("div",{className:"rules-card",children:[(0,o.jsxs)("div",{className:"rules-card-header",children:[(0,o.jsx)("div",{className:"rules-card-icon",children:"\u2694\ufe0f"}),(0,o.jsx)("h2",{className:"rules-card-title",children:"Element Combat System"})]}),(0,o.jsx)("div",{className:"element-system",children:(0,o.jsxs)("div",{className:"element-cycle-display",children:[(0,o.jsxs)("div",{className:"cycle-ring",children:[(0,o.jsxs)("div",{className:"element-node earth",children:[(0,o.jsx)("div",{className:"element-emoji",children:"\ud83d\uddff"}),(0,o.jsx)("div",{className:"element-name",children:"Earth"}),(0,o.jsx)("div",{className:"element-power",children:"beats Water"})]}),(0,o.jsxs)("div",{className:"element-node water",children:[(0,o.jsx)("div",{className:"element-emoji",children:"\ud83d\udca7"}),(0,o.jsx)("div",{className:"element-name",children:"Water"}),(0,o.jsx)("div",{className:"element-power",children:"beats Fire"})]}),(0,o.jsxs)("div",{className:"element-node fire",children:[(0,o.jsx)("div",{className:"element-emoji",children:"\ud83d\udd25"}),(0,o.jsx)("div",{className:"element-name",children:"Fire"}),(0,o.jsx)("div",{className:"element-power",children:"beats Earth"})]})]}),(0,o.jsxs)("div",{className:"cycle-info",children:[(0,o.jsx)("div",{className:"cycle-badge",children:(0,o.jsx)("span",{className:"cycle-text",children:"\ud83d\uddff \u2192 \ud83d\udca7 \u2192 \ud83d\udd25 \u2192 \ud83d\uddff"})}),(0,o.jsx)("p",{className:"cycle-description",children:"Each element has an advantage over another in a rock-paper-scissors cycle"})]})]})})]}),(0,o.jsxs)("div",{className:"rules-card",children:[(0,o.jsxs)("div",{className:"rules-card-header",children:[(0,o.jsx)("div",{className:"rules-card-icon",children:"\ud83c\udfdf\ufe0f"}),(0,o.jsx)("h2",{className:"rules-card-title",children:"Battle Arenas & Economy"})]}),(0,o.jsxs)("div",{className:"arenas-grid",children:[(0,o.jsxs)("div",{className:"arena-card beginner",children:[(0,o.jsx)("div",{className:"arena-icon",children:"\ud83d\udc38"}),(0,o.jsxs)("div",{className:"arena-info",children:[(0,o.jsx)("h3",{className:"arena-name",children:"Swamp Arena"}),(0,o.jsxs)("div",{className:"arena-stats",children:[(0,o.jsx)("span",{className:"risk-level",children:"Risk: Low"}),(0,o.jsx)("span",{className:"mana-wager",children:"Wager: 100 Mana"})]})]})]}),(0,o.jsxs)("div",{className:"arena-card intermediate",children:[(0,o.jsx)("div",{className:"arena-icon",children:"\ud83c\udfd8\ufe0f"}),(0,o.jsxs)("div",{className:"arena-info",children:[(0,o.jsx)("h3",{className:"arena-name",children:"Village Arena"}),(0,o.jsxs)("div",{className:"arena-stats",children:[(0,o.jsx)("span",{className:"risk-level",children:"Risk: Medium"}),(0,o.jsx)("span",{className:"mana-wager",children:"Wager: 300 Mana"})]})]})]}),(0,o.jsxs)("div",{className:"arena-card expert",children:[(0,o.jsx)("div",{className:"arena-icon",children:"\ud83c\udff0"}),(0,o.jsxs)("div",{className:"arena-info",children:[(0,o.jsx)("h3",{className:"arena-name",children:"Castle Arena"}),(0,o.jsxs)("div",{className:"arena-stats",children:[(0,o.jsx)("span",{className:"risk-level",children:"Risk: High"}),(0,o.jsx)("span",{className:"mana-wager",children:"Wager: 500 Mana"})]})]})]})]}),(0,o.jsxs)("div",{className:"economy-rules",children:[(0,o.jsxs)("div",{className:"economy-header",children:[(0,o.jsx)("span",{className:"economy-icon",children:"\ud83d\udcb0"}),(0,o.jsx)("h3",{className:"economy-title",children:"Mana Economy Rules"})]}),(0,o.jsxs)("div",{className:"economy-rules-grid",children:[(0,o.jsxs)("div",{className:"economy-rule",children:[(0,o.jsx)("span",{className:"rule-icon",children:"\u2705"}),(0,o.jsx)("span",{className:"rule-text",children:"Victory: Claim opponent's wager"})]}),(0,o.jsxs)("div",{className:"economy-rule",children:[(0,o.jsx)("span",{className:"rule-icon",children:"\u274c"}),(0,o.jsx)("span",{className:"rule-text",children:"Defeat: Lose your wager"})]}),(0,o.jsxs)("div",{className:"economy-rule",children:[(0,o.jsx)("span",{className:"rule-icon",children:"\ud83e\udd1d"}),(0,o.jsx)("span",{className:"rule-text",children:"Draw: Keep your wager"})]})]})]})]}),(0,o.jsxs)("div",{className:"rules-card",children:[(0,o.jsxs)("div",{className:"rules-card-header",children:[(0,o.jsx)("div",{className:"rules-card-icon",children:"\ud83d\udee1\ufe0f"}),(0,o.jsx)("h2",{className:"rules-card-title",children:"Elemental Guardians"})]}),(0,o.jsxs)("div",{className:"elementals-grid",children:[(0,o.jsx)("div",{className:"rules-elemental-card common",children:(0,o.jsxs)("div",{className:"elemental-info",children:[(0,o.jsx)("h3",{className:"elemental-name",children:"Common"}),(0,o.jsx)("div",{className:"protection-value",children:"10% protection"})]})}),(0,o.jsx)("div",{className:"rules-elemental-card rare",children:(0,o.jsxs)("div",{className:"elemental-info",children:[(0,o.jsx)("h3",{className:"elemental-name",children:"Rare"}),(0,o.jsx)("div",{className:"protection-value",children:"20% protection"})]})}),(0,o.jsx)("div",{className:"rules-elemental-card epic",children:(0,o.jsxs)("div",{className:"elemental-info",children:[(0,o.jsx)("h3",{className:"elemental-name",children:"Epic"}),(0,o.jsx)("div",{className:"protection-value",children:"40% protection"})]})}),(0,o.jsx)("div",{className:"rules-elemental-card immortal",children:(0,o.jsxs)("div",{className:"elemental-info",children:[(0,o.jsx)("h3",{className:"elemental-name",children:"Immortal"}),(0,o.jsx)("div",{className:"protection-value",children:"80% protection"})]})})]}),(0,o.jsxs)("div",{className:"protection-mechanics",children:[(0,o.jsxs)("div",{className:"mechanics-header",children:[(0,o.jsx)("span",{className:"mechanics-icon",children:"\ud83d\udee1\ufe0f"}),(0,o.jsx)("h3",{className:"mechanics-title",children:"How Protection Works"})]}),(0,o.jsx)("div",{className:"mechanics-example",children:(0,o.jsxs)("div",{className:"example-scenario",children:[(0,o.jsx)("span",{className:"scenario-label",children:"Example:"}),(0,o.jsx)("span",{className:"scenario-text",children:"Lose 500 mana with Epic elemental \u2192 Keep 200 mana (40% protected)"})]})})]})]}),(0,o.jsxs)("div",{className:"rules-card",children:[(0,o.jsxs)("div",{className:"rules-card-header",children:[(0,o.jsx)("div",{className:"rules-card-icon",children:"\ud83d\udcc8"}),(0,o.jsx)("h2",{className:"rules-card-title",children:"Progression System"})]}),(0,o.jsxs)("div",{className:"progression-grid",children:[(0,o.jsxs)("div",{className:"progression-card",children:[(0,o.jsx)("div",{className:"progression-icon",children:"\u2b50"}),(0,o.jsxs)("div",{className:"progression-content",children:[(0,o.jsx)("h3",{className:"progression-title",children:"Experience & Levels"}),(0,o.jsx)("p",{className:"progression-description",children:"Gain XP from battles \u2022 Level up for rewards \u2022 Unlock new titles"})]})]}),(0,o.jsxs)("div",{className:"progression-card",children:[(0,o.jsx)("div",{className:"progression-icon",children:"\ud83c\udfc6"}),(0,o.jsxs)("div",{className:"progression-content",children:[(0,o.jsx)("h3",{className:"progression-title",children:"Achievements"}),(0,o.jsx)("p",{className:"progression-description",children:"Complete challenges \u2022 Unlock badges \u2022 Show your mastery"})]})]}),(0,o.jsxs)("div",{className:"progression-card",children:[(0,o.jsx)("div",{className:"progression-icon",children:"\ud83d\udc51"}),(0,o.jsxs)("div",{className:"progression-content",children:[(0,o.jsx)("h3",{className:"progression-title",children:"Ranks & Titles"}),(0,o.jsx)("p",{className:"progression-description",children:"Novice \u2192 Adept \u2192 Expert \u2192 Master \u2022 Earn special titles"})]})]})]})]})]}),Th=e=>{let{onBackToSettings:t}=e;return(0,o.jsxs)("div",{className:"rules-page",children:[(0,o.jsxs)("div",{className:"rules-page-header",children:[(0,o.jsx)("h1",{className:"rules-page-title",children:"Game Rules"}),(0,o.jsx)("button",{className:"close-rules-button",onClick:t,children:(0,o.jsx)("span",{className:"close-icon",children:"\u2715"})})]}),(0,o.jsx)("div",{className:"rules-scroll-container",children:(0,o.jsx)(Sh,{})})]})},wh=e=>{let{isOpen:n,onClose:r,musicVolume:i,onMusicVolumeChange:s,onOpenRules:a,onResetCache:l}=e;const[c,u]=(0,t.useState)(i),[d,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>(n?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[n]);return n?(0,o.jsx)("div",{className:"settings-overlay",onClick:r,children:(0,o.jsxs)("div",{className:"settings-menu",onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"settings-header",children:[(0,o.jsx)("h2",{children:"Settings"}),(0,o.jsx)("button",{className:"close-button",onClick:r,children:"\u2715"})]}),(0,o.jsxs)("div",{className:"settings-content",children:[(0,o.jsxs)("div",{className:"setting-group",children:[(0,o.jsxs)("div",{className:"setting-header",children:[(0,o.jsx)("span",{className:"setting-icon",children:"\ud83c\udfb5"}),(0,o.jsx)("span",{className:"setting-label",children:"Music Volume"})]}),(0,o.jsxs)("div",{className:"slider-container",children:[(0,o.jsx)("input",{type:"range",min:"0",max:"100",step:"1",value:Math.round(100*i),onChange:e=>{const t=parseInt(e.target.value)/100;s(t),t>0&&d&&h(!1)},className:"volume-slider"}),(0,o.jsxs)("span",{className:"volume-value",onClick:()=>{d?(s(c),h(!1)):(u(i),s(0),h(!0))},style:{cursor:"pointer"},children:[Math.round(100*i),"%"]})]})]}),a&&(0,o.jsxs)("button",{className:"rules-button",onClick:a,children:[(0,o.jsx)("span",{className:"rules-icon",children:"\ud83d\udcd6"}),(0,o.jsx)("span",{children:"View Game Rules"})]}),(0,o.jsxs)("button",{className:"reset-cache-button",onClick:()=>{l&&window.confirm("Are you sure you want to reset all game data? This will restore the game to its initial state and cannot be undone.")&&(l(),r())},children:[(0,o.jsx)("span",{className:"reset-icon",children:"\ud83d\udd04"}),(0,o.jsx)("span",{children:"Reset Game Data"})]})]})]})}):null},Ah={name:"Warrior",mana:1600,wins:0,losses:0,selectedElement:null,selectedLocation:null,selectedElemental:null,winStreak:0,bestStreak:0,maxLossStreak:0,currentLossStreak:0,totalBattles:0,experience:0,level:1,favoriteElement:null,elementStats:{earth:0,water:0,fire:0},achievements:[],lastManaChange:0,totalManaWon:0,totalManaLost:0,elementalCollection:(()=>{const e={};return Object.keys(Yd).forEach(t=>{const n=Qd(t,"common");e[n]={id:n,element:t,rarity:"common",level:1,experience:0,isOwned:!0,timesUsed:0}}),{elementals:e,totalOwned:3,totalImmortal:0,totalEpic:0,collectionProgress:{earth:1,water:1,fire:1}}})(),totalElementalsCollected:3,immortalElementalsOwned:0,epicElementalsOwned:0},Eh=()=>{const[e,n]=(0,t.useState)("battle"),[r,u]=(0,t.useState)({player:Ah,currentOpponent:null,opponentElement:null,gamePhase:"menu",battleLog:null}),[d,h]=(0,t.useState)([]),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(null),[v,b]=(0,t.useState)(!1),[_,x]=(0,t.useState)(!1),[y,S]=(0,t.useState)(!1),[T,w]=(0,t.useState)(!1),[A,E]=(0,t.useState)(.2);(0,t.useEffect)(()=>{const e=localStorage.getItem("elementalGameState");if(e)try{const t=JSON.parse(e);u(e=>(0,a.A)((0,a.A)({},e),{},{player:(0,a.A)((0,a.A)({},Ah),t)}))}catch(n){}const t=localStorage.getItem("audioSettings");if(t)try{const e=JSON.parse(t);void 0!==e.musicVolume&&E(e.musicVolume)}catch(n){}},[]),(0,t.useEffect)(()=>{localStorage.setItem("elementalGameState",JSON.stringify(r.player))},[r.player]),(0,t.useEffect)(()=>{localStorage.setItem("audioSettings",JSON.stringify({musicVolume:A}))},[A]),(0,t.useEffect)(()=>(T?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[T]);const C=(0,t.useCallback)(e=>{u(t=>{const n=t.player.mana,r=(0,a.A)((0,a.A)({},t.player),e);if(void 0!==e.mana&&(r.lastManaChange=r.mana-n),void 0===e.wins&&void 0===e.losses||(r.totalBattles=r.wins+r.losses),void 0!==e.winStreak&&e.winStreak>r.bestStreak&&(r.bestStreak=e.winStreak),void 0!==e.wins&&e.wins>t.player.wins){let e=150;r.winStreak>=5?e+=50:r.winStreak>=3&&(e+=25),r.experience+=e}else void 0!==e.losses&&e.losses>t.player.losses&&(r.experience+=50);if(void 0!==e.wins||void 0!==e.losses){const e=r.level,t=1e3*r.level;for(;r.experience>=t;){r.level++,r.experience-=t;const e=1e3*r.level;if(r.experience<e)break}r.level>e&&(f(r.level),setTimeout(()=>f(null),3e3))}if(r.selectedElement){r.elementStats[r.selectedElement]++;const e=Object.entries(r.elementStats).reduce((e,t)=>e[1]>t[1]?e:t);e[1]>0&&(r.favoriteElement=Yd[e[0]].name)}r.elementalCollection&&(r.totalElementalsCollected=r.elementalCollection.totalOwned,r.immortalElementalsOwned=r.elementalCollection.totalImmortal,r.epicElementalsOwned=r.elementalCollection.totalEpic);const i=ch(),s=[];return i.forEach(e=>{!r.achievements.includes(e.id)&&e.condition(r)&&s.push(e.id)}),s.length>0&&(r.achievements.push(...s),h(s)),(0,a.A)((0,a.A)({},t),{},{player:r})})},[]),R=(0,t.useCallback)(e=>{hh(r.player.mana,e)&&(C({selectedLocation:e}),u(e=>(0,a.A)((0,a.A)({},e),{},{gamePhase:"elementSelection"})))},[r.player.mana,C]),M=(0,t.useCallback)(e=>{C({selectedElement:e})},[C]),P=(0,t.useCallback)(e=>{C({selectedElemental:e})},[C]),k=(0,t.useCallback)(()=>{C({selectedLocation:null,selectedElement:null,selectedElemental:null}),u(e=>(0,a.A)((0,a.A)({},e),{},{gamePhase:"menu"}))},[C]),B=(0,t.useCallback)(()=>{C({selectedElement:null,selectedElemental:null}),u(e=>(0,a.A)((0,a.A)({},e),{},{gamePhase:"elementSelection"}))},[C]),O=(0,t.useCallback)(()=>{if(!r.player.selectedLocation||!r.player.selectedElement)return;const e=qd[r.player.selectedLocation].mana;if(r.player.mana<e)return void alert("Not enough mana! You need ".concat(e," mana to play in ").concat(qd[r.player.selectedLocation].name,", but you only have ").concat(r.player.mana,"."));const t=(e=>{const t=sh[Math.floor(Math.random()*sh.length)]||"Unknown",n=ah[Math.floor(Math.random()*ah.length)]||"\ud83d\udc64",r=Math.floor(10*Math.random())+1,i=["Common","Rare","Epic","Immortal"],s=i[Math.floor(Math.random()*i.length)]||"Common",o=qd[e],l=lh(),c=["common","rare","epic","immortal"],u=Math.random()<.5?c[Math.floor(Math.random()*c.length)]:void 0;return(0,a.A)({name:t,avatar:n,level:r,rarity:s,wager:o.mana,element:l},u&&{elemental:u})})(r.player.selectedLocation);if(0===e){const e=t.element||lh(),n=dh(0,r.player.selectedElement,null,e,t.elemental||null,r.player.elementalCollection);u(r=>(0,a.A)((0,a.A)({},r),{},{currentOpponent:t,opponentElement:e,initialBattleMana:r.player.mana,battleResult:n.winner,gamePhase:"battleAnimation"}))}else u(e=>(0,a.A)((0,a.A)({},e),{},{currentOpponent:t,gamePhase:"elementalSelection"}))},[r.player.selectedLocation,r.player.selectedElement,r.player.mana,r.player.elementalCollection]),I=(0,t.useCallback)(()=>{var e,t;if(!r.player.selectedElement||!r.currentOpponent||!r.player.selectedLocation)return;const n=r.currentOpponent.wager,i=r.player.mana,s=(null===(e=r.currentOpponent)||void 0===e?void 0:e.element)||lh(),o=dh(n,r.player.selectedElement,r.player.selectedElemental,s,(null===(t=r.currentOpponent)||void 0===t?void 0:t.elemental)||null,r.player.elementalCollection),l=n>0?i-n:i;u(e=>(0,a.A)((0,a.A)({},e),{},{opponentElement:s,initialBattleMana:i,player:(0,a.A)((0,a.A)({},e.player),{},{mana:l}),battleResult:o.winner,gamePhase:"battleAnimation"}))},[r.player,r.currentOpponent]),F=(0,t.useCallback)(()=>{var e,t;if(!r.player.selectedElement||!r.currentOpponent||!r.player.selectedLocation||!r.battleResult)return;const n=r.currentOpponent.wager,i=r.initialBattleMana,s=r.opponentElement,o=dh(n,r.player.selectedElement,r.player.selectedElemental,s,(null===(e=r.currentOpponent)||void 0===e?void 0:e.elemental)||null,r.player.elementalCollection),l=o.playerManaChange,c=r.battleResult,d=o.protectionSaved;if("player"===c)C({mana:i+o.playerManaChange,wins:r.player.wins+1,winStreak:r.player.winStreak+1,currentLossStreak:0,totalManaWon:r.player.totalManaWon+Math.abs(o.playerManaChange)});else if("opponent"===c){const e=r.player.currentLossStreak+1;C({mana:i+o.playerManaChange,losses:r.player.losses+1,winStreak:0,currentLossStreak:e,maxLossStreak:Math.max(r.player.maxLossStreak,e),totalManaLost:r.player.totalManaLost+Math.abs(o.playerManaChange)})}else C({mana:i});const h={playerElement:r.player.selectedElement,opponentElement:s,playerElemental:r.player.selectedElemental,opponentElemental:(null===(t=r.currentOpponent)||void 0===t?void 0:t.elemental)||null,baseWager:n,protectionSaved:d,finalChange:l,winner:c};let p=r.player.elementalCollection;if(r.player.selectedElemental){const e=Object.values(p.elementals).find(e=>e.element===r.player.selectedElement&&e.rarity===r.player.selectedElemental);if(e){const t=((e,t)=>{const n=100*e.level,r=e.experience+t;return r>=n?(0,a.A)((0,a.A)({},e),{},{level:e.level+1,experience:r-n}):(0,a.A)((0,a.A)({},e),{},{experience:r})})(e,"player"===c?50:25);t.timesUsed+=1;const n=(e=>{const t=(e=>{switch(e){case"common":default:return 2;case"rare":return 4;case"epic":return 8;case"immortal":return 16}})(e.rarity),n=Date.now()+60*t*60*1e3;return(0,a.A)((0,a.A)({},e),{},{cooldownEndTime:n,lastUsed:Date.now()})})(t);p.elementals[e.id]=n}}const f="player"===c?.6:.3;if(Math.random()<f){const e=(()=>{const e=["earth","water","fire"],t=["common","rare","epic","immortal"],n={common:.4,rare:.35,epic:.2,immortal:.04},r=Math.random();let i=0,s="common";for(const a of t)if(i+=n[a],r<=i){s=a;break}return{element:e[Math.floor(Math.random()*e.length)]||"earth",rarity:s}})(),t=Kd[e.element][e.rarity];p=((e,t,n)=>{const r=Qd(t,n),i={id:r,element:t,rarity:n,level:1,experience:0,isOwned:!0,timesUsed:0},s=(0,a.A)((0,a.A)({},e.elementals),{},{[r]:i}),o=Object.values(s).filter(e=>e.isOwned).length,l=Object.values(s).filter(e=>e.isOwned&&"immortal"===e.rarity).length,c=Object.values(s).filter(e=>e.isOwned&&"epic"===e.rarity).length,u=Object.values(s).filter(e=>e.isOwned&&e.element===t).length;return{elementals:s,totalOwned:o,totalImmortal:l,totalEpic:c,collectionProgress:(0,a.A)((0,a.A)({},e.collectionProgress),{},{[t]:u})}})(p,e.element,e.rarity),g({element:e.element,rarity:e.rarity,name:t.name,emoji:t.emoji})}u(e=>(0,a.A)((0,a.A)({},e),{},{battleLog:h,gamePhase:"result",player:(0,a.A)((0,a.A)({},e.player),{},{elementalCollection:p})}))},[r.player.selectedElement,r.player.selectedLocation,r.player.selectedElemental,r.player.wins,r.player.winStreak,r.player.totalManaWon,r.player.currentLossStreak,r.player.losses,r.player.maxLossStreak,r.player.totalManaLost,r.currentOpponent,r.initialBattleMana,r.opponentElement,r.battleResult,r.player.elementalCollection,C]),G=(0,t.useCallback)(()=>{n("battle"),u(e=>(0,a.A)((0,a.A)({},e),{},{gamePhase:"menu",currentOpponent:null,opponentElement:null,battleLog:null,player:(0,a.A)((0,a.A)({},e.player),{},{selectedElement:null,selectedLocation:null,selectedElemental:null})}))},[]),N=(0,t.useCallback)(e=>{"result"===r.gamePhase&&u(e=>(0,a.A)((0,a.A)({},e),{},{gamePhase:"menu",currentOpponent:null,opponentElement:null,battleLog:null,player:(0,a.A)((0,a.A)({},e.player),{},{selectedElement:null,selectedLocation:null,selectedElemental:null})})),n(e)},[r.gamePhase]),D=(0,t.useCallback)(e=>{h(t=>t.filter(t=>t!==e))},[]),U=(0,t.useCallback)(()=>{g(null)},[]);(0,t.useEffect)(()=>{if(m){const e=setTimeout(()=>{g(null)},5e3);return()=>clearTimeout(e)}},[m]);const L=(0,t.useCallback)(e=>{u(t=>{const n=t.player.elementalCollection.elementals[e];if(!n||!eh(n,t.player.mana))return t;const r=th(n.rarity),o=n.level>=r&&"immortal"!==n.rarity?Jd(n.rarity):Zd(n),l=(e=>{const t=e.level+1;if(t>th(e.rarity)){const t=nh(e.rarity);return{id:Qd(e.element,t),element:e.element,rarity:t,level:1,experience:0,isOwned:!0,timesUsed:0}}return(0,a.A)((0,a.A)({},e),{},{level:t,experience:0})})(n);if(l.id!==e){const n=t.player.elementalCollection.elementals,{[e]:r}=n,c=(0,i.A)(n,[e].map(s.A)),u=(0,a.A)((0,a.A)({},c),{},{[l.id]:l}),d=Object.keys(u).length,h=Object.values(u).filter(e=>"immortal"===e.rarity).length,p=Object.values(u).filter(e=>"epic"===e.rarity).length;return(0,a.A)((0,a.A)({},t),{},{player:(0,a.A)((0,a.A)({},t.player),{},{mana:t.player.mana-o,totalElementalsCollected:d,immortalElementalsOwned:h,epicElementalsOwned:p,elementalCollection:(0,a.A)((0,a.A)({},t.player.elementalCollection),{},{elementals:u,totalOwned:d,totalImmortal:h,totalEpic:p})})})}const c=(0,a.A)((0,a.A)({},t.player.elementalCollection.elementals),{},{[e]:l}),u=Object.keys(c).length,d=Object.values(c).filter(e=>"immortal"===e.rarity).length;return(0,a.A)((0,a.A)({},t),{},{player:(0,a.A)((0,a.A)({},t.player),{},{mana:t.player.mana-o,totalElementalsCollected:u,immortalElementalsOwned:d,elementalCollection:(0,a.A)((0,a.A)({},t.player.elementalCollection),{},{elementals:c,totalOwned:u,totalImmortal:d})})})})},[]),j=(0,t.useCallback)(()=>{localStorage.removeItem("elementalGameState"),localStorage.removeItem("audioSettings"),u({player:Ah,currentOpponent:null,opponentElement:null,gamePhase:"menu",battleLog:null}),E(.2),b(!1),x(!1),h([]),f(null),g(null),n("battle"),S(!1),w(!1)},[]),z=(0,t.useCallback)(()=>{_||(x(!0),b(!0))},[_]);return(0,t.useEffect)(()=>{const e=()=>{_||(x(!0),b(!0))};if(!_)return document.addEventListener("keydown",e),document.addEventListener("click",z),()=>{document.removeEventListener("keydown",e),document.removeEventListener("click",z)}},[_,z]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(bh,{}),(0,o.jsx)(c,{isPlaying:v,volume:A}),(0,o.jsx)(wh,{isOpen:y,onClose:()=>S(!1),musicVolume:A,onMusicVolumeChange:E,onOpenRules:()=>{S(!1),w(!0)},onResetCache:j}),T&&(0,o.jsx)(Th,{onBackToSettings:()=>w(!1)}),(0,o.jsxs)("div",{className:"app",onClick:z,children:[(0,o.jsxs)("div",{className:"app-content",children:["profile"!==e&&!y&&!T&&"result"!==r.gamePhase&&"battleAnimation"!==r.gamePhase&&(0,o.jsx)(xh,{player:r.player,onClick:()=>N("profile")}),"profile"===e&&"result"!==r.gamePhase&&"battleAnimation"!==r.gamePhase&&(0,o.jsx)(yh,{player:r.player,rank:(V=r.player.level,V>=10?"Master":V>=5?"Expert":V>=3?"Adept":"Novice"),title:(X=r.player.wins,H=r.player.winStreak,H>=5?"Unstoppable Force":X>=10?"Battle Veteran":X>=5?"Skilled Warrior":"Elemental Seeker")}),"battle"===e&&"result"!==r.gamePhase&&"battleAnimation"!==r.gamePhase&&(0,o.jsx)(ph,{gameState:r,onSelectLocation:R,onSelectElement:M,onSelectElemental:P,onReturnToLocationSelection:k,onReturnToElementSelection:B,onStartMatchmaking:O,onStartBattle:I,onReturnToMenu:G}),"collection"===e&&"result"!==r.gamePhase&&"battleAnimation"!==r.gamePhase&&(0,o.jsx)(vh,{player:r.player,onLevelUpElemental:L}),"battleAnimation"===r.gamePhase&&(0,o.jsx)(Wd,{gameState:r,opponentElement:r.opponentElement,onAnimationComplete:F,battleResult:r.battleResult}),"result"===r.gamePhase&&(0,o.jsx)(fh,{gameState:r,onReturnToMenu:G})]}),d.map(e=>{const t=ch().find(t=>t.id===e);return t?(0,o.jsx)(l,{achievement:t,onDismiss:()=>D(e)},e):null}),p&&(0,o.jsx)("div",{className:"achievement-notification show",children:(0,o.jsxs)("div",{className:"achievement-popup level-up",children:[(0,o.jsx)("div",{className:"achievement-popup-icon",children:"\u2b50"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"achievement-popup-title",children:"Level Up!"}),(0,o.jsxs)("div",{className:"achievement-popup-name",children:["Level ",p]}),(0,o.jsx)("div",{className:"achievement-popup-desc",children:"You've gained a new level!"})]})]})}),m&&(0,o.jsx)("div",{className:"achievement-notification show",children:(0,o.jsxs)("div",{className:"achievement-popup elemental-reward",children:[(0,o.jsx)("div",{className:"achievement-popup-icon",children:m.emoji}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"achievement-popup-title",children:"New Elemental!"}),(0,o.jsx)("div",{className:"achievement-popup-name",children:m.name}),(0,o.jsxs)("div",{className:"achievement-popup-desc",children:["You've found a new ",m.rarity," elemental!"]}),(0,o.jsx)("button",{className:"achievement-dismiss-btn",onClick:U,children:"\u2715"})]})]})})]}),(0,o.jsx)(_h,{activeTab:e,onTabChange:N,onOpenSettings:()=>S(!0)})]});var X,H,V};var Ch;if(null!==(Ch=window.Telegram)&&void 0!==Ch&&Ch.WebApp)try{window.Telegram.WebApp.ready()}catch(Rh){}r.createRoot(document.getElementById("root")).render((0,o.jsx)(t.StrictMode,{children:(0,o.jsx)(Eh,{})}))})()})();
//# sourceMappingURL=main.cb409a19.js.map